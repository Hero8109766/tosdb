{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.scss","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/database/database.module.ts","webpack:///./src/app/database/database.route.ts","webpack:///./src/app/database/entity-detail-v2/entity-detail-map/entity-detail-map.component.html","webpack:///./src/app/database/entity-detail-v2/entity-detail-map/entity-detail-map.component.scss","webpack:///./src/app/database/entity-detail-v2/entity-detail-map/entity-detail-map.component.ts","webpack:///./src/app/database/entity-detail/entity-detail.component.html","webpack:///./src/app/database/entity-detail/entity-detail.component.scss","webpack:///./src/app/database/entity-detail/entity-detail.component.ts","webpack:///./src/app/database/entity-filter/entity-list-filter.component.html","webpack:///./src/app/database/entity-filter/entity-list-filter.component.scss","webpack:///./src/app/database/entity-filter/entity-list-filter.component.ts","webpack:///./src/app/database/entity-list/entity-list.component.html","webpack:///./src/app/database/entity-list/entity-list.component.scss","webpack:///./src/app/database/entity-list/entity-list.component.ts","webpack:///./src/app/database/resolvers/attribute-list-configuration.resolver.ts","webpack:///./src/app/database/resolvers/book-list-configuration.resolver.ts","webpack:///./src/app/database/resolvers/card-list-configuration.resolver.ts","webpack:///./src/app/database/resolvers/collection-list-configuration.resolver.ts","webpack:///./src/app/database/resolvers/cube-list-configuration.resolver.ts","webpack:///./src/app/database/resolvers/equipment-list-configuration-resolver.service.ts","webpack:///./src/app/database/resolvers/equipment-set-list-configuration.resolver.ts","webpack:///./src/app/database/resolvers/gem-list-configuration.resolver.ts","webpack:///./src/app/database/resolvers/item-list-configuration.resolver.ts","webpack:///./src/app/database/resolvers/job-list-configuration.resolver.ts","webpack:///./src/app/database/resolvers/map-list-configuration.resolver.ts","webpack:///./src/app/database/resolvers/monster-list-configuration.resolver.ts","webpack:///./src/app/database/resolvers/recipe-list-configuration.resolver.ts","webpack:///./src/app/database/resolvers/skill-list-configuration.resolver.ts","webpack:///./src/app/home/home.module.ts","webpack:///./src/app/home/patreon/patreon.component.html","webpack:///./src/app/home/patreon/patreon.component.scss","webpack:///./src/app/home/patreon/patreon.component.ts","webpack:///./src/app/home/patreon/patreon.service.ts","webpack:///./src/app/home/welcome/welcome.component.html","webpack:///./src/app/home/welcome/welcome.component.scss","webpack:///./src/app/home/welcome/welcome.component.ts","webpack:///./src/app/shared/components/entity-detail/entity-detail-AttackDefense/entity-detail-AttackDefense.component.html","webpack:///./src/app/shared/components/entity-detail/entity-detail-AttackDefense/entity-detail-AttackDefense.component.scss","webpack:///./src/app/shared/components/entity-detail/entity-detail-AttackDefense/entity-detail-AttackDefense.component.ts","webpack:///./src/app/shared/components/entity-detail/entity-detail-BonusStatsUnidentified/entity-detail-BonusStatsUnidentified.component.html","webpack:///./src/app/shared/components/entity-detail/entity-detail-BonusStatsUnidentified/entity-detail-BonusStatsUnidentified.component.scss","webpack:///./src/app/shared/components/entity-detail/entity-detail-BonusStatsUnidentified/entity-detail-BonusStatsUnidentified.component.ts","webpack:///./src/app/shared/components/entity-detail/entity-detail-Book/entity-detail-Book.component.html","webpack:///./src/app/shared/components/entity-detail/entity-detail-Book/entity-detail-Book.component.scss","webpack:///./src/app/shared/components/entity-detail/entity-detail-Book/entity-detail-Book.component.ts","webpack:///./src/app/shared/components/entity-detail/entity-detail-Card/entity-detail-Card.component.html","webpack:///./src/app/shared/components/entity-detail/entity-detail-Card/entity-detail-Card.component.scss","webpack:///./src/app/shared/components/entity-detail/entity-detail-Card/entity-detail-Card.component.ts","webpack:///./src/app/shared/components/entity-detail/entity-detail-ClassIconGrade/entity-detail-ClassIconGrade.component.html","webpack:///./src/app/shared/components/entity-detail/entity-detail-ClassIconGrade/entity-detail-ClassIconGrade.component.scss","webpack:///./src/app/shared/components/entity-detail/entity-detail-ClassIconGrade/entity-detail-ClassIconGrade.component.ts","webpack:///./src/app/shared/components/entity-detail/entity-detail-Description/entity-detail-Description.component.html","webpack:///./src/app/shared/components/entity-detail/entity-detail-Description/entity-detail-Description.component.scss","webpack:///./src/app/shared/components/entity-detail/entity-detail-Description/entity-detail-Description.component.ts","webpack:///./src/app/shared/components/entity-detail/entity-detail-DurabilityPotentialSockets/entity-detail-DurabilityPotentialSockets.component.html","webpack:///./src/app/shared/components/entity-detail/entity-detail-DurabilityPotentialSockets/entity-detail-DurabilityPotentialSockets.component.scss","webpack:///./src/app/shared/components/entity-detail/entity-detail-DurabilityPotentialSockets/entity-detail-DurabilityPotentialSockets.component.ts","webpack:///./src/app/shared/components/entity-detail/entity-detail-Enhancement/entity-detail-Enhancement.component.html","webpack:///./src/app/shared/components/entity-detail/entity-detail-Enhancement/entity-detail-Enhancement.component.scss","webpack:///./src/app/shared/components/entity-detail/entity-detail-Enhancement/entity-detail-Enhancement.component.ts","webpack:///./src/app/shared/components/entity-detail/entity-detail-Gem/entity-detail-Gem.component.html","webpack:///./src/app/shared/components/entity-detail/entity-detail-Gem/entity-detail-Gem.component.scss","webpack:///./src/app/shared/components/entity-detail/entity-detail-Gem/entity-detail-Gem.component.ts","webpack:///./src/app/shared/components/entity-detail/entity-detail-Header/entity-detail-header.component.html","webpack:///./src/app/shared/components/entity-detail/entity-detail-Header/entity-detail-header.component.scss","webpack:///./src/app/shared/components/entity-detail/entity-detail-Header/entity-detail-header.component.ts","webpack:///./src/app/shared/components/entity-detail/entity-detail-Information/entity-detail-Information.component.html","webpack:///./src/app/shared/components/entity-detail/entity-detail-Information/entity-detail-Information.component.scss","webpack:///./src/app/shared/components/entity-detail/entity-detail-Information/entity-detail-Information.component.ts","webpack:///./src/app/shared/components/entity-detail/entity-detail-JobAnimation/entity-detail-JobAnimation.component.html","webpack:///./src/app/shared/components/entity-detail/entity-detail-JobAnimation/entity-detail-JobAnimation.component.scss","webpack:///./src/app/shared/components/entity-detail/entity-detail-JobAnimation/entity-detail-JobAnimation.component.ts","webpack:///./src/app/shared/components/entity-detail/entity-detail-JobIcon/skill-builder-job-icon.component.html","webpack:///./src/app/shared/components/entity-detail/entity-detail-JobIcon/skill-builder-job-icon.component.scss","webpack:///./src/app/shared/components/entity-detail/entity-detail-JobIcon/skill-builder-job-icon.component.ts","webpack:///./src/app/shared/components/entity-detail/entity-detail-Skill/entity-detail-Skill.component.html","webpack:///./src/app/shared/components/entity-detail/entity-detail-Skill/entity-detail-Skill.component.scss","webpack:///./src/app/shared/components/entity-detail/entity-detail-Skill/entity-detail-Skill.component.ts","webpack:///./src/app/shared/components/entity-detail/entity-detail-SkillFormula/entity-detail-SkillFormula.component.html","webpack:///./src/app/shared/components/entity-detail/entity-detail-SkillFormula/entity-detail-SkillFormula.component.scss","webpack:///./src/app/shared/components/entity-detail/entity-detail-SkillFormula/entity-detail-SkillFormula.component.ts","webpack:///./src/app/shared/components/entity-detail/entity-detail-Stats/entity-detail-Stats.component.html","webpack:///./src/app/shared/components/entity-detail/entity-detail-Stats/entity-detail-Stats.component.scss","webpack:///./src/app/shared/components/entity-detail/entity-detail-Stats/entity-detail-Stats.component.ts","webpack:///./src/app/shared/components/entity-detail/entity-detail-Table/entity-detail-Table.component.html","webpack:///./src/app/shared/components/entity-detail/entity-detail-Table/entity-detail-Table.component.scss","webpack:///./src/app/shared/components/entity-detail/entity-detail-Table/entity-detail-Table.component.ts","webpack:///./src/app/shared/components/entity-detail/entity-detail-child.component.ts","webpack:///./src/app/shared/components/entity-table/entity-table.component.html","webpack:///./src/app/shared/components/entity-table/entity-table.component.scss","webpack:///./src/app/shared/components/entity-table/entity-table.component.ts","webpack:///./src/app/shared/components/entity-table/pipes/table-cell-badge.pipe.ts","webpack:///./src/app/shared/components/entity-table/pipes/table-cell-icon.pipe.ts","webpack:///./src/app/shared/components/entity-table/pipes/table-cell-link.pipe.ts","webpack:///./src/app/shared/components/entity-table/pipes/table-cell-number.pipe.ts","webpack:///./src/app/shared/components/entity-table/pipes/table-cell-text.pipe.ts","webpack:///./src/app/shared/components/entity-table/pipes/table-cell.pipe.ts","webpack:///./src/app/shared/components/entity-tooltip/entity-tooltip.component.html","webpack:///./src/app/shared/components/entity-tooltip/entity-tooltip.component.scss","webpack:///./src/app/shared/components/entity-tooltip/entity-tooltip.component.ts","webpack:///./src/app/shared/components/input-number/input-number.component.html","webpack:///./src/app/shared/components/input-number/input-number.component.scss","webpack:///./src/app/shared/components/input-number/input-number.component.ts","webpack:///./src/app/shared/directives/css-max-height.directive.ts","webpack:///./src/app/shared/directives/filter.directive.ts","webpack:///./src/app/shared/directives/group-child.directive.ts","webpack:///./src/app/shared/directives/sanitize-css.pipe.ts","webpack:///./src/app/shared/directives/sanitize-html.pipe.ts","webpack:///./src/app/shared/directives/sort.directive.ts","webpack:///./src/app/shared/directives/time.pipe.ts","webpack:///./src/app/shared/domain/tos-region.ts","webpack:///./src/app/shared/domain/tos/attribute/tos-attribute.model.ts","webpack:///./src/app/shared/domain/tos/attribute/tos-attribute.resolver.ts","webpack:///./src/app/shared/domain/tos/item/book/tos-book.model.ts","webpack:///./src/app/shared/domain/tos/item/book/tos-book.resolver.ts","webpack:///./src/app/shared/domain/tos/item/card/tos-card.model.ts","webpack:///./src/app/shared/domain/tos/item/card/tos-card.resolver.ts","webpack:///./src/app/shared/domain/tos/item/collection/tos-collection.model.ts","webpack:///./src/app/shared/domain/tos/item/collection/tos-collection.resolver.ts","webpack:///./src/app/shared/domain/tos/item/cube/tos-cube.model.ts","webpack:///./src/app/shared/domain/tos/item/cube/tos-cube.resolver.ts","webpack:///./src/app/shared/domain/tos/item/equipment/tos-equipment-set.resolver.ts","webpack:///./src/app/shared/domain/tos/item/equipment/tos-equipment.model.ts","webpack:///./src/app/shared/domain/tos/item/equipment/tos-equipment.resolver.ts","webpack:///./src/app/shared/domain/tos/item/gem/tos-gem.model.ts","webpack:///./src/app/shared/domain/tos/item/gem/tos-gem.resolver.ts","webpack:///./src/app/shared/domain/tos/item/recipe/tos-recipe.model.ts","webpack:///./src/app/shared/domain/tos/item/recipe/tos-recipe.resolver.ts","webpack:///./src/app/shared/domain/tos/item/tos-item.model.ts","webpack:///./src/app/shared/domain/tos/item/tos-item.resolver.ts","webpack:///./src/app/shared/domain/tos/job/tos-job.model.ts","webpack:///./src/app/shared/domain/tos/job/tos-job.resolver.ts","webpack:///./src/app/shared/domain/tos/map/tos-map.model.ts","webpack:///./src/app/shared/domain/tos/map/tos-map.resolver.ts","webpack:///./src/app/shared/domain/tos/monster/tos-monster.model.ts","webpack:///./src/app/shared/domain/tos/monster/tos-monster.resolver.ts","webpack:///./src/app/shared/domain/tos/monster/tos-npc.model.ts","webpack:///./src/app/shared/domain/tos/monster/tos-npc.resolver.ts","webpack:///./src/app/shared/domain/tos/skill/tos-skill.model.ts","webpack:///./src/app/shared/domain/tos/skill/tos-skill.resolver.ts","webpack:///./src/app/shared/domain/tos/tos-build.ts","webpack:///./src/app/shared/domain/tos/tos-domain.repository.ts","webpack:///./src/app/shared/domain/tos/tos-domain.service.ts","webpack:///./src/app/shared/domain/tos/tos-domain.ts","webpack:///./src/app/shared/domain/tos/tos-entity.model.ts","webpack:///./src/app/shared/service/CRUD.resolver.ts","webpack:///./src/app/shared/service/analytics.service.ts","webpack:///./src/app/shared/service/clipboard.service.ts","webpack:///./src/app/shared/service/integrations/tiny-url.service.ts","webpack:///./src/app/shared/service/integrations/tos-neet.service.ts","webpack:///./src/app/shared/service/lua.service.ts","webpack:///./src/app/shared/service/route.service.ts","webpack:///./src/app/shared/service/seo.service.ts","webpack:///./src/app/shared/service/sw.service.ts","webpack:///./src/app/shared/service/theme.service.ts","webpack:///./src/app/shared/service/tos-search.service.ts","webpack:///./src/app/shared/service/tos-url.service.ts","webpack:///./src/app/shared/service/update.service.ts","webpack:///./src/app/shared/shared.module.ts","webpack:///./src/app/shared/utils/array-utils.ts","webpack:///./src/app/shell/footer/footer.component.html","webpack:///./src/app/shell/footer/footer.component.scss","webpack:///./src/app/shell/footer/footer.component.ts","webpack:///./src/app/shell/header/header-search/header-search.component.html","webpack:///./src/app/shell/header/header-search/header-search.component.scss","webpack:///./src/app/shell/header/header-search/header-search.component.ts","webpack:///./src/app/shell/header/header.component.html","webpack:///./src/app/shell/header/header.component.scss","webpack:///./src/app/shell/header/header.component.ts","webpack:///./src/app/shell/loading/loading.component.html","webpack:///./src/app/shell/loading/loading.component.scss","webpack:///./src/app/shell/loading/loading.component.ts","webpack:///./src/app/shell/loading/loading.service.ts","webpack:///./src/app/shell/shell.module.ts","webpack:///./src/app/shell/shell/shell.component.html","webpack:///./src/app/shell/shell/shell.component.scss","webpack:///./src/app/shell/shell/shell.component.ts","webpack:///./src/app/skill-simulator/skill-builder/skill-builder-job-rank-list/skill-builder-job-rank-list.component.html","webpack:///./src/app/skill-simulator/skill-builder/skill-builder-job-rank-list/skill-builder-job-rank-list.component.scss","webpack:///./src/app/skill-simulator/skill-builder/skill-builder-job-rank-list/skill-builder-job-rank-list.component.ts","webpack:///./src/app/skill-simulator/skill-builder/skill-builder-job-rank/skill-builder-job-rank.component.html","webpack:///./src/app/skill-simulator/skill-builder/skill-builder-job-rank/skill-builder-job-rank.component.scss","webpack:///./src/app/skill-simulator/skill-builder/skill-builder-job-rank/skill-builder-job-rank.component.ts","webpack:///./src/app/skill-simulator/skill-builder/skill-builder-job-selector/skill-builder-job-selector.component.html","webpack:///./src/app/skill-simulator/skill-builder/skill-builder-job-selector/skill-builder-job-selector.component.scss","webpack:///./src/app/skill-simulator/skill-builder/skill-builder-job-selector/skill-builder-job-selector.component.ts","webpack:///./src/app/skill-simulator/skill-builder/skill-builder-job/skill-builder-job.component.html","webpack:///./src/app/skill-simulator/skill-builder/skill-builder-job/skill-builder-job.component.scss","webpack:///./src/app/skill-simulator/skill-builder/skill-builder-job/skill-builder-job.component.ts","webpack:///./src/app/skill-simulator/skill-builder/skill-builder-skill/skill-builder-skill.component.html","webpack:///./src/app/skill-simulator/skill-builder/skill-builder-skill/skill-builder-skill.component.scss","webpack:///./src/app/skill-simulator/skill-builder/skill-builder-skill/skill-builder-skill.component.ts","webpack:///./src/app/skill-simulator/skill-builder/skill-builder-stat-selector/skill-builder-stat-selector.component.html","webpack:///./src/app/skill-simulator/skill-builder/skill-builder-stat-selector/skill-builder-stat-selector.component.scss","webpack:///./src/app/skill-simulator/skill-builder/skill-builder-stat-selector/skill-builder-stat-selector.component.ts","webpack:///./src/app/skill-simulator/skill-builder/skill-builder.component.html","webpack:///./src/app/skill-simulator/skill-builder/skill-builder.component.scss","webpack:///./src/app/skill-simulator/skill-builder/skill-builder.component.ts","webpack:///./src/app/skill-simulator/skill-simulator.module.ts","webpack:///./src/app/skill-simulator/skill-simulator.route.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {RouteService} from \"./shared/service/route.service\";\nimport {ROUTES_DATABASE} from \"./database/database.route\";\nimport {ROUTES_SKILL_SIMULATOR} from \"./skill-simulator/skill-simulator.route\";\nimport {HomeModule} from \"./home/home.module\";\nimport {DatabaseModule} from \"./database/database.module\";\nimport {SkillSimulatorModule} from \"./skill-simulator/skill-simulator.module\";\nimport {WelcomeComponent} from \"./home/welcome/welcome.component\";\nimport {PatreonComponent} from \"./home/patreon/patreon.component\";\n\nconst ROUTES_APP: Routes = [\n  {\n    path: 'database',\n    children: ROUTES_DATABASE,\n  },\n  {\n    path: 'home',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: WelcomeComponent,\n  },\n  {\n    path: 'patreon',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: PatreonComponent,\n  },\n  {\n    path: 'simulator',\n    children: ROUTES_SKILL_SIMULATOR,\n  },\n  {\n    path: '**',\n    redirectTo: 'home',\n  },\n];\n\nconst ROUTES_REGION: Routes = [\n  {\n    path: '',\n    redirectTo: '/itos/home',\n    pathMatch: 'full'\n  },\n  {\n    path: 'itos',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    children: ROUTES_APP,\n  },\n  {\n    path: 'jtos',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    children: ROUTES_APP,\n  },\n  {\n    path: 'ktest',\n    children: ROUTES_APP,\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n  },\n  {\n    path: 'ktos',\n    children: ROUTES_APP,\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n  },\n  {\n    path: 'twtos',\n    children: ROUTES_APP,\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n  },\n  {\n    matcher: RouteService.UrlMatcher,\n    redirectTo: '/itos/:redirect',\n    pathMatch: 'full'\n  }\n];\n\n@NgModule({\n  imports: [\n    DatabaseModule,\n    HomeModule,\n    SkillSimulatorModule,\n    RouterModule.forRoot(ROUTES_REGION, {\n      anchorScrolling: 'enabled',\n      //enableTracing: true,\n      onSameUrlNavigation: 'ignore',\n      scrollPositionRestoration: 'disabled' // Note: as of angular 6.1, when 'enabled', we can't disable it for specific routes (e.g. the simulator)\n    })\n  ],\n  exports: [RouterModule],\n})\nexport class AppRoutingModule { }\n","module.exports = \"<tos-loading></tos-loading>\\n<tos-shell>\\n  <router-outlet></router-outlet>\\n</tos-shell>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJ9 */\"","import {ChangeDetectionStrategy, Component} from '@angular/core';\nimport {NgbTooltipConfig} from \"@ng-bootstrap/ng-bootstrap\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n\n  constructor(private ngbTooltipConfig: NgbTooltipConfig) {\n    this.ngbTooltipConfig.disableTooltip = !!('ontouchstart' in window || navigator.msMaxTouchPoints);\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {HttpClientModule} from '@angular/common/http';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {FontAwesomeModule} from \"@fortawesome/angular-fontawesome\";\nimport {NgbModule} from \"@ng-bootstrap/ng-bootstrap\";\n\nimport {AppComponent} from './app.component';\nimport {AppRoutingModule} from './app-routing.module';\nimport {SharedModule} from './shared/shared.module';\nimport {ShellModule} from './shell/shell.module';\nimport {LoadingComponent} from \"./shell/loading/loading.component\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    LoadingComponent,\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n\n    FontAwesomeModule,\n    NgbModule,\n\n    SharedModule.forRoot(),\n    AppRoutingModule,\n    ShellModule,\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import {NgModule} from '@angular/core';\n\nimport {SharedModule} from \"../shared/shared.module\";\nimport {EntityListFilterComponent} from './entity-filter/entity-list-filter.component';\nimport {EntityDetailComponent} from \"./entity-detail/entity-detail.component\";\nimport {EntityListComponent} from \"./entity-list/entity-list.component\";\nimport {AttributeListConfigurationResolver} from \"./resolvers/attribute-list-configuration.resolver\";\nimport {BookListConfigurationResolver} from \"./resolvers/book-list-configuration.resolver\";\nimport {CardListConfigurationResolver} from \"./resolvers/card-list-configuration.resolver\";\nimport {CollectionListConfigurationResolver} from \"./resolvers/collection-list-configuration.resolver\";\nimport {CubeListConfigurationResolver} from \"./resolvers/cube-list-configuration.resolver\";\nimport {EquipmentListConfigurationResolver} from \"./resolvers/equipment-list-configuration-resolver.service\";\nimport {EquipmentSetListConfigurationResolver} from \"./resolvers/equipment-set-list-configuration.resolver\";\nimport {GemListConfigurationResolver} from \"./resolvers/gem-list-configuration.resolver\";\nimport {ItemListConfigurationResolver} from \"./resolvers/item-list-configuration.resolver\";\nimport {JobListConfigurationResolver} from \"./resolvers/job-list-configuration.resolver\";\nimport {MonsterListConfigurationResolver} from \"./resolvers/monster-list-configuration.resolver\";\nimport {RecipeListConfigurationResolver} from \"./resolvers/recipe-list-configuration.resolver\";\nimport {SkillListConfigurationResolver} from \"./resolvers/skill-list-configuration.resolver\";\nimport {MapListConfigurationResolver} from \"./resolvers/map-list-configuration.resolver\";\nimport {EntityDetailMapComponent} from './entity-detail-v2/entity-detail-map/entity-detail-map.component';\n\n@NgModule({\n  imports: [\n    SharedModule,\n  ],\n  declarations: [\n    EntityDetailComponent,\n    EntityListComponent,\n    EntityListFilterComponent,\n    EntityDetailMapComponent,\n  ],\n  providers: [\n    AttributeListConfigurationResolver,\n    BookListConfigurationResolver,\n    CardListConfigurationResolver,\n    CollectionListConfigurationResolver,\n    CubeListConfigurationResolver,\n    EquipmentListConfigurationResolver,\n    EquipmentSetListConfigurationResolver,\n    GemListConfigurationResolver,\n    ItemListConfigurationResolver,\n    JobListConfigurationResolver,\n    MapListConfigurationResolver,\n    MonsterListConfigurationResolver,\n    RecipeListConfigurationResolver,\n    SkillListConfigurationResolver,\n  ]\n})\nexport class DatabaseModule { }\n","import {Routes} from '@angular/router';\nimport {TOSItemResolver} from \"../shared/domain/tos/item/tos-item.resolver\";\nimport {ItemListConfigurationResolver} from \"./resolvers/item-list-configuration.resolver\";\nimport {EquipmentListConfigurationResolver} from \"./resolvers/equipment-list-configuration-resolver.service\";\nimport {TOSEquipmentResolver} from \"../shared/domain/tos/item/equipment/tos-equipment.resolver\";\nimport {BookListConfigurationResolver} from \"./resolvers/book-list-configuration.resolver\";\nimport {TOSBookResolver} from \"../shared/domain/tos/item/book/tos-book.resolver\";\nimport {CollectionListConfigurationResolver} from \"./resolvers/collection-list-configuration.resolver\";\nimport {TOSCollectionResolver} from \"../shared/domain/tos/item/collection/tos-collection.resolver\";\nimport {MonsterListConfigurationResolver} from \"./resolvers/monster-list-configuration.resolver\";\nimport {TOSMonsterResolver} from \"../shared/domain/tos/monster/tos-monster.resolver\";\nimport {EntityDetailComponent} from \"./entity-detail/entity-detail.component\";\nimport {EntityListComponent} from \"./entity-list/entity-list.component\";\nimport {TOSRecipeResolver} from \"../shared/domain/tos/item/recipe/tos-recipe.resolver\";\nimport {RecipeListConfigurationResolver} from \"./resolvers/recipe-list-configuration.resolver\";\nimport {EquipmentSetListConfigurationResolver} from \"./resolvers/equipment-set-list-configuration.resolver\";\nimport {CubeListConfigurationResolver} from \"./resolvers/cube-list-configuration.resolver\";\nimport {TOSCubeResolver} from \"../shared/domain/tos/item/cube/tos-cube.resolver\";\nimport {TOSEquipmentSetResolver} from \"../shared/domain/tos/item/equipment/tos-equipment-set.resolver\";\nimport {CardListConfigurationResolver} from \"./resolvers/card-list-configuration.resolver\";\nimport {TOSCardResolver} from \"../shared/domain/tos/item/card/tos-card.resolver\";\nimport {GemListConfigurationResolver} from \"./resolvers/gem-list-configuration.resolver\";\nimport {TOSGemResolver} from \"../shared/domain/tos/item/gem/tos-gem.resolver\";\nimport {TOSAttributeResolver} from \"../shared/domain/tos/attribute/tos-attribute.resolver\";\nimport {AttributeListConfigurationResolver} from \"./resolvers/attribute-list-configuration.resolver\";\nimport {SkillListConfigurationResolver} from \"./resolvers/skill-list-configuration.resolver\";\nimport {TOSSkillResolver} from \"../shared/domain/tos/skill/tos-skill.resolver\";\nimport {JobListConfigurationResolver} from \"./resolvers/job-list-configuration.resolver\";\nimport {TOSJobResolver} from \"../shared/domain/tos/job/tos-job.resolver\";\nimport {RouteService} from \"../shared/service/route.service\";\nimport {MapListConfigurationResolver} from \"./resolvers/map-list-configuration.resolver\";\nimport {TOSMapResolver} from \"../shared/domain/tos/map/tos-map.resolver\";\nimport {EntityDetailMapComponent} from \"./entity-detail-v2/entity-detail-map/entity-detail-map.component\";\nimport {TOSNPCResolver} from \"../shared/domain/tos/monster/tos-npc.resolver\";\n\nexport const ROUTES_DATABASE: Routes = [\n  {\n    path: '',\n    redirectTo: 'items',\n    pathMatch: 'full'\n  },\n  {\n    path: 'attributes',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityListComponent,\n    resolve: {\n      configuration: AttributeListConfigurationResolver,\n      response: TOSAttributeResolver,\n    },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'attributes/:id',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityDetailComponent,\n    resolve: { response: TOSAttributeResolver },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'books',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityListComponent,\n    resolve: {\n      configuration: BookListConfigurationResolver,\n      response: TOSBookResolver,\n    },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'books/:id',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityDetailComponent,\n    resolve: { response: TOSBookResolver },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'cards',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityListComponent,\n    resolve: {\n      configuration: CardListConfigurationResolver,\n      response: TOSCardResolver,\n    },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'cards/:id',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityDetailComponent,\n    resolve: { response: TOSCardResolver },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'classes',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityListComponent,\n    resolve: {\n      configuration: JobListConfigurationResolver,\n      response: TOSJobResolver,\n    },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'classes/:id',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityDetailComponent,\n    resolve: { response: TOSJobResolver },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'collections',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityListComponent,\n    resolve: {\n      configuration: CollectionListConfigurationResolver,\n      response: TOSCollectionResolver,\n    },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'collections/:id',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityDetailComponent,\n    resolve: { response: TOSCollectionResolver },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'cubes',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityListComponent,\n    resolve: {\n      configuration: CubeListConfigurationResolver,\n      response: TOSCubeResolver,\n    },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'cubes/:id',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityDetailComponent,\n    resolve: { response: TOSCubeResolver },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'equipment',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityListComponent,\n    resolve: {\n      configuration: EquipmentListConfigurationResolver,\n      response: TOSEquipmentResolver,\n    },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'equipment/:id',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityDetailComponent,\n    resolve: { response: TOSEquipmentResolver },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'equipment-sets',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityListComponent,\n    resolve: {\n      configuration: EquipmentSetListConfigurationResolver,\n      response: TOSEquipmentSetResolver,\n    },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'equipment-sets/:id',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityDetailComponent,\n    resolve: { response: TOSEquipmentSetResolver },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'gems',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityListComponent,\n    resolve: {\n      configuration: GemListConfigurationResolver,\n      response: TOSGemResolver,\n    },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'gems/:id',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityDetailComponent,\n    resolve: { response: TOSGemResolver },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'items',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityListComponent,\n    resolve: {\n      configuration: ItemListConfigurationResolver,\n      response: TOSItemResolver,\n    },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'items/:id',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityDetailComponent,\n    resolve: { response: TOSItemResolver },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'maps',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityListComponent,\n    resolve: {\n      configuration: MapListConfigurationResolver,\n      response: TOSMapResolver,\n    },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'maps/:id',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityDetailMapComponent,\n    resolve: { response: TOSMapResolver },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'monsters',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityListComponent,\n    resolve: {\n      configuration: MonsterListConfigurationResolver,\n      response: TOSMonsterResolver,\n    },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'monsters/:id',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityDetailComponent,\n    resolve: { response: TOSMonsterResolver },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  /*\n  {\n    path: 'npcs',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityListComponent,\n    resolve: {\n      configuration: NPCListConfigurationResolver,\n      response: TOSNPCResolver,\n    },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  */\n  {\n    path: 'npcs/:id',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityDetailComponent,\n    resolve: { response: TOSNPCResolver },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'recipes',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityListComponent,\n    resolve: {\n      configuration: RecipeListConfigurationResolver,\n      response: TOSRecipeResolver,\n    },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'recipes/:id',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityDetailComponent,\n    resolve: { response: TOSRecipeResolver },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'skills',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityListComponent,\n    resolve: {\n      configuration: SkillListConfigurationResolver,\n      response: TOSSkillResolver,\n    },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n  {\n    path: 'skills/:id',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: EntityDetailComponent,\n    resolve: { response: TOSSkillResolver },\n    runGuardsAndResolvers: 'paramsOrQueryParamsChange',\n  },\n];\n","module.exports = \"<div class=\\\"container\\\">\\n\\n  <!-- Header -->\\n  <tos-entity-detail-Header class=\\\"h4 mb-3\\\" [entity]=\\\"map\\\" [idName]=\\\"true\\\"></tos-entity-detail-Header>\\n\\n  <!-- Map Viewer -->\\n  <div class=\\\"card bg-light mb-4\\\">\\n    <div class=\\\"card-body\\\">\\n      <div class=\\\"position-relative\\\" style=\\\"overflow: hidden\\\" cssMaxHeight=\\\"calc(100% - 80px - 60px - 9rem)\\\">\\n        <!-- Filter -->\\n        <div class=\\\"d-flex flex-column position-absolute ml-1 mt-1\\\" style=\\\"left: 0; z-index: 1\\\">\\n          <button class=\\\"btn btn-primary rounded-circle\\\" (click)=\\\"filter = true\\\"><fa-icon [icon]=\\\"faFilter\\\"></fa-icon></button>\\n        </div>\\n\\n        <!-- Filter Overlay -->\\n        <div class=\\\"d-flex flex-column bg-light h-100 position-absolute pr-sm-3 shadow\\\" style=\\\"max-width: 100%; width: 400px; z-index: 2; transition: all ease-in-out 0.2s\\\"\\n             [ngStyle]=\\\"{ 'left': filter ? '0' : '-420px', 'opacity': filter ? '1' : '0' }\\\">\\n          <div class=\\\"d-flex align-items-center ml-1 mt-1\\\">\\n            <button class=\\\"btn btn-primary rounded-circle\\\" (click)=\\\"filter = false\\\"><fa-icon [icon]=\\\"faTimes\\\"></fa-icon></button>\\n            <h5 class=\\\"mb-0 ml-3\\\">Filter</h5>\\n          </div>\\n\\n          <div class=\\\"d-flex flex-column flex-grow-1\\\">\\n            <h5 *ngIf=\\\"spawnsMonsters?.length\\\" class=\\\"bg-primary mb-2 mt-3 pl-3 pr-3 pt-1 pb-1 rounded text-white w-100\\\">Monsters</h5>\\n            <tos-entity-table *ngIf=\\\"spawnsMonsters?.length\\\" class=\\\"flex-grow-1\\\" style=\\\"flex-basis: 0\\\"\\n                              [columns]=\\\"COLUMNS_MAPS_NPCS\\\"\\n                              [data]=\\\"spawnsMonsters\\\"\\n                              [header]=\\\"false\\\"\\n                              [hideMobile]=\\\"true\\\"\\n                              [hideTablet]=\\\"true\\\"\\n                              [selected]=\\\"true\\\"\\n            ></tos-entity-table>\\n\\n            <h5 *ngIf=\\\"spawnsNPCs?.length\\\" class=\\\"bg-primary mb-2 mt-3 pl-3 pr-3 pt-1 pb-1 rounded text-white w-100\\\">NPCs</h5>\\n            <tos-entity-table *ngIf=\\\"spawnsNPCs?.length\\\" class=\\\"flex-grow-1\\\" style=\\\"flex-basis: 0\\\"\\n                              [columns]=\\\"COLUMNS_MAPS_NPCS\\\"\\n                              [data]=\\\"spawnsNPCs\\\"\\n                              [header]=\\\"false\\\"\\n                              [hideMobile]=\\\"true\\\"\\n                              [hideTablet]=\\\"true\\\"\\n                              [selected]=\\\"true\\\"\\n            ></tos-entity-table>\\n\\n            <h5 *ngIf=\\\"spawnsTreasures?.length\\\" class=\\\"bg-primary mb-2 mt-3 pl-3 pr-3 pt-1 pb-1 rounded text-white w-100\\\">Treasures</h5>\\n            <tos-entity-table *ngIf=\\\"spawnsTreasures?.length\\\" class=\\\"flex-grow-1\\\" style=\\\"flex-basis: 0\\\"\\n                              [columns]=\\\"COLUMNS_MAPS_NPCS\\\"\\n                              [data]=\\\"spawnsTreasures\\\"\\n                              [header]=\\\"false\\\"\\n                              [hideMobile]=\\\"true\\\"\\n                              [hideTablet]=\\\"true\\\"\\n                              [selected]=\\\"true\\\"\\n            ></tos-entity-table>\\n          </div>\\n\\n        </div>\\n\\n        <!-- Map Level / Stars -->\\n        <div class=\\\"position-absolute mt-1 text-center text-outline text-white w-100\\\" style=\\\"pointer-events: none; z-index: 1\\\">\\n          <h5 class=\\\"mb-0\\\">Level {{ map.Level }}</h5>\\n          <h5 class=\\\"text-warning\\\"><span *ngFor=\\\"let x of mapStars\\\">★</span></h5>\\n        </div>\\n\\n        <!-- Zoom In/Out -->\\n        <div class=\\\"d-flex flex-column position-absolute mr-1 mt-1\\\" style=\\\"right: 0; z-index: 1\\\">\\n          <button class=\\\"btn btn-primary rounded-circle mb-2\\\" (click)=\\\"onMapScale(1)\\\"><fa-icon [icon]=\\\"faSearchPlus\\\"></fa-icon></button>\\n          <button class=\\\"btn btn-primary rounded-circle\\\" (click)=\\\"onMapScale(-1)\\\"><fa-icon [icon]=\\\"faSearchMinus\\\"></fa-icon></button>\\n        </div>\\n\\n        <!-- Map -->\\n        <div class=\\\"map-container\\\" style=\\\"cursor: move; touch-action: none\\\" #mapElement\\n             (pointerdown)=\\\"onMapMouseDown($event)\\\"\\n             (mousewheel)=\\\"onMapMouseWheel($event)\\\">\\n          <div class=\\\"map\\\">\\n            <img [src]=\\\"map.Layout\\\" (load)=\\\"onMapLoad($event)\\\" />\\n\\n            <div *ngFor=\\\"let spawn of spawns\\\" class=\\\"map-icon-container\\\"\\n                 [ngClass]=\\\"{ 'd-none': !spawn.Selected }\\\">\\n              <img *ngFor=\\\"let position of spawn.Positions\\\" class=\\\"map-icon\\\"\\n                   [src]=\\\"spawn.Icon\\\"\\n                   [style.top]=\\\"position[1] + 'px'\\\"\\n                   [style.left]=\\\"position[0] + 'px'\\\"\\n                   [title]=\\\"spawn.Name\\\" />\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"row\\\">\\n\\n    <!-- Connected Maps -->\\n    <tos-entity-detail-Table class=\\\"col-md-6 mb-4\\\"\\n                             [columns]=\\\"COLUMNS_MAPS\\\"\\n                             [data$]=\\\"map.Link_Maps\\\"\\n                             [entity]=\\\"map\\\"\\n                             [header]=\\\"'Connected Maps'\\\"\\n    ></tos-entity-detail-Table>\\n\\n    <!-- Exploration Rewards -->\\n    <tos-entity-detail-Table class=\\\"col-md-6 mb-4\\\"\\n                             [columns]=\\\"COLUMNS_MAPS_ITEMS\\\"\\n                             [data$]=\\\"map.Link_Items_Exploration\\\"\\n                             [entity]=\\\"map\\\"\\n                             [header]=\\\"'Exploration Rewards'\\\"\\n    ></tos-entity-detail-Table>\\n\\n    <!-- Global Drops -->\\n    <tos-entity-detail-Table class=\\\"col-md-6 mb-4\\\" *ngIf=\\\"map.Link_Items\\\"\\n                             [columns]=\\\"COLUMNS_MAPS_ITEMS\\\"\\n                             [data$]=\\\"map.Link_Items\\\"\\n                             [entity]=\\\"map\\\"\\n                             [header]=\\\"'Global Drops'\\\"\\n    ></tos-entity-detail-Table>\\n\\n  </div>\\n</div>\\n\"","module.exports = \".card button {\\n  height: 40px;\\n  width: 40px;\\n}\\n\\n.map {\\n  max-width: 100%;\\n  overflow: hidden;\\n  transform: rotate(45deg);\\n}\\n\\n.map-container {\\n  overflow: hidden;\\n  transform-origin: 0 0;\\n}\\n\\n.map-icon {\\n  position: absolute;\\n  height: 32px;\\n  width: 32px;\\n  margin-left: -16px;\\n  margin-top: -16px;\\n  transform: rotate(-45deg) scale(calc(1 / var(--scale)));\\n}\\n\\n.map-icon-container {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9kYXRhYmFzZS9lbnRpdHktZGV0YWlsLXYyL2VudGl0eS1kZXRhaWwtbWFwL2VudGl0eS1kZXRhaWwtbWFwLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9kYXRhYmFzZS9lbnRpdHktZGV0YWlsLXYyL2VudGl0eS1kZXRhaWwtbWFwL2VudGl0eS1kZXRhaWwtbWFwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0UsYUFBQTtFQUNBLFlBQUE7Q0NERDs7QURJRDtFQUNFLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSx5QkFBQTtDQ0REOztBREdEO0VBQ0UsaUJBQUE7RUFDQSxzQkFBQTtDQ0FEOztBREVEO0VBQ0UsbUJBQUE7RUFDQSxhQWxCYztFQW1CZCxZQW5CYztFQW9CZCxtQkFBQTtFQUNBLGtCQUFBO0VBQ0Esd0RBQUE7Q0NDRDs7QURDRDtFQUNFLG1CQUFBO0VBQ0EsUUFBQTtFQUNBLE9BQUE7Q0NFRCIsImZpbGUiOiJzcmMvYXBwL2RhdGFiYXNlL2VudGl0eS1kZXRhaWwtdjIvZW50aXR5LWRldGFpbC1tYXAvZW50aXR5LWRldGFpbC1tYXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIkbWFwLWljb24tc2l6ZTogMzJweDtcblxuLmNhcmQgYnV0dG9uIHtcbiAgaGVpZ2h0OiA0MHB4O1xuICB3aWR0aDogNDBweDtcbn1cblxuLm1hcCB7XG4gIG1heC13aWR0aDogMTAwJTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpO1xufVxuLm1hcC1jb250YWluZXIge1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XG59XG4ubWFwLWljb24ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGhlaWdodDogJG1hcC1pY29uLXNpemU7XG4gIHdpZHRoOiAkbWFwLWljb24tc2l6ZTtcbiAgbWFyZ2luLWxlZnQ6IC0kbWFwLWljb24tc2l6ZSAvIDI7XG4gIG1hcmdpbi10b3A6IC0kbWFwLWljb24tc2l6ZSAvIDI7XG4gIHRyYW5zZm9ybTogcm90YXRlKC00NWRlZykgc2NhbGUoY2FsYygxIC8gdmFyKC0tc2NhbGUpKSk7XG59XG4ubWFwLWljb24tY29udGFpbmVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwO1xuICB0b3A6IDA7XG59XG4iLCIuY2FyZCBidXR0b24ge1xuICBoZWlnaHQ6IDQwcHg7XG4gIHdpZHRoOiA0MHB4O1xufVxuXG4ubWFwIHtcbiAgbWF4LXdpZHRoOiAxMDAlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7XG59XG5cbi5tYXAtY29udGFpbmVyIHtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xufVxuXG4ubWFwLWljb24ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGhlaWdodDogMzJweDtcbiAgd2lkdGg6IDMycHg7XG4gIG1hcmdpbi1sZWZ0OiAtMTZweDtcbiAgbWFyZ2luLXRvcDogLTE2cHg7XG4gIHRyYW5zZm9ybTogcm90YXRlKC00NWRlZykgc2NhbGUoY2FsYygxIC8gdmFyKC0tc2NhbGUpKSk7XG59XG5cbi5tYXAtaWNvbi1jb250YWluZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHRvcDogMDtcbn0iXX0= */\"","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  NgZone,\n  OnInit,\n  ViewChild\n} from '@angular/core';\nimport {EntityDetailComponent} from \"../../entity-detail/entity-detail.component\";\nimport {faFilter, faSearchMinus, faSearchPlus, faStar, faTimes} from '@fortawesome/free-solid-svg-icons';\nimport {TOSMapLinkNPC} from \"../../../shared/domain/tos/map/tos-map.model\";\nimport {TOSMonsterType} from \"../../../shared/domain/tos/tos-domain\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\n\nconst MAP_SCALE_MIN = 0.85;\nconst MAP_SCALE_MAX = 3;\nconst MAP_SCALE_SPEED = 0.25;\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'tos-entity-detail-map',\n  templateUrl: './entity-detail-map.component.html',\n  styleUrls: ['./entity-detail-map.component.scss']\n})\nexport class EntityDetailMapComponent extends EntityDetailComponent implements OnInit {\n\n  readonly faFilter = faFilter;\n  readonly faStar = faStar;\n  readonly faTimes = faTimes;\n  readonly faSearchPlus = faSearchPlus;\n  readonly faSearchMinus = faSearchMinus;\n\n  filter: boolean = false;\n\n  @ViewChild('mapElement')    mapElement: ElementRef;\n                              mapHeight: number = 0;\n                              mapWidth: number = 0;\n                              mapScale: number = MAP_SCALE_MIN;\n                              mapX: number = 0;\n                              mapY: number = 0;\n\n  private mouseX: number;\n  private mouseY: number;\n\n  spawns: TOSMapLinkNPC[];\n  spawnsMonsters: TOSMapLinkNPC[];\n  spawnsNPCs: TOSMapLinkNPC[];\n  spawnsTreasures: TOSMapLinkNPC[];\n\n  constructor(changeDetector: ChangeDetectorRef, route: ActivatedRoute, router: Router, private zone: NgZone) {\n    super(changeDetector, route, router);\n\n    this.onMapMouseMove = this.onMapMouseMove.bind(this);\n    this.onMapMouseUp = this.onMapMouseUp.bind(this);\n  }\n  \n  get mapStars() {\n    let stars = this.map && this.map.Stars || 0;\n    let starsList = [];\n\n    for (let i = 0; i < stars; i ++)\n      starsList.push(0);\n\n    return starsList;\n  };\n\n  onInit() {\n    super.onInit();\n\n    this.spawns = null;\n    this.spawnsMonsters = null;\n    this.spawnsNPCs = null;\n    this.spawnsTreasures = null;\n\n    this.map.Link_NPCs && this.map.Link_NPCs.subscribe(value => {\n      this.spawns = value.filter(value => value.Link && value.Icon);\n      this.spawnsMonsters = this.spawns.filter(value => value.NPC && value.NPC.Type == TOSMonsterType.MONSTER);\n      this.spawnsNPCs = this.spawns.filter(value => value.NPC && value.NPC.Type != TOSMonsterType.MONSTER);\n      this.spawnsTreasures = this.spawns.filter(value => value.Item);\n\n      this.changeDetector.markForCheck();\n    });\n  }\n\n  onMapLoad(event: Event) {\n    let map = event.target as HTMLImageElement;\n    let mapContainer = this.mapElement.nativeElement.parentNode.getBoundingClientRect();\n\n    this.mapElement.nativeElement.style.height = `${ this.mapHeight = map.height }px`;\n    this.mapElement.nativeElement.style.width = `${ this.mapWidth = map.width }px`;\n\n    this.mapX = -this.mapWidth * this.mapScale / 2 + mapContainer.width / 2;\n    this.mapY = -this.mapHeight * this.mapScale / 2 + mapContainer.height / 2;\n\n    this.update();\n  }\n  onMapMouseDown(event: MouseEvent) {\n    this.mouseX = event.clientX;\n    this.mouseY = event.clientY;\n\n    this.zone.runOutsideAngular(() => {\n      document.addEventListener('pointermove', this.onMapMouseMove);\n      document.addEventListener('pointerup', this.onMapMouseUp);\n    });\n\n    return false;\n  }\n  onMapMouseMove(event: MouseEvent) {\n    this.mapX += (event.clientX - this.mouseX);\n    this.mapY += (event.clientY - this.mouseY);\n\n    this.mouseX = event.clientX;\n    this.mouseY = event.clientY;\n\n    this.update();\n\n    return false;\n  }\n  onMapMouseUp(event: MouseEvent) {\n    this.zone.runOutsideAngular(() => {\n      document.removeEventListener('pointermove', this.onMapMouseMove);\n      document.removeEventListener('pointerup', this.onMapMouseUp);\n    });\n  }\n  onMapMouseWheel(event: MouseWheelEvent) {\n    this.onMapScale(event.deltaY > 0 ? -1 : 1, event);\n\n    return false;\n  }\n  onMapScale(direction: number, event?: MouseWheelEvent) {\n    let mapContainer = this.mapElement.nativeElement.parentNode.getBoundingClientRect();\n    let mapScale = this.mapScale;\n\n    // Calculate new scale\n    this.mapScale += direction * MAP_SCALE_SPEED;\n    this.mapScale = Math.max(MAP_SCALE_MIN, Math.min(MAP_SCALE_MAX, this.mapScale));\n\n    if (this.mapScale == mapScale)\n      return;\n\n    // Calculate scale origin\n    // https://stackoverflow.com/a/46833254\n    let zoomPointX = (event ? event.pageX : mapContainer.left + mapContainer.width / 2) - (mapContainer.left + window.pageXOffset);\n    let zoomPointY = (event ? event.pageY : mapContainer.top + mapContainer.height / 2) - (mapContainer.top + window.pageYOffset);\n\n    // Update map position so it scales towards the mouse\n    let zoomTargetX = (zoomPointX - this.mapX) / mapScale;\n    let zoomTargetY = (zoomPointY - this.mapY) / mapScale;\n\n    this.mapX = -zoomTargetX * this.mapScale + zoomPointX;\n    this.mapY = -zoomTargetY * this.mapScale + zoomPointY;\n\n    this.update();\n  }\n\n  private update() {\n    let mapContainer = this.mapElement.nativeElement.parentNode.getBoundingClientRect();\n\n    // Make sure the map stays inside the container\n    if (this.mapX > 0)\n      this.mapX = 0;\n    if (this.mapX + this.mapWidth * this.mapScale < mapContainer.width)\n      this.mapX = mapContainer.width - this.mapWidth * this.mapScale;\n    if(this.mapY > 0)\n      this.mapY = 0;\n    if(this.mapY + this.mapHeight * this.mapScale < mapContainer.height)\n      this.mapY = mapContainer.height - this.mapHeight * this.mapScale;\n\n    window.requestAnimationFrame(() => {\n      this.mapElement.nativeElement.style.transform = `translate(${ this.mapX }px, ${ this.mapY }px) scale(${ this.mapScale })`;\n      this.mapElement.nativeElement.style.setProperty('--scale', this.mapScale)\n    });\n  }\n\n}\n","module.exports = \"<div class=\\\"container\\\">\\n\\n  <div class=\\\"row\\\">\\n    <!-- Name and Material/Type -->\\n    <tos-entity-detail-Header class=\\\"col h4 mb-3\\\" [entity]=\\\"entity\\\" [idName]=\\\"true\\\"></tos-entity-detail-Header>\\n  </div>\\n\\n  <div class=\\\"row mb-4\\\">\\n\\n    <div class=\\\"col-lg-6 mb-4 mt-5 pt-5\\\" *ngIf=\\\"card\\\">\\n      <tos-entity-detail-Card [entity]=\\\"card\\\"></tos-entity-detail-Card>\\n    </div>\\n\\n    <div class=\\\"col-lg-6 mb-4\\\" *ngIf=\\\"!card\\\">\\n      <div class=\\\"card bg-light m-auto\\\"\\n           [style.minWidth]=\\\"('calc(' + ICON_WIDTH + 'px + 2.5rem)') | sanitizeCSS\\\"\\n           [style.maxWidth]=\\\"('calc(' + ICON_WIDTH + 'px + 2.5rem)') | sanitizeCSS\\\">\\n        <div class=\\\"card-body\\\">\\n          <!-- Icon, Grade and Class -->\\n          <tos-entity-detail-ClassIconGrade *ngIf=\\\"!job\\\"\\n                                            [entity]=\\\"entity\\\"\\n                                            [labels]=\\\"true\\\"\\n                                            [size]=\\\"equipment ? 'large' : 'small'\\\"></tos-entity-detail-ClassIconGrade>\\n\\n          <tos-entity-detail-JobIcon *ngIf=\\\"job\\\" class=\\\"m-auto\\\"\\n                                     [circle]=\\\"job.CircleMax\\\"\\n                                     [job]=\\\"job\\\"></tos-entity-detail-JobIcon>\\n          <tos-entity-detail-JobAnimation [entity]=\\\"entity\\\"></tos-entity-detail-JobAnimation>\\n\\n          <!-- Description -->\\n          <tos-entity-detail-Description *ngIf=\\\"attribute\\\"\\n                                         [divider]=\\\"true\\\"\\n                                         [entity]=\\\"entity\\\"></tos-entity-detail-Description>\\n\\n          <!-- Physical and Magical Attack / Defense -->\\n          <tos-entity-detail-AttackDefense [anvilLevel]=\\\"anvilLevel\\\"\\n                                           [transcendLevel]=\\\"transcendLevel\\\"\\n                                           [entity]=\\\"entity\\\"></tos-entity-detail-AttackDefense>\\n\\n          <!-- Bonus Stats and Unidentified -->\\n          <tos-entity-detail-BonusStatsUnidentified [divider]=\\\"true\\\"\\n                                                    [entity]=\\\"entity\\\"></tos-entity-detail-BonusStatsUnidentified>\\n\\n          <!-- Potential, Durability and Sockets -->\\n          <tos-entity-detail-DurabilityPotentialSockets [entity]=\\\"entity\\\"></tos-entity-detail-DurabilityPotentialSockets>\\n\\n          <!-- Book Pages -->\\n          <tos-entity-detail-Book *ngIf=\\\"book?.Pages\\\"\\n                                  [entity]=\\\"entity\\\"></tos-entity-detail-Book>\\n\\n          <!-- Gem -->\\n          <tos-entity-detail-Gem *ngIf=\\\"gem\\\"\\n                                 [entity]=\\\"gem\\\"\\n                                 [header]=\\\"true\\\"></tos-entity-detail-Gem>\\n\\n          <!-- Recipe Materials -->\\n          <tos-entity-detail-Table *ngIf=\\\"entity['Link_Materials']\\\" class=\\\"table-borderless\\\"\\n                                   [columns]=\\\"COLUMNS_RECIPES_MATERIALS\\\"\\n                                   [data$]=\\\"entity['Link_Materials']\\\"\\n                                   [divider]=\\\"true\\\"\\n                                   [entity]=\\\"entity\\\"\\n                                   [header]=\\\"'Materials'\\\">\\n          </tos-entity-detail-Table>\\n\\n          <!-- Skill -->\\n          <tos-entity-detail-Skill [build]=\\\"build\\\"\\n                                   [entity]=\\\"entity\\\"\\n                                   [input]=\\\"true\\\"></tos-entity-detail-Skill>\\n\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"col-lg-6\\\">\\n\\n      <!-- Recipe Source (Crafted by) -->\\n      <tos-entity-detail-Table *ngIf=\\\"entity['Link_RecipeTarget']\\\" class=\\\"table-borderless\\\"\\n                               [columns]=\\\"COLUMNS_RECIPES\\\"\\n                               [data$]=\\\"entity['Link_RecipeTarget']\\\"\\n                               [entity]=\\\"entity\\\"\\n                               [header]=\\\"'Crafted by'\\\">\\n      </tos-entity-detail-Table>\\n\\n      <!-- Description -->\\n      <tos-entity-detail-Description *ngIf=\\\"!attribute && !skill\\\"\\n                                     [divider]=\\\"entity['Link_RecipeTarget']\\\"\\n                                     [entity]=\\\"entity\\\"\\n                                     [header]=\\\"true\\\"></tos-entity-detail-Description>\\n\\n      <!-- Information (CoolDown/Level, LifeTime, Weight, Price, Tradability) -->\\n      <tos-entity-detail-Information *ngIf=\\\"!skill\\\"\\n                                     [entity]=\\\"entity\\\"\\n                                     [divider]=\\\"!attribute && !skill && (entity['Description'] || entity['DescriptionHTML'])\\\"\\n                                     [header]=\\\"true\\\"></tos-entity-detail-Information>\\n\\n      <!-- Set -->\\n      <tos-entity-detail-Table *ngIf=\\\"equipment && equipment.Link_Set\\\" class=\\\"table-borderless\\\"\\n                               [columns]=\\\"COLUMNS_SET\\\"\\n                               [data$]=\\\"equipment.Link_Set\\\"\\n                               [divider]=\\\"true\\\"\\n                               [entity]=\\\"entity\\\"\\n                               [header]=\\\"'Set'\\\"\\n                               [themeInvert]=\\\"true\\\">\\n      </tos-entity-detail-Table>\\n      <tos-entity-detail-BonusStatsUnidentified *ngIf=\\\"equipment && equipment.Link_Set\\\"\\n                                                [entity]=\\\"equipment.Link_Set | async\\\"></tos-entity-detail-BonusStatsUnidentified>\\n\\n      <!-- Stats -->\\n      <tos-entity-detail-Stats *ngIf=\\\"card || monster\\\"\\n                               [entity]=\\\"entity\\\"></tos-entity-detail-Stats>\\n\\n      <!-- Enhancement -->\\n      <tos-entity-detail-Enhancement *ngIf=\\\"attribute || equipment && (equipment.IsAnvilAvailable || equipment.IsTranscendAvailable)\\\"\\n                                     [header]=\\\"attribute ? 'Cost' : 'Enhancement'\\\"\\n                                     [(anvilLevel)]=\\\"anvilLevel\\\"\\n                                     [(transcendLevel)]=\\\"transcendLevel\\\"\\n                                     [entity]=\\\"entity\\\"></tos-entity-detail-Enhancement>\\n\\n      <!-- Recipe Target (Produces) -->\\n      <tos-entity-detail-Table *ngIf=\\\"entity['Link_Target']\\\" class=\\\"table-borderless\\\"\\n                               [columns]=\\\"COLUMNS_ITEMS\\\"\\n                               [data$]=\\\"entity['Link_Target']\\\"\\n                               [divider]=\\\"true\\\"\\n                               [entity]=\\\"entity\\\"\\n                               [header]=\\\"'Produces'\\\">\\n      </tos-entity-detail-Table>\\n\\n      <!-- Classes -->\\n      <tos-entity-detail-Table *ngIf=\\\"entity['Link_Jobs'] || entity['Link_Job']\\\"\\n                               [columns]=\\\"COLUMNS_JOBS\\\"\\n                               [data$]=\\\"entity['Link_Jobs'] || entity['Link_Job']\\\"\\n                               [entity]=\\\"entity\\\"\\n                               [header]=\\\"entity['Link_Jobs'] ? 'Classes' : 'Class'\\\"\\n      ></tos-entity-detail-Table>\\n\\n      <!-- Skill Formulas -->\\n      <tos-entity-detail-SkillFormula [build]=\\\"build\\\"\\n                                      [divider]=\\\"true\\\"\\n                                      [entity]=\\\"entity\\\"></tos-entity-detail-SkillFormula>\\n\\n      <!-- Gem -->\\n      <tos-entity-detail-Table *ngIf=\\\"entity['Link_Gem']\\\"\\n                               [columns]=\\\"COLUMNS_GEMS\\\"\\n                               [data$]=\\\"entity['Link_Gem']\\\"\\n                               [divider]=\\\"true\\\"\\n                               [entity]=\\\"entity\\\"\\n                               [header]=\\\"'Gem'\\\"\\n      ></tos-entity-detail-Table>\\n\\n      <!-- Skill -->\\n      <tos-entity-detail-Table *ngIf=\\\"entity['Link_Skill']\\\"\\n                               [columns]=\\\"COLUMNS_SKILLS\\\"\\n                               [data$]=\\\"entity['Link_Skill']\\\"\\n                               [divider]=\\\"true\\\"\\n                               [entity]=\\\"entity\\\"\\n                               [header]=\\\"'Skill'\\\"\\n      ></tos-entity-detail-Table>\\n    </div>\\n\\n  </div>\\n\\n  <div class=\\\"row\\\">\\n    <!-- Attributes -->\\n    <tos-entity-detail-Table *ngIf=\\\"entity['Link_Attributes']\\\" class=\\\"col-md-6 mb-4\\\"\\n                             [columns]=\\\"COLUMNS_ATTRIBUTES\\\"\\n                             [data$]=\\\"entity['Link_Attributes']\\\"\\n                             [entity]=\\\"entity\\\"\\n                             [header]=\\\"'Attributes'\\\"\\n    ></tos-entity-detail-Table>\\n\\n    <!-- Collections -->\\n    <tos-entity-detail-Table *ngIf=\\\"entity['Link_Collections']\\\" class=\\\"col-md-6 mb-4\\\"\\n                             [columns]=\\\"COLUMNS_COLLECTIONS\\\"\\n                             [data$]=\\\"entity['Link_Collections']\\\"\\n                             [entity]=\\\"entity\\\"\\n                             [header]=\\\"'Collections'\\\"\\n    ></tos-entity-detail-Table>\\n\\n    <!-- Dropped by -->\\n    <tos-entity-detail-Table *ngIf=\\\"entity['Link_Monsters']\\\" class=\\\"col-md-6 mb-4\\\"\\n                             [columns]=\\\"COLUMNS_ITEMS_MONSTERS\\\"\\n                             [data$]=\\\"entity['Link_Monsters']\\\"\\n                             [entity]=\\\"entity\\\"\\n                             [header]=\\\"'Dropped by'\\\">\\n    </tos-entity-detail-Table>\\n\\n    <!-- Exploration Reward from -->\\n    <tos-entity-detail-Table *ngIf=\\\"entity['Link_Maps_Exploration']\\\" class=\\\"col-md-6 mb-4\\\"\\n                             [columns]=\\\"COLUMNS_ITEMS_MAPS\\\"\\n                             [data$]=\\\"entity['Link_Maps_Exploration']\\\"\\n                             [entity]=\\\"entity\\\"\\n                             [header]=\\\"'Exploration Reward from'\\\">\\n    </tos-entity-detail-Table>\\n\\n    <!-- Found in -->\\n    <tos-entity-detail-Table *ngIf=\\\"entity['Link_Cubes']\\\" class=\\\"col-md-6 mb-4\\\"\\n                             [columns]=\\\"COLUMNS_CUBES\\\"\\n                             [data$]=\\\"entity['Link_Cubes']\\\"\\n                             [entity]=\\\"entity\\\"\\n                             [header]=\\\"'Found in'\\\">\\n    </tos-entity-detail-Table>\\n\\n    <!-- Items -->\\n    <tos-entity-detail-Table *ngIf=\\\"entity['Link_Items'] && !monster\\\" class=\\\"col-md-6 mb-4\\\"\\n                             [columns]=\\\"COLUMNS_ITEMS\\\"\\n                             [data$]=\\\"entity['Link_Items']\\\"\\n                             [entity]=\\\"entity\\\"\\n                             [header]=\\\"cube ? 'Drops' : 'Items'\\\">\\n    </tos-entity-detail-Table>\\n\\n    <!-- Items (Monster) -->\\n    <tos-entity-detail-Table *ngIf=\\\"entity['Link_Items'] && monster\\\" class=\\\"col-md-6 mb-4\\\"\\n                             [columns]=\\\"COLUMNS_MONSTERS_DROPS\\\"\\n                             [data$]=\\\"entity['Link_Items']\\\"\\n                             [entity]=\\\"entity\\\"\\n                             [header]=\\\"'Drops'\\\">\\n    </tos-entity-detail-Table>\\n\\n\\n    <!-- Required for -->\\n    <tos-entity-detail-Table *ngIf=\\\"entity['Link_RecipeMaterial'] && !recipe\\\" class=\\\"col-md-6 mb-4\\\"\\n                             [columns]=\\\"COLUMNS_RECIPES\\\"\\n                             [data$]=\\\"entity['Link_RecipeMaterial']\\\"\\n                             [entity]=\\\"entity\\\"\\n                             [header]=\\\"'Required for'\\\">\\n    </tos-entity-detail-Table>\\n\\n    <!-- Skills -->\\n    <tos-entity-detail-Table *ngIf=\\\"entity['Link_Skills']\\\" class=\\\"col-md-6 mb-4\\\"\\n                             [columns]=\\\"COLUMNS_SKILLS\\\"\\n                             [data$]=\\\"entity['Link_Skills']\\\"\\n                             [entity]=\\\"entity\\\"\\n                             [header]=\\\"'Skills'\\\"\\n    ></tos-entity-detail-Table>\\n\\n    <!-- Spawn Locations (Monster) -->\\n    <tos-entity-detail-Table *ngIf=\\\"entity['Link_Maps'] && monster\\\" class=\\\"col-md-6 mb-4\\\"\\n                             [columns]=\\\"COLUMNS_MONSTERS_MAPS\\\"\\n                             [data$]=\\\"entity['Link_Maps']\\\"\\n                             [entity]=\\\"entity\\\"\\n                             [header]=\\\"'Spawn Locations'\\\">\\n    </tos-entity-detail-Table>\\n\\n    <!-- Spawn Locations (Item) -->\\n    <tos-entity-detail-Table *ngIf=\\\"entity['Link_Maps'] && item\\\" class=\\\"col-md-6 mb-4\\\"\\n                             [columns]=\\\"COLUMNS_ITEMS_MAPS\\\"\\n                             [data$]=\\\"entity['Link_Maps']\\\"\\n                             [entity]=\\\"entity\\\"\\n                             [header]=\\\"'Drop Locations'\\\">\\n    </tos-entity-detail-Table>\\n\\n  </div>\\n\\n</div>\\n\"","module.exports = \".card {\\n  transform: translateX(-1.25rem);\\n}\\n\\n@media (min-width: 768px) {\\n  .card {\\n    transform: initial !important;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9kYXRhYmFzZS9lbnRpdHktZGV0YWlsL2VudGl0eS1kZXRhaWwuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2RhdGFiYXNlL2VudGl0eS1kZXRhaWwvZW50aXR5LWRldGFpbC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdDQUFBO0NDQ0Q7O0FER0Q7RUFDRTtJQUNFLDhCQUFBO0dDQUQ7Q0FDRiIsImZpbGUiOiJzcmMvYXBwL2RhdGFiYXNlL2VudGl0eS1kZXRhaWwvZW50aXR5LWRldGFpbC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJkIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xLjI1cmVtKTtcbn1cblxuLy8gTWVkaXVtIGRldmljZXMgKHRhYmxldHMsIDc2OHB4IGFuZCB1cClcbkBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkge1xuICAuY2FyZCB7XG4gICAgdHJhbnNmb3JtOiBpbml0aWFsICFpbXBvcnRhbnQ7XG4gIH1cbn1cbiIsIi5jYXJkIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xLjI1cmVtKTtcbn1cblxuQG1lZGlhIChtaW4td2lkdGg6IDc2OHB4KSB7XG4gIC5jYXJkIHtcbiAgICB0cmFuc2Zvcm06IGluaXRpYWwgIWltcG9ydGFudDtcbiAgfVxufSJdfQ== */\"","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, OnDestroy, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {TOSItem} from \"../../shared/domain/tos/item/tos-item.model\";\nimport {TOSEntity} from \"../../shared/domain/tos/tos-entity.model\";\nimport {TOSEquipment, TOSEquipmentSet} from \"../../shared/domain/tos/item/equipment/tos-equipment.model\";\nimport {TOSBook} from \"../../shared/domain/tos/item/book/tos-book.model\";\nimport {TOSCollection} from \"../../shared/domain/tos/item/collection/tos-collection.model\";\nimport {TOSMonster} from \"../../shared/domain/tos/monster/tos-monster.model\";\nimport {TOSRecipe} from \"../../shared/domain/tos/item/recipe/tos-recipe.model\";\nimport {Subscription} from \"rxjs\";\nimport {TOSCube} from \"../../shared/domain/tos/item/cube/tos-cube.model\";\nimport {TOSCard} from \"../../shared/domain/tos/item/card/tos-card.model\";\nimport {TOSGem} from \"../../shared/domain/tos/item/gem/tos-gem.model\";\nimport {EntityDetailClassIconGradeComponent} from \"../../shared/components/entity-detail/entity-detail-ClassIconGrade/entity-detail-ClassIconGrade.component\";\nimport {TOSAttribute} from \"../../shared/domain/tos/attribute/tos-attribute.model\";\nimport {TOSSkill} from \"../../shared/domain/tos/skill/tos-skill.model\";\nimport {TOSDatabaseBuild} from \"../../shared/domain/tos/tos-build\";\nimport {TOSJob} from \"../../shared/domain/tos/job/tos-job.model\";\nimport {AttributeListConfigurationResolver} from \"../resolvers/attribute-list-configuration.resolver\";\nimport {CollectionListConfigurationResolver} from \"../resolvers/collection-list-configuration.resolver\";\nimport {GemListConfigurationResolver} from \"../resolvers/gem-list-configuration.resolver\";\nimport {ItemListConfigurationResolver} from \"../resolvers/item-list-configuration.resolver\";\nimport {JobListConfigurationResolver} from \"../resolvers/job-list-configuration.resolver\";\nimport {SkillListConfigurationResolver} from \"../resolvers/skill-list-configuration.resolver\";\nimport {RecipeListConfigurationResolver} from \"../resolvers/recipe-list-configuration.resolver\";\nimport {MonsterListConfigurationResolver} from \"../resolvers/monster-list-configuration.resolver\";\nimport {CubeListConfigurationResolver} from \"../resolvers/cube-list-configuration.resolver\";\nimport {EquipmentSetListConfigurationResolver} from \"../resolvers/equipment-set-list-configuration.resolver\";\nimport {TOSRegionService} from \"../../shared/domain/tos-region\";\nimport {TOSMap} from \"../../shared/domain/tos/map/tos-map.model\";\nimport {ITOSEntity} from \"../../shared/domain/tos/tos-domain\";\nimport {MapListConfigurationResolver} from \"../resolvers/map-list-configuration.resolver\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'app-entity-detail',\n  templateUrl: './entity-detail.component.html',\n  styleUrls: ['./entity-detail.component.scss']\n})\nexport class EntityDetailComponent implements OnDestroy, OnInit {\n  readonly COLUMNS_ATTRIBUTES = AttributeListConfigurationResolver.COLUMNS;\n  readonly COLUMNS_COLLECTIONS = CollectionListConfigurationResolver.COLUMNS;\n  readonly COLUMNS_CUBES = CubeListConfigurationResolver.COLUMNS;\n  readonly COLUMNS_GEMS = GemListConfigurationResolver.COLUMNS;\n  readonly COLUMNS_ITEMS = ItemListConfigurationResolver.COLUMNS;\n  readonly COLUMNS_ITEMS_MONSTERS = ItemListConfigurationResolver.COLUMNS_MONSTERS;\n  readonly COLUMNS_ITEMS_MAPS = ItemListConfigurationResolver.COLUMNS_MAPS;\n  readonly COLUMNS_JOBS = JobListConfigurationResolver.COLUMNS;\n  readonly COLUMNS_MAPS = MapListConfigurationResolver.COLUMNS;\n  readonly COLUMNS_MAPS_ITEMS = MapListConfigurationResolver.COLUMNS_ITEMS;\n  readonly COLUMNS_MAPS_NPCS = MapListConfigurationResolver.COLUMNS_NPCS;\n  readonly COLUMNS_RECIPES_MATERIALS = RecipeListConfigurationResolver.COLUMNS_MATERIALS;\n  readonly COLUMNS_RECIPES = RecipeListConfigurationResolver.COLUMNS;\n  readonly COLUMNS_SET = EquipmentSetListConfigurationResolver.COLUMNS;\n  readonly COLUMNS_SKILLS = SkillListConfigurationResolver.COLUMNS;\n  readonly COLUMNS_MONSTERS_DROPS = MonsterListConfigurationResolver.COLUMNS_ITEMS;\n  readonly COLUMNS_MONSTERS_MAPS = MonsterListConfigurationResolver.COLUMNS_MAPS;\n\n  readonly ICON_WIDTH = EntityDetailClassIconGradeComponent.ICON_LARGE_WIDTH;\n\n  build: TOSDatabaseBuild;\n  entity: TOSEntity;\n\n  attribute: TOSAttribute;\n  book: TOSBook;\n  collection: TOSCollection;\n  card: TOSCard;\n  cube: TOSCube;\n  equipment: TOSEquipment;\n  equipmentSet: TOSEquipmentSet;\n  gem: TOSGem;\n  item: TOSItem;\n  job: TOSJob;\n  map: TOSMap;\n  monster: TOSMonster;\n  recipe: TOSRecipe;\n  skill: TOSSkill;\n\n  anvilLevel: number = 0;\n  transcendLevel: number = 0;\n\n  tooltip: ITOSEntity;\n\n  private subscriptionRoute: Subscription;\n  private subscriptionSkill: Subscription;\n\n  constructor(protected changeDetector: ChangeDetectorRef, private route: ActivatedRoute, private router: Router) { }\n\n  protected onInit() {}\n  protected onDestroy() {}\n\n  ngOnDestroy() {\n    this.onDestroy();\n\n    this.subscriptionRoute && this.subscriptionRoute.unsubscribe();\n    this.subscriptionSkill && this.subscriptionSkill.unsubscribe();\n  }\n\n  ngOnInit() {\n    this.subscriptionRoute = this.route.data.subscribe(({ response }) => {\n      this.entity = response as TOSEntity;\n\n      this.attribute = this.entity instanceof TOSAttribute ? this.entity as TOSAttribute : null;\n      this.book = this.entity instanceof TOSBook ? this.entity as TOSBook : null;\n      this.collection = this.entity instanceof TOSCollection ? this.entity as TOSCollection : null;\n      this.card = this.entity instanceof TOSCard ? this.entity as TOSCard : null;\n      this.cube = this.entity instanceof TOSCube ? this.entity as TOSCube : null;\n      this.equipment = this.entity instanceof TOSEquipment ? this.entity as TOSEquipment : null;\n      this.equipmentSet = this.entity instanceof TOSEquipmentSet ? this.entity as TOSEquipmentSet : null;\n      this.gem = this.entity instanceof TOSGem ? this.entity as TOSGem : null;\n      this.item = this.entity instanceof TOSItem ? this.entity as TOSItem : null;\n      this.job = this.entity instanceof TOSJob ? this.entity as TOSJob : null;\n      this.map = this.entity instanceof TOSMap ? this.entity as TOSMap : null;\n      this.monster = this.entity instanceof TOSMonster ? this.entity as TOSMonster : null;\n      this.recipe = this.entity instanceof TOSRecipe ? this.entity as TOSRecipe : null;\n      this.skill = this.entity instanceof TOSSkill ? this.entity as TOSSkill : null;\n\n      if (this.skill) {\n        this.subscriptionSkill && this.subscriptionSkill.unsubscribe();\n        this.subscriptionSkill = this.skill.Link_Job.subscribe(async value => {\n          let build = TOSDatabaseBuild.new(TOSRegionService.get());\n          await build.jobAdd$(value); // Note: we need to add them 3 times, as on pre-Re:Build the level max scales with the selected Job circle\n          await build.jobAdd$(value);\n          await build.jobAdd$(value);\n\n          this.build = build;\n          this.changeDetector.markForCheck();\n        });\n      }\n\n      this.onInit();\n      this.changeDetector.markForCheck();\n    });\n  }\n\n}\n","module.exports = \"<div class=\\\"row\\\">\\n  <div *ngFor=\\\"let filter of config; index as i\\\"\\n       class=\\\"col mb-2 text-left\\\"\\n       style=\\\"flex-grow: 0\\\">\\n\\n    <label>{{ filter.label || filter.column }}</label>\\n\\n    <button class=\\\"btn btn-primary dropdown-toggle\\\"\\n            type=\\\"button\\\"\\n            [attachOutsideOnClick]=\\\"true\\\"\\n            [ngClass]=\\\"{ 'disabled': disabled }\\\"\\n            (click)=\\\"onOpen(filter)\\\"\\n            (clickOutside)=\\\"isOpen[filter.column] = false\\\">\\n      {{ value[filter.column] ? filter.toString(value[filter.column].value) : 'All' }}\\n    </button>\\n\\n    <div class=\\\"dropdown-menu\\\" [ngClass]=\\\"{ 'show': isOpen[filter.column] }\\\">\\n      <div *ngFor=\\\"let optionGroup of optionGroups[i]; index as j\\\">\\n\\n        <div class=\\\"dropdown-header\\\" *ngIf=\\\"optionGroup.header\\\">{{ optionGroup.header }}</div>\\n\\n        <a class=\\\"dropdown-item\\\" *ngFor=\\\"let option of optionGroup.options\\\" [href]=\\\"'#' + option?.toString() || 'All'\\\"\\n           [ngClass]=\\\"{ 'active': option && filter.indexOf(option) == value[filter.column]?.value }\\\"\\n           (click)=\\\"onSelect($event, filter, option)\\\">\\n          {{ option || 'All' }}\\n        </a>\\n\\n        <div class=\\\"dropdown-divider\\\" *ngIf=\\\"j < optionGroups[i].length - 1\\\"></div>\\n      </div>\\n\\n    </div>\\n\\n  </div>\\n</div>\\n\"","module.exports = \".dropdown-menu {\\n  max-height: 400px;\\n  overflow-y: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9kYXRhYmFzZS9lbnRpdHktZmlsdGVyL2VudGl0eS1saXN0LWZpbHRlci5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvZGF0YWJhc2UvZW50aXR5LWZpbHRlci9lbnRpdHktbGlzdC1maWx0ZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLGlCQUFBO0NDQ0QiLCJmaWxlIjoic3JjL2FwcC9kYXRhYmFzZS9lbnRpdHktZmlsdGVyL2VudGl0eS1saXN0LWZpbHRlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kcm9wZG93bi1tZW51IHtcbiAgbWF4LWhlaWdodDogNDAwcHg7XG4gIG92ZXJmbG93LXk6IGF1dG87XG59XG4iLCIuZHJvcGRvd24tbWVudSB7XG4gIG1heC1oZWlnaHQ6IDQwMHB4O1xuICBvdmVyZmxvdy15OiBhdXRvO1xufSJdfQ== */\"","import {ChangeDetectionStrategy, Component, EventEmitter, Input, OnChanges, Output, SimpleChanges} from '@angular/core';\nimport {Filter} from \"../../shared/directives/filter.directive\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'app-entity-list-filter',\n  templateUrl: './entity-list-filter.component.html',\n  styleUrls: ['./entity-list-filter.component.scss']\n})\nexport class EntityListFilterComponent implements OnChanges {\n  isOpen: { [key: string]: boolean } = {};\n  value: { [key: string]: Filter } = {};\n\n  @Input() config: EntityListFilter[];\n  @Input() disabled: boolean;\n\n  @Input() model: Filter[];\n  @Output() modelChange: EventEmitter<Filter[]> = new EventEmitter();\n\n  optionGroups: EntityListFilterOptionsGroup[][];\n\n  constructor() { }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['config'] && this.config) {\n      this.optionGroups = this.config.map(value => [{ options: [null]}].concat(value.groupBy()));\n    }\n    if (changes['disabled'] && this.disabled) {\n      this.isOpen = {};\n    }\n    if (changes['model']) {\n      this.value = {};\n      this.model.forEach(filter => this.value[filter.column] = filter);\n    }\n  }\n\n  onOpen(filter: EntityListFilter) {\n    if (this.disabled) return;\n\n    this.isOpen[filter.column] = !this.isOpen[filter.column]\n  }\n\n  onSelect(event: MouseEvent, filter: EntityListFilter, option: string) {\n    event.preventDefault();\n    if (this.disabled) return;\n\n    let result = (this.model || []).filter(f => f && f.column != filter.column);\n\n    if (option != null && option != '')\n      result.push(new Filter(filter.column, filter.indexOf(option)));\n\n    this.isOpen[filter.column] = false;\n    this.modelChange.emit(result);\n  }\n\n}\n\nexport interface EntityListFilter {\n  column: string;\n  label?: string;\n  groupBy: () => EntityListFilterOptionsGroup[];\n  indexOf: (value: any) => number;\n  toString: (value: any) => string;\n}\n\ninterface EntityListFilterOptionsGroup {\n  header?: string,\n  options: any[]\n}\n","module.exports = \"<!-- Filter -->\\n<div id=\\\"top\\\">\\n  <div class=\\\"row mb-4\\\" *ngIf=\\\"config?.filter\\\">\\n    <app-entity-list-filter class=\\\"form-group col\\\"\\n                            [config]=\\\"config.filter\\\"\\n                            [model]=\\\"pageFilter\\\"\\n                            (modelChange)=\\\"onFilterChange($event)\\\">\\n    </app-entity-list-filter>\\n  </div>\\n</div>\\n\\n<!-- Table -->\\n<tos-entity-table [columns]=\\\"config.tableColumns\\\"\\n                  [data]=\\\"data\\\"\\n                  [sort]=\\\"pageSort\\\"\\n                  (sortChange)=\\\"onSortChange($event)\\\"\\n></tos-entity-table>\\n\\n<!-- Pagination -->\\n<ngb-pagination\\n  class=\\\"d-flex justify-content-center mt-3\\\"\\n  [collectionSize]=\\\"dataSize\\\"\\n  [page]=\\\"page\\\"\\n  [pageSize]=\\\"pageSize\\\"\\n  [maxSize]=\\\"5\\\"\\n  [boundaryLinks]=\\\"true\\\"\\n  [ellipses]=\\\"false\\\"\\n  [rotate]=\\\"true\\\"\\n  (pageChange)=\\\"onPageChange($event)\\\"\\n>\\n</ngb-pagination>\\n\"","module.exports = \"a {\\n  color: inherit;\\n}\\n\\na:hover {\\n  text-decoration: underline;\\n}\\n\\n.dropdown-toggle {\\n  min-width: 10rem;\\n}\\n\\n.tos-equipment-grade {\\n  display: inline-block;\\n  height: 16px;\\n  width: 16px;\\n  border-radius: 8px;\\n  vertical-align: text-bottom;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9kYXRhYmFzZS9lbnRpdHktbGlzdC9lbnRpdHktbGlzdC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvZGF0YWJhc2UvZW50aXR5LWxpc3QvZW50aXR5LWxpc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFBSSxlQUFBO0NDRUg7O0FEREQ7RUFBVSwyQkFBQTtDQ0tUOztBREhEO0VBQW1CLGlCQUFBO0NDT2xCOztBRExEO0VBQ0Usc0JBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0EsNEJBQUE7Q0NRRCIsImZpbGUiOiJzcmMvYXBwL2RhdGFiYXNlL2VudGl0eS1saXN0L2VudGl0eS1saXN0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYSB7IGNvbG9yOiBpbmhlcml0OyB9XG5hOmhvdmVyIHsgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7IH1cblxuLmRyb3Bkb3duLXRvZ2dsZSB7IG1pbi13aWR0aDogMTByZW07IH1cblxuLnRvcy1lcXVpcG1lbnQtZ3JhZGUge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGhlaWdodDogMTZweDtcbiAgd2lkdGg6IDE2cHg7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgdmVydGljYWwtYWxpZ246IHRleHQtYm90dG9tO1xufVxuIiwiYSB7XG4gIGNvbG9yOiBpbmhlcml0O1xufVxuXG5hOmhvdmVyIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG59XG5cbi5kcm9wZG93bi10b2dnbGUge1xuICBtaW4td2lkdGg6IDEwcmVtO1xufVxuXG4udG9zLWVxdWlwbWVudC1ncmFkZSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgaGVpZ2h0OiAxNnB4O1xuICB3aWR0aDogMTZweDtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC1ib3R0b207XG59Il19 */\"","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, OnDestroy, OnInit} from '@angular/core';\nimport {ActivatedRoute, ParamMap, Router} from \"@angular/router\";\nimport {Subscription} from \"rxjs/internal/Subscription\";\nimport {TOSEntity} from \"../../shared/domain/tos/tos-entity.model\";\nimport {CRUDPageResult, CRUDResolver} from \"../../shared/service/CRUD.resolver\";\nimport {Filter} from \"../../shared/directives/filter.directive\";\nimport {Sort} from \"../../shared/directives/sort.directive\";\nimport {EntityListFilter} from \"../entity-filter/entity-list-filter.component\";\nimport {EntityTableColumn} from \"../../shared/components/entity-table/entity-table.component\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'app-entity-list',\n  templateUrl: './entity-list.component.html',\n  styleUrls: ['./entity-list.component.scss']\n})\nexport class EntityListComponent implements OnDestroy, OnInit {\n  config: TOSListConfiguration;\n\n  data: TOSEntity[];\n  dataSize: number;\n  subscription: Subscription;\n\n  page: number;\n  pageSize: number = CRUDResolver.PAGE_SIZE;\n\n  pageFilter: Filter[];\n  pageSort: Sort;\n\n  toggleFilter: boolean = false;\n  tooltip: TOSEntity;\n\n  constructor(\n    private changeDetector: ChangeDetectorRef,\n    private route: ActivatedRoute,\n    private router: Router\n  ) {}\n\n  private reload() {\n    let params = {};\n      params[CRUDResolver.PARAM_FILTER] = this.pageFilter ? this.pageFilter.join(';') : null;\n      params[CRUDResolver.PARAM_PAGE] = this.page;\n      params[CRUDResolver.PARAM_SORT] = this.pageSort;\n\n    this.toggleFilter = false;\n    this.tooltip = null;\n    this.router.navigate(['.'], { fragment: 'top', queryParams: params, relativeTo: this.route })\n  }\n\n  ngOnDestroy() {\n    this.subscription ? this.subscription.unsubscribe() : null;\n  }\n\n  ngOnInit() {\n    this.subscription = this.route.queryParamMap.subscribe((params: ParamMap) => {\n      this.config = this.route.snapshot.data.configuration as TOSListConfiguration;\n\n      let response = this.route.snapshot.data.response as CRUDPageResult<TOSEntity>;\n      this.data = response.result;\n      this.dataSize = response.size;\n\n      this.page = +params.get(CRUDResolver.PARAM_PAGE) || 1;\n      this.pageSort = Sort.valueOf(params.get(CRUDResolver.PARAM_SORT)) || Sort.default(this.config);\n      this.pageFilter = (params.get(CRUDResolver.PARAM_FILTER) || '').split(';')\n        .map(filter => Filter.valueOf(filter))\n        .filter((filter) => filter);\n\n      this.changeDetector.markForCheck();\n    });\n  }\n\n  onFilterChange(filter: Filter[]) {\n    if (this.pageFilter === filter) return;\n\n    this.page = 1;\n    this.pageFilter = filter;\n    this.pageSort = null;\n    this.reload();\n  }\n\n  onPageChange(page: number) {\n    this.page = page;\n    this.reload();\n  }\n\n  onSortChange(sort: Sort) {\n    this.page = 1;\n    this.pageSort = sort;\n\n    this.reload();\n  }\n\n}\n\nexport interface TOSListConfiguration {\n  filter?: EntityListFilter[]\n\n  sortColumn: string\n  tableColumns: EntityTableColumn[]\n}\n","import {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from \"@angular/router\";\nimport {Observable} from \"rxjs\";\nimport {Injectable} from \"@angular/core\";\nimport {TOSListConfiguration} from \"../entity-list/entity-list.component\";\nimport {TableCellIconPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-icon.pipe\";\nimport {\n  TableCellTextPipeDefinition,\n  TableCellTextPipeFormat\n} from \"../../shared/components/entity-table/pipes/table-cell-text.pipe\";\nimport {TableCellLinkPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-link.pipe\";\n\n@Injectable()\nexport class AttributeListConfigurationResolver implements Resolve<TOSListConfiguration> {\n\n  static readonly COLUMNS = [\n    { label: '',              pipe: new TableCellIconPipeDefinition('Icon'), class: 'p-1 text-center' },\n    { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n    { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n    { label: 'Description',   pipe: new TableCellTextPipeDefinition('Description', TableCellTextPipeFormat.MULTILINE), hideMobile: true, wide: true },\n    { label: 'Skill',         pipe: new TableCellLinkPipeDefinition('Link_Skill'), class: 'p-1'},\n  ];\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<TOSListConfiguration> | Promise<TOSListConfiguration> | TOSListConfiguration {\n    return {\n      sortColumn: '$ID',\n      tableColumns: AttributeListConfigurationResolver.COLUMNS,\n    };\n  }\n}\n","import {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from \"@angular/router\";\nimport {Observable} from \"rxjs\";\nimport {Injectable} from \"@angular/core\";\nimport {TOSListConfiguration} from \"../entity-list/entity-list.component\";\nimport {TableCellIconPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-icon.pipe\";\nimport {TableCellTextPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-text.pipe\";\n\n@Injectable()\nexport class BookListConfigurationResolver implements Resolve<TOSListConfiguration> {\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<TOSListConfiguration> | Promise<TOSListConfiguration> | TOSListConfiguration {\n    return {\n      sortColumn: '$ID',\n\n      tableColumns: [\n        { label: '',              pipe: new TableCellIconPipeDefinition('Icon'), class: 'p-1' },\n        { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n        { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n      ]\n    };\n  }\n}\n","import {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from \"@angular/router\";\nimport {Observable} from \"rxjs\";\nimport {Injectable} from \"@angular/core\";\nimport {TOSListConfiguration} from \"../entity-list/entity-list.component\";\nimport {TOSCardTypeService, TOSElementService, TOSMonsterRaceService,} from \"../../shared/domain/tos/tos-domain\";\nimport {TableCellIconPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-icon.pipe\";\nimport {TableCellTextPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-text.pipe\";\n\n@Injectable()\nexport class CardListConfigurationResolver implements Resolve<TOSListConfiguration> {\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<TOSListConfiguration> | Promise<TOSListConfiguration> | TOSListConfiguration {\n    return {\n      filter: [\n        {\n          column: 'TypeCard',\n          label: 'Type',\n          groupBy: TOSCardTypeService.groupBy,\n          indexOf: TOSCardTypeService.indexOf,\n          toString: TOSCardTypeService.toString,\n        },\n      ],\n\n      sortColumn: '$ID',\n\n      tableColumns: [\n        { label: '',              pipe: new TableCellIconPipeDefinition('Icon'), class: 'p-1 text-center' },\n        { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n        { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n        { label: 'Element',       pipe: new TableCellIconPipeDefinition('MonsterElement', TOSElementService.icon), class: 'p-1 text-center', hideMobile: true },\n        { label: 'Race',          pipe: new TableCellIconPipeDefinition('MonsterRace', TOSMonsterRaceService.icon), class: 'p-1 text-center', hideMobile: true },\n        { label: 'Type',          pipe: new TableCellTextPipeDefinition('TypeCard') },\n      ]\n    };\n  }\n}\n","import {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from \"@angular/router\";\nimport {Observable} from \"rxjs\";\nimport {Injectable} from \"@angular/core\";\nimport {TOSListConfiguration} from \"../entity-list/entity-list.component\";\nimport {TableCellIconPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-icon.pipe\";\nimport {TableCellTextPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-text.pipe\";\nimport {TableCellLinkPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-link.pipe\";\n\n@Injectable()\nexport class CollectionListConfigurationResolver implements Resolve<TOSListConfiguration> {\n\n  static readonly COLUMNS = [\n    { label: '',              pipe: new TableCellIconPipeDefinition('Icon'), class: 'p-1 text-center' },\n    { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n    { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n    { label: 'Items',         pipe: new TableCellLinkPipeDefinition('Link_Items'), class: 'p-1 text-nowrap'  }\n  ];\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<TOSListConfiguration> | Promise<TOSListConfiguration> | TOSListConfiguration {\n    return {\n      sortColumn: '$ID',\n      tableColumns: CollectionListConfigurationResolver.COLUMNS,\n    };\n  }\n}\n","import {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from \"@angular/router\";\nimport {Observable} from \"rxjs\";\nimport {Injectable} from \"@angular/core\";\nimport {TOSListConfiguration} from \"../entity-list/entity-list.component\";\nimport {TableCellIconPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-icon.pipe\";\nimport {TableCellTextPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-text.pipe\";\n\n@Injectable()\nexport class CubeListConfigurationResolver implements Resolve<TOSListConfiguration> {\n\n  static readonly COLUMNS = [\n    { label: '',              pipe: new TableCellIconPipeDefinition('Icon'), class: 'p-1 text-center' },\n    { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n    { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n  ];\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<TOSListConfiguration> | Promise<TOSListConfiguration> | TOSListConfiguration {\n    return {\n      sortColumn: '$ID',\n      tableColumns: CubeListConfigurationResolver.COLUMNS,\n    };\n  }\n}\n","import {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from \"@angular/router\";\nimport {Observable} from \"rxjs\";\nimport {Injectable} from \"@angular/core\";\nimport {TOSListConfiguration} from \"../entity-list/entity-list.component\";\nimport {\n  TOSEquipmentGrade,\n  TOSEquipmentGradeService,\n  TOSEquipmentMaterialService,\n  TOSEquipmentTypeService\n} from \"../../shared/domain/tos/tos-domain\";\nimport {TableCellIconPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-icon.pipe\";\nimport {TableCellTextPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-text.pipe\";\nimport {TableCellNumberPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-number.pipe\";\nimport {TableCellBadgePipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-badge.pipe\";\n\n@Injectable()\nexport class EquipmentListConfigurationResolver implements Resolve<TOSListConfiguration> {\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<TOSListConfiguration> | Promise<TOSListConfiguration> | TOSListConfiguration {\n    return {\n      filter: [\n        {\n          column: 'Grade',\n          groupBy: TOSEquipmentGradeService.groupBy,\n          indexOf: TOSEquipmentGradeService.indexOf,\n          toString: TOSEquipmentGradeService.toString,\n        },\n        {\n          column: 'Material',\n          groupBy: TOSEquipmentMaterialService.groupBy,\n          indexOf: TOSEquipmentMaterialService.indexOf,\n          toString: TOSEquipmentMaterialService.toString,\n        },\n        {\n          column: 'TypeEquipment',\n          label: 'Type',\n          groupBy: TOSEquipmentTypeService.groupBy,\n          indexOf: TOSEquipmentTypeService.indexOf,\n          toString: TOSEquipmentTypeService.toString,\n        }\n      ],\n\n      sortColumn: '$ID',\n\n      tableColumns: [\n        { label: '',              pipe: new TableCellIconPipeDefinition('Icon'), class: 'p-1 text-center' },\n        { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n        { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n        { label: 'Material',      pipe: new TableCellTextPipeDefinition('Material'), hideMobile: true },\n        { label: 'Grade',         pipe: new TableCellBadgePipeDefinition('Grade', (o: TOSEquipmentGrade) => TOSEquipmentGradeService.color(o)), hideMobile: true },\n        { label: 'Level',         pipe: new TableCellNumberPipeDefinition('RequiredLevel') },\n        { label: 'Type',          pipe: new TableCellTextPipeDefinition('TypeEquipment'), class: 'text-nowrap', hideMobile: true },\n      ]\n    };\n  }\n}\n","import {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from \"@angular/router\";\nimport {Observable} from \"rxjs\";\nimport {Injectable} from \"@angular/core\";\nimport {TOSListConfiguration} from \"../entity-list/entity-list.component\";\nimport {TableCellTextPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-text.pipe\";\nimport {TableCellLinkPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-link.pipe\";\n\n@Injectable()\nexport class EquipmentSetListConfigurationResolver implements Resolve<TOSListConfiguration> {\n\n  static readonly COLUMNS = [\n    { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n    { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n    { label: 'Items',         pipe: new TableCellLinkPipeDefinition('Link_Items'), class: 'p-1 text-nowrap' }\n  ];\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<TOSListConfiguration> | Promise<TOSListConfiguration> | TOSListConfiguration {\n    return {\n      sortColumn: '$ID',\n      tableColumns: EquipmentSetListConfigurationResolver.COLUMNS,\n    };\n  }\n}\n","import {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from \"@angular/router\";\nimport {Observable} from \"rxjs\";\nimport {Injectable} from \"@angular/core\";\nimport {TOSListConfiguration} from \"../entity-list/entity-list.component\";\nimport {TOSGemTypeService} from \"../../shared/domain/tos/tos-domain\";\nimport {TableCellIconPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-icon.pipe\";\nimport {TableCellTextPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-text.pipe\";\n\n@Injectable()\nexport class GemListConfigurationResolver implements Resolve<TOSListConfiguration> {\n\n  static readonly COLUMNS = [\n    { label: '',              pipe: new TableCellIconPipeDefinition('Icon'), class: 'p-1 text-center' },\n    { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n    { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n    { label: 'Type',          pipe: new TableCellTextPipeDefinition('TypeGem') },\n  ];\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<TOSListConfiguration> | Promise<TOSListConfiguration> | TOSListConfiguration {\n    return {\n      filter: [\n        {\n          column: 'TypeGem',\n          label: 'Type',\n          groupBy: TOSGemTypeService.groupBy,\n          indexOf: TOSGemTypeService.indexOf,\n          toString: TOSGemTypeService.toString,\n        },\n      ],\n\n      sortColumn: '$ID',\n      tableColumns: GemListConfigurationResolver.COLUMNS,\n    };\n  }\n}\n","import {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from \"@angular/router\";\nimport {Observable} from \"rxjs\";\nimport {Injectable} from \"@angular/core\";\nimport {TOSListConfiguration} from \"../entity-list/entity-list.component\";\nimport {TOSItemTypeService} from \"../../shared/domain/tos/tos-domain\";\nimport {TableCellIconPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-icon.pipe\";\nimport {\n  TableCellTextPipeDefinition,\n  TableCellTextPipeFormat\n} from \"../../shared/components/entity-table/pipes/table-cell-text.pipe\";\n\n@Injectable()\nexport class ItemListConfigurationResolver implements Resolve<TOSListConfiguration> {\n\n  static readonly COLUMNS = [\n    { label: '',              pipe: new TableCellIconPipeDefinition('Icon'), class: 'p-1 text-center' },\n    { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n    { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n    { label: 'Type',          pipe: new TableCellTextPipeDefinition('Type') },\n  ];\n\n  static readonly COLUMNS_MONSTERS = [\n    { label: '',              pipe: new TableCellIconPipeDefinition('Icon'), class: 'p-1 text-center' },\n    { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n    { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n    { label: 'Chance',        pipe: new TableCellTextPipeDefinition('Chance', TableCellTextPipeFormat.PERCENTAGE), class: 'text-nowrap' },\n  ];\n\n  static readonly COLUMNS_MAPS = [\n    { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n    { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n    { label: 'Chance',        pipe: new TableCellTextPipeDefinition('Chance', TableCellTextPipeFormat.PERCENTAGE), class: 'text-nowrap' },\n  ];\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<TOSListConfiguration> | Promise<TOSListConfiguration> | TOSListConfiguration {\n    return {\n      filter: [\n        {\n          column: 'Type',\n          groupBy: TOSItemTypeService.groupBy,\n          indexOf: TOSItemTypeService.indexOf,\n          toString: TOSItemTypeService.toString,\n        },\n      ],\n\n      sortColumn: '$ID',\n      tableColumns: ItemListConfigurationResolver.COLUMNS,\n    };\n  }\n}\n","import {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from \"@angular/router\";\nimport {Observable} from \"rxjs\";\nimport {Injectable} from \"@angular/core\";\nimport {TOSListConfiguration} from \"../entity-list/entity-list.component\";\nimport {TOSJobDifficultyService, TOSJobTreeService} from \"../../shared/domain/tos/tos-domain\";\nimport {TableCellIconPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-icon.pipe\";\nimport {TableCellTextPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-text.pipe\";\nimport {TableCellLinkPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-link.pipe\";\n\n@Injectable()\nexport class JobListConfigurationResolver implements Resolve<TOSListConfiguration> {\n\n  static readonly COLUMNS = [\n    { label: '',              pipe: new TableCellIconPipeDefinition('Icon'), class: 'p-1 text-center' },\n    { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n    { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n    { label: 'Attributes',    pipe: new TableCellLinkPipeDefinition('Link_Attributes'), class: 'p-1 text-nowrap'  },\n    { label: 'Difficulty',    pipe: new TableCellTextPipeDefinition('JobDifficulty'), hideMobile: true },\n    { label: 'Tree',          pipe: new TableCellTextPipeDefinition('JobTree') },\n  ];\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<TOSListConfiguration> | Promise<TOSListConfiguration> | TOSListConfiguration {\n    return {\n      filter: [\n        {\n          column: 'JobDifficulty',\n          label: 'Difficulty',\n          groupBy: TOSJobDifficultyService.groupBy,\n          indexOf: TOSJobDifficultyService.indexOf,\n          toString: TOSJobDifficultyService.toString,\n        },\n        {\n          column: 'JobTree',\n          label: 'Tree',\n          groupBy: TOSJobTreeService.groupBy,\n          indexOf: TOSJobTreeService.indexOf,\n          toString: TOSJobTreeService.toString,\n        },\n      ],\n\n      sortColumn: '$ID',\n      tableColumns: JobListConfigurationResolver.COLUMNS,\n    };\n  }\n}\n","import {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from \"@angular/router\";\nimport {Observable} from \"rxjs\";\nimport {Injectable} from \"@angular/core\";\nimport {TOSListConfiguration} from \"../entity-list/entity-list.component\";\nimport {\n  TableCellTextPipeDefinition,\n  TableCellTextPipeFormat\n} from \"../../shared/components/entity-table/pipes/table-cell-text.pipe\";\nimport {TableCellNumberPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-number.pipe\";\nimport {TableCellIconPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-icon.pipe\";\n\n@Injectable()\nexport class MapListConfigurationResolver implements Resolve<TOSListConfiguration> {\n\n  static readonly COLUMNS = [\n    { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n    { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n    { label: 'Level',         pipe: new TableCellNumberPipeDefinition('Level') },\n    { label: 'Rank',          pipe: new TableCellNumberPipeDefinition('Stars'), hideMobile: true },\n    { label: 'Type',          pipe: new TableCellTextPipeDefinition('Type') },\n  ];\n\n  static readonly COLUMNS_ITEMS = [\n    { label: '',              pipe: new TableCellIconPipeDefinition('Icon'), class: 'p-1 text-center' },\n    { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n    { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n    { label: 'Quantity',      pipe: new TableCellTextPipeDefinition('Quantity_MIN.Quantity_MAX', TableCellTextPipeFormat.QUANTITY_RANGE), class: 'text-nowrap' },\n    { label: 'Chance',        pipe: new TableCellTextPipeDefinition('Chance', TableCellTextPipeFormat.PERCENTAGE), class: 'text-nowrap' },\n  ];\n\n  static readonly COLUMNS_NPCS = [\n    { label: '',              pipe: new TableCellIconPipeDefinition('Icon'), class: 'p-1 text-center' },\n    { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n    { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n    { label: 'Population',    pipe: new TableCellTextPipeDefinition('Population', TableCellTextPipeFormat.QUANTITY), class: 'text-nowrap' },\n    { label: 'Respawn',       pipe: new TableCellTextPipeDefinition('TimeRespawn', TableCellTextPipeFormat.TIME), class: 'text-nowrap' },\n  ];\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<TOSListConfiguration> | Promise<TOSListConfiguration> | TOSListConfiguration {\n    return {\n      filter: [\n        {\n          column: 'HasChallengeMode',\n          label: 'ChallengeMode',\n          groupBy: () => [{ options: ['Yes'] }],\n          indexOf: value => value == 'Yes' ? -1 : -2,\n          toString: value => value ? 'Yes' : null,\n        },\n        {\n          column: 'HasWarp',\n          label: 'Warp',\n          groupBy: () => [{ options: ['Yes'] }],\n          indexOf: value => value == 'Yes' ? -1 : -2,\n          toString: value => value ? 'Yes' : null,\n        },\n      ],\n\n      sortColumn: '$ID',\n      tableColumns: MapListConfigurationResolver.COLUMNS,\n    };\n  }\n}\n","import {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from \"@angular/router\";\nimport {Observable} from \"rxjs\";\nimport {Injectable} from \"@angular/core\";\nimport {TOSListConfiguration} from \"../entity-list/entity-list.component\";\nimport {\n  TOSElementService,\n  TOSEquipmentMaterialService,\n  TOSMonsterRaceService,\n  TOSMonsterRankService,\n  TOSMonsterSizeService\n} from \"../../shared/domain/tos/tos-domain\";\nimport {TableCellIconPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-icon.pipe\";\nimport {\n  TableCellTextPipeDefinition,\n  TableCellTextPipeFormat\n} from \"../../shared/components/entity-table/pipes/table-cell-text.pipe\";\nimport {TableCellNumberPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-number.pipe\";\n\n@Injectable()\nexport class MonsterListConfigurationResolver implements Resolve<TOSListConfiguration> {\n\n  static readonly COLUMNS = [\n    { label: '',              pipe: new TableCellIconPipeDefinition('Icon'), class: 'p-1 text-center' },\n    { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n    { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n    { label: 'Armor',         pipe: new TableCellTextPipeDefinition('Armor'), hideMobile: true },\n    { label: 'Element',       pipe: new TableCellIconPipeDefinition('Element', TOSElementService.icon), class: 'p-1 text-center', hideMobile: true },\n    { label: 'Level',         pipe: new TableCellNumberPipeDefinition('Level'), hideMobile: true },\n    { label: 'Race',          pipe: new TableCellIconPipeDefinition('Race', TOSMonsterRaceService.icon), class: 'p-1 text-center', hideMobile: true },\n    { label: 'Rank',          pipe: new TableCellTextPipeDefinition('Rank') },\n    { label: 'Size',          pipe: new TableCellTextPipeDefinition('Size'), hideMobile: true },\n  ];\n\n  static readonly COLUMNS_ITEMS = [\n    { label: '',              pipe: new TableCellIconPipeDefinition('Icon'), class: 'p-1 text-center' },\n    { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n    { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n    { label: 'Quantity',      pipe: new TableCellTextPipeDefinition('Quantity_MIN.Quantity_MAX', TableCellTextPipeFormat.QUANTITY_RANGE), class: 'text-nowrap' },\n    { label: 'Chance',        pipe: new TableCellTextPipeDefinition('Chance', TableCellTextPipeFormat.PERCENTAGE), class: 'text-nowrap' },\n  ];\n\n  static readonly COLUMNS_MAPS = [\n    { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n    { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n    { label: 'Population',    pipe: new TableCellTextPipeDefinition('Population', TableCellTextPipeFormat.QUANTITY), class: 'text-nowrap' },\n    { label: 'Respawn',       pipe: new TableCellTextPipeDefinition('TimeRespawn', TableCellTextPipeFormat.TIME), class: 'text-nowrap' },\n  ];\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<TOSListConfiguration> | Promise<TOSListConfiguration> | TOSListConfiguration {\n    return {\n      filter: [\n        {\n          column: 'Armor',\n          groupBy: TOSEquipmentMaterialService.groupBy,\n          indexOf: TOSEquipmentMaterialService.indexOf,\n          toString: TOSEquipmentMaterialService.toString,\n        },\n        {\n          column: 'Element',\n          groupBy: TOSElementService.groupBy,\n          indexOf: TOSElementService.indexOf,\n          toString: TOSElementService.toString,\n        },\n        {\n          column: 'Race',\n          groupBy: TOSMonsterRaceService.groupBy,\n          indexOf: TOSMonsterRaceService.indexOf,\n          toString: TOSMonsterRaceService.toString,\n        },\n        {\n          column: 'Rank',\n          groupBy: TOSMonsterRankService.groupBy,\n          indexOf: TOSMonsterRankService.indexOf,\n          toString: TOSMonsterRankService.toString,\n        },\n        {\n          column: 'Size',\n          groupBy: TOSMonsterSizeService.groupBy,\n          indexOf: TOSMonsterSizeService.indexOf,\n          toString: TOSMonsterSizeService.toString,\n        },\n      ],\n\n      sortColumn: '$ID',\n      tableColumns: MonsterListConfigurationResolver.COLUMNS,\n    };\n  }\n}\n","import {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from \"@angular/router\";\nimport {Observable} from \"rxjs\";\nimport {Injectable} from \"@angular/core\";\nimport {TOSListConfiguration} from \"../entity-list/entity-list.component\";\nimport {\n  TableCellTextPipeDefinition,\n  TableCellTextPipeFormat\n} from \"../../shared/components/entity-table/pipes/table-cell-text.pipe\";\nimport {TableCellLinkPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-link.pipe\";\nimport {TOSRecipeMaterial} from \"../../shared/domain/tos/item/recipe/tos-recipe.model\";\nimport {TableCellIconPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-icon.pipe\";\n\n@Injectable()\nexport class RecipeListConfigurationResolver implements Resolve<TOSListConfiguration> {\n\n  static readonly COLUMNS = [\n    { label: '',              pipe: new TableCellLinkPipeDefinition('Link_Target'), class: 'p-1' },\n    { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n    { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n    { label: 'Materials',     pipe: new TableCellLinkPipeDefinition('Link_Materials', (o: TOSRecipeMaterial) => o.Quantity), class: 'p-1 text-nowrap' }\n  ];\n\n  static readonly COLUMNS_MATERIALS = [\n    { label: '',              pipe: new TableCellIconPipeDefinition('Icon'), class: 'p-1 text-center' },\n    { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n    { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n    { label: 'Quantity',      pipe: new TableCellTextPipeDefinition('Quantity', TableCellTextPipeFormat.QUANTITY), class: 'text-nowrap' },\n  ];\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<TOSListConfiguration> | Promise<TOSListConfiguration> | TOSListConfiguration {\n    return {\n      sortColumn: '$ID',\n      tableColumns: RecipeListConfigurationResolver.COLUMNS,\n    };\n  }\n}\n","import {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from \"@angular/router\";\nimport {Observable} from \"rxjs\";\nimport {Injectable} from \"@angular/core\";\nimport {TOSListConfiguration} from \"../entity-list/entity-list.component\";\nimport {TOSElementService, TOSSkillRequiredStanceCompanionService} from \"../../shared/domain/tos/tos-domain\";\nimport {TableCellIconPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-icon.pipe\";\nimport {TableCellTextPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-text.pipe\";\nimport {TableCellLinkPipeDefinition} from \"../../shared/components/entity-table/pipes/table-cell-link.pipe\";\n\n@Injectable()\nexport class SkillListConfigurationResolver implements Resolve<TOSListConfiguration> {\n\n  static readonly COLUMNS = [\n    { label: '',              pipe: new TableCellIconPipeDefinition('Icon'), class: 'p-1 text-center' },\n    { label: '$ID',           pipe: new TableCellTextPipeDefinition('$ID'), hideMobile: true },\n    { label: 'Name',          pipe: new TableCellTextPipeDefinition('Name'), wide: true },\n    { label: 'Attributes',    pipe: new TableCellLinkPipeDefinition('Link_Attributes'), class: 'p-1 text-nowrap'  },\n    { label: 'Class',         pipe: new TableCellLinkPipeDefinition('Link_Job'), class: 'p-1'}\n  ];\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<TOSListConfiguration> | Promise<TOSListConfiguration> | TOSListConfiguration {\n    return {\n      filter: [\n        {\n          column: 'RequiredStanceCompanion',\n          label: 'Companion',\n          groupBy: TOSSkillRequiredStanceCompanionService.groupBy,\n          indexOf: TOSSkillRequiredStanceCompanionService.indexOf,\n          toString: TOSSkillRequiredStanceCompanionService.toString,\n        },\n        {\n          column: 'Element',\n          groupBy: TOSElementService.groupBy,\n          indexOf: TOSElementService.indexOf,\n          toString: TOSElementService.toString,\n        },\n        {\n          column: 'IsEnchanter',\n          label: 'Enchanter',\n          groupBy: () => [{ options: ['Yes'] }],\n          indexOf: value => value == 'Yes' ? -1 : -2,\n          toString: value => value ? 'Yes' : null,\n        },\n        {\n          column: 'IsPardoner',\n          label: 'Pardoner',\n          groupBy: () => [{ options: ['Yes'] }],\n          indexOf: value => value == 'Yes' ? -1 : -2,\n          toString: value => value ? 'Yes' : null,\n        },\n        {\n          column: 'IsRunecaster',\n          label: 'Runecaster',\n          groupBy: () => [{ options: ['Yes'] }],\n          indexOf: value => value == 'Yes' ? -1 : -2,\n          toString: value => value ? 'Yes' : null,\n        },\n        {\n          column: 'IsShinobi',\n          label: 'Shinobi',\n          groupBy: () => [{ options: ['Yes'] }],\n          indexOf: value => value == 'Yes' ? -1 : -2,\n          toString: value => value ? 'Yes' : null,\n        },\n      ],\n\n      sortColumn: '$ID',\n      tableColumns: SkillListConfigurationResolver.COLUMNS,\n    };\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {WelcomeComponent} from './welcome/welcome.component';\nimport {SharedModule} from \"../shared/shared.module\";\nimport {PatreonComponent} from './patreon/patreon.component';\n\n@NgModule({\n  imports: [\n    SharedModule,\n  ],\n  declarations: [\n    WelcomeComponent,\n    PatreonComponent\n  ],\n})\nexport class HomeModule { }\n","module.exports = \"<div class=\\\"d-flex align-items-center justify-content-between\\\">\\n  <div>\\n    <h2>Thank you!</h2></div>\\n  <div>\\n    <a class=\\\"d-none d-sm-inline btn-patreon\\\" href=\\\"https://www.patreon.com/bePatron?u=16097026\\\">\\n      <img src=\\\"/assets/images/logo_patreon.png\\\" height=\\\"20\\\" width=\\\"20\\\" />\\n      <span>Become a patron</span>\\n    </a>\\n  </div>\\n</div>\\n<p class=\\\"mb-5\\\">Thanks to all tos.guru patrons for keeping the server up and supporting the development!</p>\\n\\n<div class=\\\"d-flex flex-wrap justify-content-around mb-4\\\" *ngIf=\\\"PatreonService.PATRONS_KUPOLE.length\\\">\\n  <div class=\\\"d-flex col-6 col-md-4 col-xl-3 align-items-center mb-3\\\" *ngFor=\\\"let patron of PatreonService.PATRONS_KUPOLE\\\">\\n    <img height=\\\"64\\\" width=\\\"64\\\" class=\\\"p-1 rounded-circle\\\" style=\\\"background: #F1C40F; box-shadow: 0 0 2rem #F1C40F\\\"\\n         [src]=\\\"'/assets/images/emoticons/' + emoticon(patron, PatreonService.EMOTICONS_KUPOLE)\\\" />\\n    <span class=\\\"ml-3\\\">{{ patron }}</span>\\n  </div>\\n</div>\\n\\n<div class=\\\"d-flex flex-wrap justify-content-around mb-4\\\" *ngIf=\\\"PatreonService.PATRONS_POPOLION.length\\\">\\n  <div class=\\\"d-flex col-6 col-md-4 col-xl-3 align-items-center mb-3\\\" *ngFor=\\\"let patron of PatreonService.PATRONS_POPOLION\\\">\\n    <img height=\\\"60\\\" width=\\\"60\\\" class=\\\"p-1 rounded-circle\\\" style=\\\"background: #9B59B6; box-shadow: 0 0 1.5rem #9B59B6\\\"\\n         [src]=\\\"'/assets/images/emoticons/' + emoticon(patron, PatreonService.EMOTICONS_POPOLION)\\\" />\\n    <span class=\\\"ml-3\\\">{{ patron }}</span>\\n  </div>\\n</div>\\n\\n<div class=\\\"d-flex flex-wrap justify-content-around mb-4\\\" *ngIf=\\\"PatreonService.PATRONS_TINI.length\\\">\\n  <div class=\\\"d-flex col-6 col-md-4 col-xl-3 align-items-center mb-3\\\" *ngFor=\\\"let patron of PatreonService.PATRONS_TINI\\\">\\n    <img height=\\\"56\\\" width=\\\"56\\\" class=\\\"p-1 rounded-circle\\\" style=\\\"background: #3498DB; box-shadow: 0 0 1rem #3498DB\\\"\\n         [src]=\\\"'/assets/images/emoticons/' + emoticon(patron, PatreonService.EMOTICONS_TINI)\\\" />\\n    <span class=\\\"ml-3\\\">{{ patron }}</span>\\n  </div>\\n</div>\\n\\n<div class=\\\"d-flex flex-wrap justify-content-around mb-4\\\" *ngIf=\\\"PatreonService.PATRONS_KEPA.length\\\">\\n  <div class=\\\"d-flex col-6 col-md-4 col-xl-3 align-items-center mb-3\\\" *ngFor=\\\"let patron of PatreonService.PATRONS_KEPA\\\">\\n    <img height=\\\"52\\\" width=\\\"52\\\" class=\\\"bg-primary p-1 rounded-circle\\\"\\n         [src]=\\\"'/assets/images/emoticons/' + emoticon(patron, PatreonService.EMOTICONS_KEPA)\\\" />\\n    <span class=\\\"ml-3\\\">{{ patron }}</span>\\n  </div>\\n</div>\\n\\n<div class=\\\"d-flex justify-content-center mb-5\\\">\\n  <a class=\\\"d-sm-none btn-patreon\\\" href=\\\"https://www.patreon.com/bePatron?u=16097026\\\">\\n    <img src=\\\"/assets/images/logo_patreon.png\\\" height=\\\"20\\\" width=\\\"20\\\" />\\n    <span>Become a patron</span>\\n  </a>\\n</div>\\n\"","module.exports = \".btn-patreon {\\n  align-items: center;\\n  background: #f96854;\\n  color: white;\\n  display: flex;\\n  font-family: America, sans-serif;\\n  font-size: 0.78rem !important;\\n  font-weight: 800;\\n  padding: 0.5rem 0.75rem;\\n  text-transform: uppercase;\\n  text-rendering: optimizelegibility;\\n  transition: all 300ms cubic-bezier(0.19, 1, 0.22, 1) 0s;\\n}\\n\\n.btn-patreon:hover {\\n  text-decoration: none;\\n  background-color: #fa7664;\\n  border-color: #fa7664;\\n  box-shadow: rgba(5, 45, 73, 0.098) 0 0.25rem 0.75rem;\\n}\\n\\n.btn-patreon img {\\n  margin-right: 0.5rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9ob21lL3BhdHJlb24vcGF0cmVvbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvaG9tZS9wYXRyZW9uL3BhdHJlb24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxvQkFBQTtFQUNBLG9CQUFBO0VBQ0EsYUFBQTtFQUNBLGNBQUE7RUFDQSxpQ0FBQTtFQUNBLDhCQUFBO0VBQ0EsaUJBQUE7RUFDQSx3QkFBQTtFQUNBLDBCQUFBO0VBQ0EsbUNBQUE7RUFDQSx3REFBQTtDQ0NEOztBRENEO0VBQ0Usc0JBQUE7RUFDQSwwQkFBQTtFQUNBLHNCQUFBO0VBQ0EscURBQUE7Q0NFRDs7QURDRDtFQUNFLHFCQUFBO0NDRUQiLCJmaWxlIjoic3JjL2FwcC9ob21lL3BhdHJlb24vcGF0cmVvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5idG4tcGF0cmVvbiB7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGJhY2tncm91bmQ6ICNmOTY4NTQ7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgZGlzcGxheTogZmxleDtcbiAgZm9udC1mYW1pbHk6IEFtZXJpY2EsIHNhbnMtc2VyaWY7XG4gIGZvbnQtc2l6ZTogMC43OHJlbSAhaW1wb3J0YW50O1xuICBmb250LXdlaWdodDogODAwO1xuICBwYWRkaW5nOiAwLjVyZW0gMC43NXJlbTtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgdGV4dC1yZW5kZXJpbmc6IG9wdGltaXplbGVnaWJpbGl0eTtcbiAgdHJhbnNpdGlvbjogYWxsIDMwMG1zIGN1YmljLWJlemllcigwLjE5LCAxLCAwLjIyLCAxKSAwcztcbn1cbi5idG4tcGF0cmVvbjpob3ZlciB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1MCwgMTE4LCAxMDApO1xuICBib3JkZXItY29sb3I6IHJnYigyNTAsIDExOCwgMTAwKTtcbiAgYm94LXNoYWRvdzogcmdiYSg1LCA0NSwgNzMsIDAuMDk4KSAwIDAuMjVyZW0gMC43NXJlbTtcbn1cblxuLmJ0bi1wYXRyZW9uIGltZyB7XG4gIG1hcmdpbi1yaWdodDogMC41cmVtO1xufVxuIiwiLmJ0bi1wYXRyZW9uIHtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgYmFja2dyb3VuZDogI2Y5Njg1NDtcbiAgY29sb3I6IHdoaXRlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmb250LWZhbWlseTogQW1lcmljYSwgc2Fucy1zZXJpZjtcbiAgZm9udC1zaXplOiAwLjc4cmVtICFpbXBvcnRhbnQ7XG4gIGZvbnQtd2VpZ2h0OiA4MDA7XG4gIHBhZGRpbmc6IDAuNXJlbSAwLjc1cmVtO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICB0ZXh0LXJlbmRlcmluZzogb3B0aW1pemVsZWdpYmlsaXR5O1xuICB0cmFuc2l0aW9uOiBhbGwgMzAwbXMgY3ViaWMtYmV6aWVyKDAuMTksIDEsIDAuMjIsIDEpIDBzO1xufVxuXG4uYnRuLXBhdHJlb246aG92ZXIge1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmYTc2NjQ7XG4gIGJvcmRlci1jb2xvcjogI2ZhNzY2NDtcbiAgYm94LXNoYWRvdzogcmdiYSg1LCA0NSwgNzMsIDAuMDk4KSAwIDAuMjVyZW0gMC43NXJlbTtcbn1cblxuLmJ0bi1wYXRyZW9uIGltZyB7XG4gIG1hcmdpbi1yaWdodDogMC41cmVtO1xufSJdfQ== */\"","import {Component} from '@angular/core';\nimport {PatreonService} from \"./patreon.service\";\n\n@Component({\n  selector: 'tos-patreon',\n  templateUrl: './patreon.component.html',\n  styleUrls: ['./patreon.component.scss']\n})\nexport class PatreonComponent {\n\n  readonly PatreonService = PatreonService;\n\n  constructor() { }\n\n  emoticon(name: string, emoticons: string[]) {\n    let hash = 0;\n\n    for (let i = 0; i < name.length; i ++)\n      hash += name.charCodeAt(i);\n\n    return emoticons[hash % emoticons.length];\n  }\n\n}\n","import {Injectable} from '@angular/core';\n\nconst KEY_PATREON = 'patreon';\nconst PATRONS: { [key in PatreonTier]: string[] } = JSON.parse(document.getElementById('tos-patreon').innerText);\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PatreonService {\n\n  static readonly EMOTICONS_KEPA = ['emoticon_0002.png', 'emoticon_0003.png', 'emoticon_0028.png', 'emoticon_0029.png'];\n  static readonly EMOTICONS_TINI = ['emoticon_0004.png', 'emoticon_0005.png', 'emoticon_0030.png', 'emoticon_0031.png', 'emoticon_0032.png', 'emoticon_0033.png', 'emoticon_0034.png', 'emoticon_0035.png', 'emoticon_0036.png']\n  static readonly EMOTICONS_POPOLION = ['emoticon_0006.png', 'emoticon_0008.png', 'emoticon_0009.png', 'emoticon_0010.png', 'emoticon_0011.png', 'emoticon_0012.png', 'emoticon_0013.png', 'emoticon_0014.png', 'emoticon_0015.png', 'emoticon_0016.png', 'emoticon_0017.png', 'emoticon_0018.png', 'emoticon_0019.png', 'emoticon_0020.png', 'emoticon_0021.png', 'emoticon_0022.png', 'emoticon_0023.png', 'emoticon_0037.png', 'emoticon_0038.png', 'emoticon_0039.png', 'emoticon_0040.png', 'emoticon_0041.png', 'emoticon_0042.png', 'emoticon_0043.png', 'emoticon_0044.png', 'emoticon_0045.png', 'emoticon_0046.png'];\n  static readonly EMOTICONS_KUPOLE = ['kupole_emotion01.png', 'kupole_emotion02.png', 'kupole_emotion03.png', 'kupole_emotion04.png', 'kupole_emotion05.png', 'kupole_emotion06.png'];\n\n  static get PATRONS_KEPA() { return PATRONS[PatreonTier.KEPA] || [] };\n  static get PATRONS_KUPOLE() { return PATRONS[PatreonTier.KUPOLE] || [] };\n  static get PATRONS_POPOLION() { return PATRONS[PatreonTier.POPOLION] || [] };\n  static get PATRONS_TINI() { return PATRONS[PatreonTier.TINI] || [] };\n\n  constructor() { }\n\n  static get all() { return this.PATRONS_KEPA.concat(this.PATRONS_POPOLION).concat(this.PATRONS_TINI).concat(this.PATRONS_KUPOLE) }\n  static get count() { return this.PATRONS_KEPA.length + this.PATRONS_POPOLION.length + this.PATRONS_TINI.length + this.PATRONS_KUPOLE.length }\n  static get show() { return localStorage.getItem(KEY_PATREON) == null || new Date(localStorage.getItem(KEY_PATREON)) < new Date() }\n\n  static dismiss() {\n    // Dismiss for 5-10 days\n    let dismiss = new Date();\n        dismiss.setDate(dismiss.getDate() + (5 + Math.round(Math.random() * 5)));\n\n    localStorage.setItem(KEY_PATREON, dismiss.toISOString());\n  }\n\n  static random(count) {\n    if (this.count <= count)\n      return this.all;\n\n    let result = [];\n    let all = this.PATRONS_KEPA\n      .concat(this.PATRONS_POPOLION)\n      .concat(this.PATRONS_TINI)\n      .concat(this.PATRONS_TINI)\n      .concat(this.PATRONS_KUPOLE)\n      .concat(this.PATRONS_KUPOLE)\n      .concat(this.PATRONS_KUPOLE)\n    ;\n\n    while (count > 0) {\n      let random = all[Math.floor(Math.random() * all.length)];\n\n      if (result.indexOf(random) == -1) {\n        result.push(random);\n        count --;\n      }\n    }\n\n    return result;\n  }\n\n}\n\nenum PatreonTier {\n  KEPA = 100,\n  TINI = 500,\n  POPOLION = 1000,\n  KUPOLE = 2000,\n}\n","module.exports = \"<h2>Welcome to tos.guru!</h2>\\n\\n<div class=\\\"row\\\">\\n\\n  <div class=\\\"col-lg-6\\\">\\n    <p>\\n      This is an open-source database for Tree of Savior, a game being developed by IMC Games.<br/>\\n    </p>\\n\\n    <p>\\n      It is still in active development, taking multiple updates per week, with the latest patches and new features.\\n      <span class=\\\"badge badge-success\\\">Re:Build</span> patch is already supported<br/>\\n    </p>\\n\\n    <p>\\n      Currently, a <a [routerLink]=\\\"routerLink('simulator')\\\">Skill Simulator</a> is available, making use of the in-game formulas to calculate skill damage, skill SP costs and attribute unlock logic.<br/>\\n    </p>\\n\\n    <p>\\n      A Database is also available, and currently supports the following datasets:\\n    </p>\\n    <ul *ngFor=\\\"let group of TOSDataSetService.VALUES; index as i\\\">\\n      <li *ngFor=\\\"let option of group.options\\\">\\n        <a [routerLink]=\\\"routerLink('database/' + TOSDataSetService.toUrl(option))\\\">{{ TOSDataSetService.toLabel(option) }}</a>\\n      </li>\\n    </ul>\\n\\n    <p>\\n      <b>Found an issue?</b><br/>\\n      <b>Try clearing the cache, by clicking on the version string at the footer</b><br/>\\n      <b>If still present, please report it to @rjgtav on Discord</b>\\n    </p>\\n  </div>\\n\\n  <div class=\\\"col-lg-6\\\">\\n    <div class=\\\"card bg-light\\\">\\n      <div class=\\\"card-header\\\">\\n        Changelog\\n      </div>\\n      <div class=\\\"card-body\\\" style=\\\"max-height: calc(100vh - 16rem); overflow-y: auto\\\">\\n\\n        <h6>2020-05-18</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Added support to EP 12 equipment</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Added support to SUBEXPORB item group and VELNAIS monster race</li>\\n        </ul>\\n\\n        <h6>2019-12-27</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-info\\\">Notice</span> Merry Chritmas 🎅 and a Happy New Year 🎆!</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Added support to the new 4ever Arks, Classes, Trinkets, ...</li>\\n        </ul>\\n\\n        <h6>2019-10-31</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-info\\\">Notice</span> Boo!👻</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Cooldown and SP are being calculated correctly again. Thanks <b>@PetroSpark</b></li>\\n        </ul>\\n\\n        <h6>2019-10-28</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Added support for Special Costume skins (inside the Database &gt; Equipment section)</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Automatic updates are working again for all regions. Thanks <b>@xZeroGodx</b></li>\\n          <li><span class=\\\"badge badge-info\\\">Notice</span> Sorry for the lack of updates but I haven't had much free time over the past months. I'm still working on a major rework for the entire website, you can follow the development over at my discord.</li>\\n        </ul>\\n\\n        <h6>2019-06-29</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Translations are no longer missing for the new classes in the twTOS Simulator. Thanks <b>蘋果🍎</b></li>\\n        </ul>\\n\\n        <h6>2019-06-25</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> SkillFactors are being calculated again. Thanks <b>@PetroSpark</b>, <b>@Edoweiss</b>, <b>@Fenatte</b>, <b>@Kashou</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> CaptionRatio2 for Heal is being calculated again. Thanks <b>@PetroSpark</b></li>\\n          <li><span class=\\\"badge badge-info\\\">Notice</span> Sorry for the lack of updates but last month I've been finishing my university. I'm now back to reworking a big part of tos.guru to improve the performance, add more data, etc.</li>\\n        </ul>\\n\\n        <h6>2019-05-17</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Search is now working correctly for twTOS. Thanks <b>@真庭赤狐</b></li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Improved search for kTOS and kTEST</li>\\n        </ul>\\n\\n        <h6>2019-05-12</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Added the missing drop information for some maps (e.g. Primus drop information in Astral Tower 1F). Thanks <b>@Liel</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Fixed the drop chance for the loot tables (e.g. Ruby's drop chance on Bauba's Cave). Thanks <b>@Liel</b></li>\\n        </ul>\\n\\n        <h6>2019-05-11</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-success\\\">New</span> Added Maps, which includes an interactive minimap for visualizing the location of NPCs and Monsters spawns</li>\\n          <li><span class=\\\"badge badge-success\\\">New</span> Added zone-level drop information (e.g. primus equipment and all other unidentified equipment)</li>\\n          <li><span class=\\\"badge badge-success\\\">New</span> Added map exploration rewards</li>\\n          <li><span class=\\\"badge badge-success\\\">New</span> Added Collections/Treasures locations</li>\\n          <li><span class=\\\"badge badge-danger\\\">Bug</span> Loading time has increased, due to the new Map and NPC information</li>\\n          <li><span class=\\\"badge badge-info\\\">Notice</span> Next I'll be working on significantly reducing the loading time and reduce the amount of bugs due to new game patches. World Map will be coming after.</li>\\n        </ul>\\n\\n        <h6>2019-04-26</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Level cap has been updated to 420 (due to limitations this has been applied to all regions). Thanks <b>@PetroSpark</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> kTOS and kTEST Skill cooldown and SP consumption is working again. Thanks <b>@PetroSpark</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Assassin's Hasisas has a working description again. Thanks <b>@Kashou</b></li>\\n        </ul>\\n\\n        <h6>2019-04-19</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-info\\\">Notice</span> Sorry for taking so long to release a new update, IRL has been extremely busy. Next up it's Maps</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Revamped the entire offline mode from scratch. Should no longer fail to install when behind an antivirus or fail to open when the cache becomes corrupted</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Simplified the overall deployment process. The server will no longer crash by running out of memory and will update to the new game patches more quickly</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Import process now uses the entire LUA code from the client, which should lead to less crashes due to code refactoring</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Sharing a build as an URL or opening a linked build is now more reliable as it goes through my own webserver. Thanks <b>@Palemoon</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> All images/icons will now always be extracted from kTEST (except for the region specific items)</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> All monsters are now correctly calculating their atk/def values, even when using virtual equipment. Thanks <b>@acc97862</b>, <b>@Crevox</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Added missing monsters (e.g. Velcoffaner). Thanks <b>@Lubu20</b>, <b>@TerminalEssense</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Cooldown is working correctly again for Cleric classes</li>\\n        </ul>\\n\\n        <h6>2019-02-08</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-success\\\">New</span> Added a 'Thank You' page for all the patrons, for supporting tos.guru!</li>\\n          <li><span class=\\\"badge badge-success\\\">New</span> Added a message at the top thanking a random selection of patrons. You can dismiss this message for a week</li>\\n        </ul>\\n\\n        <h6>2019-01-30</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-success\\\">New</span> Added Taiwanese TOS (twTOS) region. Thanks 蘋果🍎</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Fashion-related filters on the Equipment section are now working again. Thanks <b>@Muniqui</b></li>\\n        </ul>\\n\\n        <h6>2019-01-27</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-success\\\">New</span> tos.guru will now automatically check for new game patches and update every hour (e.g. 09:15, 10:15, 11:15, ...)</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Added missing orange background color to Missile Skills (e.g. most Archer's Skills)</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Skill max levels are now being correctly calculated (e.g. Alchemist's Gem Roasting). Thanks <b>@Crevox </b><b>@Saiko </b><b>@Xvkr</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Some attributes (e.g. Frenzy: Enhance) is now correctly assigned to its skill. Thanks <b>@Skykyrie</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Database pages now show the correct total page number when filtering. Thanks <b>@Lamisedaxeh</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Mortal Slash cooldown is now being correctly calculated. Thanks <b>@Zeucleio</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Mortal Slash is no longer showing as 'Cloneable by Shinobi'. Thanks <b>@Zeucleio</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Updated Pardoner for Re:Build and added Runecaster filter to Skills page</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Added missing skill icons (again)</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> tos.guru will now wait for at least 30 minutes before checking for updates again</li>\\n        </ul>\\n\\n        <h6>2019-01-25</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Improved tap registration on the Skill Simulator on mobile</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Skill cooldown is now calculated using in-game scripts. Thanks <b>@Hillgarm</b> and <b>@muskekteer</b></li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Minor design tweaks to the Formulas section of a Skill detail page</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Added support to attributes which are shared between multiple skills (e.g. Cannoneer's Detonate). Thanks <b>@Fenatte</b>, <b>@Isthelte</b> and <b>@PetroSpark</b></li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Skill simulator now always shows the plus/minus buttons on mobile. Thanks <b>@Crevox</b></li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> You can now level a Skill beyond it's maximum level on its Database page. Thanks <b>@Crevox</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Skill factors no longer show as undefined when the translation uses some deprecated methods. (e.g. Snow Rolling) Thanks <b>@Jurcan</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Skill factors no longer fail to calculate when the code updates one of the skill's attributes. (e.g. Throw Sand) Thanks <b>@Xvkr </b><b>@Zeucleio </b><b>@Skykyrie</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Animated GIFs for the new classes (Assassin and Outlaw) are no longer missing</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Job Type/Role is now showing correctly again. Thanks <b>@Xvkr</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Skill synergy description color is now rendering correctly. Thanks <b>@marq</b> and <b>@Crevox</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Possible fix? for the ERR_FAILED error which plagued some users. Please ping me in case you see it again</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Possible fix? for header dropdown menus (e.g. Database and Region) which weren't opening at all on iOS Safari</li>\\n        </ul>\\n\\n        <h6>2019-01-21</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-success\\\">New</span> Added a 'Clear cache' button to the loading screen in case it gets stuck while loading</li>\\n          <li><span class=\\\"badge badge-success\\\">New</span> Added a 'Clear cache' button to the footer. (click the patch version to trigger)</li>\\n          <li><span class=\\\"badge\\\">New</span> Added a 'Checking for updates...' notice to the header, to make it clearer when tos.guru is checking for updates</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> tos.guru now automatically checks for updates every hour and updates to the latest game patches</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Cleaned up the design of the header and the footer</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Fixed installation issues for some users when they were running Kaspersky Antivirus</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Multiple reliability improvements when installing/updating tos.guru. Should be a bit slower, but will use less RAM and CPU</li>\\n        </ul>\\n\\n        <h6>2019-01-12</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-secondary\\\">Updated</span> Updated iTOS, jTOS, kTOS and kTEST to the latest versions</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> tos.guru will now display a message in case your browser isn't supported</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Reduced overall download size per region (~10MB -> ~2MB) when updating the database</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Improved overall response times when loading assets for the first time, by caching most of the website on CloudFlare</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Offline mode is now correctly caching all main pages (Database, Home and Simulator) from the start</li>\\n        </ul>\\n\\n        <h6>2019-01-04</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Search is working again. Thanks <b>@Muniqui</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Equipment required classes and item tradability are showing correctly again. Thanks <b>@Hillgarm</b> and <b>@PetroSpark</b></li>\\n        </ul>\\n\\n        <h6>2019-01-03</h6>\\n        <ul>\\n          <li>[Update] Updated iTOS, jTOS, kTOS and kTEST to the latest versions</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Added patch version to the loading screen and to the footer</li>\\n        </ul>\\n\\n        <h6>2019-01-02</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Page no longer shows white when switching regions and using the dark theme. Thanks <b>@Crevox</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Internal database no longer gets into a state with incomplete data</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Offline mode is now working as intended</li>\\n        </ul>\\n\\n        <h6>2019-01-01</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-info\\\">Notice</span> Happy New Year! 🐷</li>\\n          <li><span class=\\\"badge badge-success\\\">New</span> tos.guru is now available offline! Note: in order to save disk, images will be cached on demand</li>\\n          <li><span class=\\\"badge badge-success\\\">New</span> tos.guru can now be installed on Mobile and on PC (Browser Menu -> Add to Home Screen)</li>\\n          <li><span class=\\\"badge badge-success\\\">New</span> Added a new fullscreen loading animation when new database updates are available</li>\\n          <li><span class=\\\"badge badge-success\\\">New</span> Added a new 'Update is Available' indicator to the top menu</li>\\n          <li><span class=\\\"badge badge-success\\\">New</span> I now have a Patreon! Become a patron and support the development of tos.guru</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Significantly reduced the overall RAM usage (by around 50%)</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Significantly reduced loading time when no new updates are available</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Reduced search loading time by removing the 'Description' field from the index</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Updated cache from a time-based to a hash-based implementation, which will reduce the overall network traffic</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Collections are no longer showing the wrong items in rare situations of duplicate IDs. Thanks <b>@Zeucleio</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Browsers now correctly prompt for translating the page when a foreign region is selected</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Search no longer crashes when returning Equipment Sets. Thanks <b>@Hillgarm</b> and <b>@Sujiru</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Restored stat attributes for some discontinued items (e.g. CAN05_101). Thanks <b>@Sujiru</b></li>\\n          <li><span class=\\\"badge badge-danger\\\">Removed</span> Older browsers no longer support tos.guru. For more information, check the browsers in green <a href=\\\"https://caniuse.com/serviceworkers\\\">here</a></li>\\n        </ul>\\n\\n        <h6>2018-12-26</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Skills of higher circles are now showing up correctly on the simulator. Thanks <b>@Ramon</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Search accuracy improved quite significantly. Thanks <b>@Crevox</b></li>\\n        </ul>\\n\\n        <h6>2018-12-25</h6>\\n        <ul>\\n          <li>Ho ho ho 🎅</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Gems stats are no longer messed up. Thanks <b>@WhiteDwarf</b>, <b>@AmberRei</b> and <b>@Ramon</b></li>\\n        </ul>\\n\\n        <h6>2018-12-24</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Added attributes to Classes and Skills list pages</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Improved tooltip's position so it doesn't cover the important bits as often</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Removed some more deprecated attributes. Thanks <b>@Ramon</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Fixed some simulator attribute unlock propagation issues. Thanks <b>@Ramon</b></li>\\n        </ul>\\n\\n        <h6>2018-12-23</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Removed deprecated attributes that were re-introduced with the last update. Thanks <b>@Ramon</b>, <b>@Shinobi</b>, <b>@Umineko</b> and <b>@Zeucleio</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Classes on the Simulator are now ordered by ID instead of by Name. Thanks <b>@Crevox</b></li>\\n        </ul>\\n\\n        <h6>2018-12-22</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-secondary\\\">Updated</span> Updated iTOS, jTOS, kTOS and kTEST to the latest versions</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Initial loading time has been reduced even further, however RAM requirements have increased. This will be addressed on the next update.</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Header dropdown menus now open immediately on mouse hover</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Improved search performance and reliability</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Entity detail pages now have more details for referenced entities (e.g. each collection on Tanu Flower's detail page now shows all the other items which also belong to those collections)</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Set the appropriate document language, to trigger the browser's Translate button. Note: this only works when opening the page, not when switching regions. Thanks <b>@Nekorin</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Rank 1 classes no longer show duplicated on the Simulator. Thanks <b>@PetroSpark</b>, <b>@Zeucleio</b>, <b>@Montz</b> and everyone else who reported!</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Shields/Shirts/Pants are no longer missing their +40 Anvil Enhancement bonus. Thanks <b>@Crevox</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Added missing elements to some skills descriptions (e.g. Monk's Energy Blast on Re:Build). Thanks <b>@4lkruzeth</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> As per Re:Build, Cannons are now a 2-Handed Weapon on the Equipment list Type filter. Thanks <b>@Hillgarm</b> and <b>@Laynaria</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Mergen skills no longer show Crossbow as a possible stance. Thanks <b>@TerminalEssence</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Added missing class attributes (e.g. SwordMastery_DEForATK). Thanks <b>@Hillgarm</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Removed extra 0s on some skill description values (e.g. Paladin's Stone Skin on kTEST at level 3)</li>\\n          <li><span class=\\\"badge badge-danger\\\">Removed</span> Removed Google Adsense test code, as Google continues rejecting serving ads to the website.</li>\\n        </ul>\\n\\n        <h6>2018-12-06</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-secondary\\\">Updated</span> kTOS is now on Re:Build</li>\\n          <li><span class=\\\"badge badge-secondary\\\">Updated</span> Updated iTOS, jTOS, kTOS and kTEST to the latest versions</li>\\n        </ul>\\n\\n        <h6>2018-12-01</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-secondary\\\">Updated</span> Updated iTOS, jTOS, kTOS and kTEST to the latest versions</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Improved initial loading time and when changing regions</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Double Punch is no longer crashing on the detail page</li>\\n        </ul>\\n\\n        <h6>2018-11-24</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> kTEST Simulator no longer crashes on certain classes. Thanks <b>@Laynaria</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> kTEST Gems (red, green, blue, white) are now showing all stat bonuses. Thanks <b>@KriLanze</b> + <b>@Cotoco</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> iTOS, jTOS and kTOS are now able to level their skills again on the Skill detail page. Thanks <b>@TermiNekoEXence</b></li>\\n        </ul>\\n\\n        <h6>2018-11-21</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-success\\\">New</span> Added SP formulas to Skill detail page</li>\\n          <li><span class=\\\"badge badge-success\\\">New</span> Added a homepage with a brief introduction and a changelog</li>\\n          <li><span class=\\\"badge badge-secondary\\\">Updated</span> Updated iTOS, jTOS, kTOS and kTEST to the latest versions</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Magical Attack no longer appears duplicated on an Equipment stats. Thanks <b>@Crevox</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Skill SP calculation now uses the in-game formulas</li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Search now returns the correct results even on slower machines. Thanks <b>@TermiNekoEXence</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Removed invalid search results from the search index. Thanks <b>@Mia</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Monster detail page is no longer crashing</li>\\n        </ul>\\n\\n        <h6>2018-11-16</h6>\\n        <ul>\\n          <li><span class=\\\"badge badge-success\\\">New</span> Added Stats to Re:Build Simulator</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> When no more skill points are available, and you left click a skill at level &lt; levelMax, it now goes back to 0. Thanks <b>@PetroSpark</b></li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Added 'Usable by Scout' icon to equipment tooltip and detail pages</li>\\n          <li><span class=\\\"badge badge-success\\\">Improved</span> Updated cards' frames to the latest design. Thanks <b>@Crevox</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Chaplain is no longer considered a Secret class. Thanks <b>@Laynaria</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> 'Summon'-like skills have been purged from all databases. Thanks <b>@Hillgarm</b></li>\\n          <li><span class=\\\"badge badge-warning\\\">Fixed</span> Re:Build Simulator builds are again able to be shared around</li>\\n        </ul>\\n      </div>\\n    </div>\\n  </div>\\n\\n</div>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvd2VsY29tZS93ZWxjb21lLmNvbXBvbmVudC5zY3NzIn0= */\"","import {ChangeDetectionStrategy, Component} from '@angular/core';\nimport {TOSUrlService} from \"../../shared/service/tos-url.service\";\nimport {TOSDataSetService} from \"../../shared/domain/tos/tos-domain\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'tos-welcome',\n  templateUrl: './welcome.component.html',\n  styleUrls: ['./welcome.component.scss']\n})\nexport class WelcomeComponent {\n\n  TOSDataSetService = TOSDataSetService;\n\n  constructor() { }\n\n  routerLink(url: string): string {\n    return TOSUrlService.Route(url);\n  }\n\n}\n","module.exports = \"<div class=\\\"row\\\" *ngIf=\\\"AttackPhysical && AttackPhysical[0] || AttackMagical && AttackMagical[0] || DefensePhysical || DefenseMagical\\\">\\n  <div class=\\\"col\\\">\\n    <div class=\\\"w-100\\\"><hr></div>\\n\\n    <div class=\\\"bg-primary text-white p-2\\\">\\n      <div class=\\\"row\\\" *ngIf=\\\"AttackPhysical && AttackPhysical[0]\\\">\\n        <div class=\\\"col text-left tos-icon tos-icon-attack\\\"><b>Physical Attack</b></div>\\n        <div class=\\\"col text-right\\\">\\n          <span>{{ (AttackPhysical[0] + anvilATK) | number }}</span>\\n          <span *ngIf=\\\"AttackPhysical[1]\\\"> ~ {{ (AttackPhysical[1] + anvilATK) | number }}</span>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row\\\" *ngIf=\\\"AttackMagical && AttackMagical[0]\\\">\\n        <div class=\\\"col text-left tos-icon tos-icon-attack\\\"><b>Magic Attack</b></div>\\n        <div class=\\\"col text-right\\\">\\n          <span>{{ (AttackMagical[0] + anvilATK) | number }}</span>\\n          <span *ngIf=\\\"AttackMagical[1]\\\"> ~ {{ (AttackMagical[1] + anvilATK) | number }}</span>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row\\\" *ngIf=\\\"DefensePhysical\\\">\\n        <div class=\\\"col text-left tos-icon tos-icon-defense\\\"><b>Physical Defense</b></div>\\n        <div class=\\\"col text-right\\\">{{ (DefensePhysical + anvilDEF) | number }}</div>\\n      </div>\\n\\n      <div class=\\\"row\\\" *ngIf=\\\"DefenseMagical\\\">\\n        <div class=\\\"col text-left tos-icon tos-icon-defense\\\"><b>Magic Defense</b></div>\\n        <div class=\\\"col text-right\\\">{{ (DefenseMagical + anvilDEF) | number }}</div>\\n      </div>\\n\\n      <div class=\\\"text-right\\\" *ngIf=\\\"anvilLevel\\\">\\n        Anvil Enhancement <span class=\\\"text-success\\\">▲</span> {{ (anvilDEF || anvilATK) | number }}\\n      </div>\\n      <div class=\\\"text-right\\\" *ngIf=\\\"transcendLevel\\\">\\n        Transcendence <span class=\\\"text-success\\\">▲</span> {{ (transcendATKRatio - 1) | percent }}\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2VudGl0eS1kZXRhaWwvZW50aXR5LWRldGFpbC1BdHRhY2tEZWZlbnNlL2VudGl0eS1kZXRhaWwtQXR0YWNrRGVmZW5zZS5jb21wb25lbnQuc2NzcyJ9 */\"","import {ChangeDetectorRef, Component, Input, OnChanges, SimpleChanges} from '@angular/core';\nimport {EntityDetailChildComponent} from \"../entity-detail-child.component\";\n\n@Component({\n  selector: 'tos-entity-detail-AttackDefense',\n  templateUrl: './entity-detail-AttackDefense.component.html',\n  styleUrls: ['./entity-detail-AttackDefense.component.scss']\n})\nexport class EntityDetailAttackDefenseComponent extends EntityDetailChildComponent implements OnChanges {\n\n  @Input() anvilLevel: number;\n  @Input() transcendLevel: number;\n\n  anvilATK: number = 0;\n  anvilDEF: number = 0;\n  transcendATKRatio: number = 1;\n  transcendMDEFRatio: number = 1;\n  transcendPDEFRatio: number = 1;\n\n  constructor(changeDetector: ChangeDetectorRef) { super(changeDetector) }\n\n  get AttackPhysical(): number[] {\n    if (this.equipment)\n      return [\n        Math.round(this.equipment.Stat_ATTACK_PHYSICAL_MIN * this.transcendATKRatio),\n        Math.round(this.equipment.Stat_ATTACK_PHYSICAL_MAX * this.transcendATKRatio)\n      ];\n    if (this.monster)\n      return [\n        this.monster.Stat_ATTACK_PHYSICAL_MIN,\n        this.monster.Stat_ATTACK_PHYSICAL_MAX\n      ];\n\n    return null;\n  }\n\n  get AttackMagical(): number[] {\n    if (this.equipment)\n      return [Math.round(this.equipment.Stat_ATTACK_MAGICAL * this.transcendATKRatio), null];\n    if (this.monster)\n      return [\n        this.monster.Stat_ATTACK_MAGICAL_MIN,\n        this.monster.Stat_ATTACK_MAGICAL_MAX\n      ];\n\n    return null;\n  }\n\n  get DefenseMagical(): number {\n    if (this.equipment)\n      return Math.round(this.equipment.Stat_DEFENSE_MAGICAL * this.transcendMDEFRatio);\n    if (this.monster)\n      return this.monster.Stat_DEFENSE_MAGICAL;\n\n    return null;\n  }\n\n  get DefensePhysical(): number {\n    if (this.equipment)\n      return Math.round(this.equipment.Stat_DEFENSE_PHYSICAL * this.transcendPDEFRatio);\n    if (this.monster)\n      return this.monster.Stat_DEFENSE_PHYSICAL;\n\n    return null;\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n\n    if (changes.anvilLevel && this.equipment) {\n      this.anvilATK = this.equipment.AnvilATK(this.anvilLevel);\n      this.anvilDEF = this.equipment.AnvilDEF(this.anvilLevel);\n    }\n\n    if (changes.transcendLevel && this.equipment) {\n      this.transcendATKRatio = 1 + this.equipment.TranscendATKRatio(this.transcendLevel);\n      this.transcendMDEFRatio = 1 + this.equipment.TranscendMDEFRatio(this.transcendLevel);\n      this.transcendPDEFRatio = 1 + this.equipment.TranscendPDEFRatio(this.transcendLevel);\n    }\n  }\n\n}\n","module.exports = \"<div *ngIf=\\\"(collection || equipment || equipmentSet) && (entity['Bonus'] && entity['Bonus'] != [] || entity['Unidentified'] || entity['UnidentifiedRandom'])\\\">\\n  <div *ngIf=\\\"divider\\\" class=\\\"w-100\\\"><hr></div>\\n  <h5 *ngIf=\\\"header && collection\\\">Bonus</h5>\\n  <h5 *ngIf=\\\"header && equipment\\\">Stats</h5>\\n\\n  <div class=\\\"row\\\" *ngIf=\\\"!equipmentSet\\\">\\n    <div class=\\\"col\\\">\\n      <div class=\\\"row\\\" *ngFor=\\\"let bonus of entity['Bonus']\\\">\\n        <div class=\\\"col\\\" *ngIf=\\\"bonus.Value\\\">\\n          {{ bonus.Stat }}\\n          <span class=\\\"text-success\\\" *ngIf=\\\"bonus.Value > 0\\\">▲</span>\\n          <span class=\\\"text-danger\\\" *ngIf=\\\"bonus.Value < 0\\\">▼</span>\\n          {{ Math.abs(bonus.Value) }}\\n        </div>\\n        <div class=\\\"col\\\" *ngIf=\\\"bonus.ValueHTML\\\" [innerHTML]=\\\"'- ' + bonus.ValueHTML\\\"></div>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col text-muted\\\" *ngIf=\\\"equipment?.Unidentified\\\">*Unidentified</div>\\n        <div class=\\\"col text-muted\\\" *ngIf=\\\"equipment?.UnidentifiedRandom\\\">*Unidentified with random stats</div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <table class=\\\"table table-borderless mb-0\\\" *ngIf=\\\"equipmentSet\\\">\\n    <tbody>\\n      <tr *ngFor=\\\"let entry of equipmentSet.Bonus | keyvalue\\\">\\n        <th scope=\\\"row\\\" class=\\\"text-nowrap\\\" width=\\\"1\\\">{{ entry.key }}+ Pieces</th>\\n        <td><div *ngFor=\\\"let bonus of entry.value\\\" [innerHTML]=\\\"bonus.ValueHTML\\\"></div></td>\\n      </tr>\\n    </tbody>\\n  </table>\\n\\n</div>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2VudGl0eS1kZXRhaWwvZW50aXR5LWRldGFpbC1Cb251c1N0YXRzVW5pZGVudGlmaWVkL2VudGl0eS1kZXRhaWwtQm9udXNTdGF0c1VuaWRlbnRpZmllZC5jb21wb25lbnQuc2NzcyJ9 */\"","import {ChangeDetectorRef, Component, Input} from '@angular/core';\nimport {EntityDetailChildComponent} from \"../entity-detail-child.component\";\n\n@Component({\n  selector: 'tos-entity-detail-BonusStatsUnidentified',\n  templateUrl: './entity-detail-BonusStatsUnidentified.component.html',\n  styleUrls: ['./entity-detail-BonusStatsUnidentified.component.scss']\n})\nexport class EntityDetailBonusStatsUnidentifiedComponent extends EntityDetailChildComponent {\n\n  @Input('divider')\n  divider: boolean;\n\n  @Input('header')\n  header: boolean;\n\n  constructor(changeDetector: ChangeDetectorRef) { super(changeDetector) }\n\n}\n","module.exports = \"<div class=\\\"w-100\\\"><hr></div>\\n<h5 class=\\\"text-center\\\">{{ 'Page ' + page + ' of ' + pages.length }}</h5>\\n\\n<ngb-carousel class=\\\"row\\\" style=\\\"min-height: 25rem;\\\" [interval]=\\\"false\\\" [wrap]=\\\"false\\\" (slide)=\\\"onSlide($event)\\\">\\n  <ng-template ngbSlide *ngFor=\\\"let page of pages\\\">\\n    <p class=\\\"pl-5 pr-5 pb-5 text-multiline\\\">{{ page }}</p>\\n  </ng-template>\\n</ngb-carousel>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2VudGl0eS1kZXRhaWwvZW50aXR5LWRldGFpbC1Cb29rL2VudGl0eS1kZXRhaWwtQm9vay5jb21wb25lbnQuc2NzcyJ9 */\"","import {ChangeDetectorRef, Component, OnChanges, SimpleChanges} from '@angular/core';\nimport {EntityDetailChildComponent} from \"../entity-detail-child.component\";\n\n@Component({\n  selector: 'tos-entity-detail-Book',\n  templateUrl: './entity-detail-Book.component.html',\n  styleUrls: ['./entity-detail-Book.component.scss']\n})\nexport class EntityDetailBookComponent extends EntityDetailChildComponent implements OnChanges {\n\n  page: number = 1;\n  pages: string[];\n\n  constructor(changeDetector: ChangeDetectorRef) { super(changeDetector) }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    super.ngOnChanges(changes);\n\n    if (this.book)\n      this.pages = this.book.Pages.split('{np}');\n  }\n\n  onSlide(event: any) {\n    if (event.direction == 'left')   this.page ++;\n    if (event.direction == 'right')  this.page --;\n  }\n\n\n}\n","module.exports = \"<!-- Icon -->\\n<tos-entity-detail-ClassIconGrade [entity]=\\\"entity\\\" [size]=\\\"'xlarge'\\\"></tos-entity-detail-ClassIconGrade>\\n\\n<!-- Name -->\\n<h5 class=\\\"position-absolute text-center text-outline text-white w-100\\\" style=\\\"top: -36px;\\\">\\n  {{ card.Name }}\\n</h5>\\n\\n<!-- Element and Race -->\\n<img class=\\\"position-absolute\\\" height=\\\"40\\\" width=\\\"40\\\" [src]=\\\"TOSElementService.icon(card.MonsterElement)\\\" [title]=\\\"card.MonsterElement\\\" style=\\\"left: 24px; top: 6px;\\\"/>\\n<img class=\\\"position-absolute\\\" height=\\\"40\\\" width=\\\"40\\\" [src]=\\\"TOSMonsterRaceService.icon(card.MonsterRace)\\\" [title]=\\\"card.MonsterRace\\\" style=\\\"right: 24px; top: 8px;\\\"/>\\n\"","module.exports = \":host {\\n  position: relative;\\n  display: block;\\n  margin: auto;\\n  max-width: 100%;\\n  width: 363px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9lbnRpdHktZGV0YWlsL2VudGl0eS1kZXRhaWwtQ2FyZC9lbnRpdHktZGV0YWlsLUNhcmQuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2VudGl0eS1kZXRhaWwvZW50aXR5LWRldGFpbC1DYXJkL2VudGl0eS1kZXRhaWwtQ2FyZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLGFBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7Q0NDRCIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2VudGl0eS1kZXRhaWwvZW50aXR5LWRldGFpbC1DYXJkL2VudGl0eS1kZXRhaWwtQ2FyZC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luOiBhdXRvO1xuICBtYXgtd2lkdGg6IDEwMCU7XG4gIHdpZHRoOiAzNjNweDtcbn1cbiIsIjpob3N0IHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luOiBhdXRvO1xuICBtYXgtd2lkdGg6IDEwMCU7XG4gIHdpZHRoOiAzNjNweDtcbn0iXX0= */\"","import {ChangeDetectorRef, Component} from '@angular/core';\nimport {EntityDetailChildComponent} from \"../entity-detail-child.component\";\n\n@Component({\n  selector: 'tos-entity-detail-Card',\n  templateUrl: './entity-detail-Card.component.html',\n  styleUrls: ['./entity-detail-Card.component.scss']\n})\nexport class EntityDetailCardComponent extends EntityDetailChildComponent {\n\n  constructor(changeDetector: ChangeDetectorRef) { super(changeDetector); }\n\n}\n","module.exports = \"<div *ngIf=\\\"!equipmentSet\\\">\\n  <div class=\\\"m-auto\\\" [style.width]=\\\"ICON_WIDTH + 'px'\\\">\\n    <div class=\\\"w-100\\\" [style.height]=\\\"ICON_HEIGHT + 'px'\\\">\\n      <div class=\\\"position-relative d-flex align-items-center justify-content-center w-100 h-100\\\">\\n        <img class=\\\"position-absolute\\\"\\n             style=\\\"max-height: 100%; max-width: 100%; left: 0; top: 0\\\"\\n             [src]=\\\"'assets/images/equipment_grade_' + (equipment.Grade + '').toLowerCase() + '_' + size + '.png'\\\"\\n             *ngIf=\\\"equipment\\\"\\n        />\\n        <img class=\\\"position-relative m-auto\\\"\\n             style=\\\"max-height: 100%; max-width: 100%;\\\"\\n             [src]=\\\"Icon\\\"\\n        />\\n        <img class=\\\"position-absolute\\\"\\n             style=\\\"height: 533px; width: 363px; transform: translateY(-35px);\\\"\\n             [src]=\\\"'assets/images/card_frame_' + (card.TypeCard + '').toLowerCase() + '.png'\\\"\\n             *ngIf=\\\"card\\\"\\n        />\\n      </div>\\n    </div>\\n\\n    <div class=\\\"row justify-content-around ml-auto mr-auto\\\" *ngIf=\\\"equipment\\\"\\n         [ngClass]=\\\"{ 'mt-2': !labels }\\\">\\n      <div *ngFor=\\\"let classTree of [TOSClassTree.ARCHER, TOSClassTree.SCOUT, TOSClassTree.SWORDSMAN, TOSClassTree.CLERIC, TOSClassTree.WIZARD]\\\" class=\\\"col-4 p-0\\\"\\n           [ngClass]=\\\"{ 'mt-3': labels, 'mt-1': !labels }\\\">\\n        <img [src]=\\\"'assets/images/equipment_class_' + classTree.toString().toLowerCase() + '_' + (equipment.IsUsableBy(classTree) ? 'yes' : 'no') + '.png'\\\" style=\\\"vertical-align: top\\\" />\\n        <span class=\\\"ml-1\\\" [ngClass]=\\\"{ 'text-muted': !equipment.IsUsableBy(classTree) }\\\" *ngIf=\\\"labels\\\">\\n          {{ classTree.toString() }}\\n        </span>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"row ml-auto mr-auto justify-content-center\\\" *ngIf=\\\"skill\\\">\\n    <div *ngFor=\\\"let stance of skill.RequiredStance\\\">\\n      <img [alt]=\\\"stance.Name\\\" [title]=\\\"stance.Name\\\" [src]=\\\"stance.Icon\\\" />\\n    </div>\\n  </div>\\n\\n</div>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2VudGl0eS1kZXRhaWwvZW50aXR5LWRldGFpbC1DbGFzc0ljb25HcmFkZS9lbnRpdHktZGV0YWlsLUNsYXNzSWNvbkdyYWRlLmNvbXBvbmVudC5zY3NzIn0= */\"","import {ChangeDetectorRef, Component, Input, NgZone, OnDestroy, SimpleChanges} from '@angular/core';\nimport {EntityDetailChildComponent} from \"../entity-detail-child.component\";\nimport {TOSEquipmentType} from \"../../../domain/tos/tos-domain\";\n\n@Component({\n  selector: 'tos-entity-detail-ClassIconGrade',\n  templateUrl: './entity-detail-ClassIconGrade.component.html',\n  styleUrls: ['./entity-detail-ClassIconGrade.component.scss']\n})\nexport class EntityDetailClassIconGradeComponent extends EntityDetailChildComponent implements OnDestroy {\n  static readonly ICON_SMALL_HEIGHT = 100;\n  static readonly ICON_SMALL_WIDTH = 100;\n  static readonly ICON_LARGE_HEIGHT = 229;\n  static readonly ICON_LARGE_WIDTH = 351;\n  static readonly ICON_XLARGE_HEIGHT = 440;\n  static readonly ICON_XLARGE_WIDTH = 330;\n\n  @Input('size')\n  size: 'small' | 'large' | 'xlarge';\n\n  @Input('labels')\n  labels: boolean;\n\n  ICON_HEIGHT: number;\n  ICON_WIDTH: number;\n\n  private iconInterval: any;\n  private iconIntervalChange: boolean;\n\n  constructor(\n    public changeDetector: ChangeDetectorRef,\n    private zone: NgZone,\n  ) { super(changeDetector) }\n\n  get Icon(): string {\n    if (this.card)\n      return this.card.IconTooltip;\n\n    if (this.equipment && this.iconInterval)\n      return this.iconIntervalChange\n        ? this.equipment.Icon.replace('_f', '_m')\n        : this.equipment.Icon.replace('_m', '_f');\n\n    return this.entity.Icon;\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    super.ngOnChanges(changes);\n\n    if (changes.entity) {\n      clearInterval(this.iconInterval);\n\n      // In case it's a class costume (with no male/female suffix), flip between the two\n      if (this.equipment && this.equipment.Icon) {\n        let isClassCostume =\n          this.equipment.TypeEquipment == TOSEquipmentType.COSTUME_OUTFIT &&\n          !this.equipment.Name.includes('(Female)') &&\n          !this.equipment.Name.includes('(Male)') && (\n            this.equipment.Icon.includes('_f') && !this.equipment.$ID_NAME.includes('_f') ||\n            this.equipment.Icon.includes('_m') && !this.equipment.$ID_NAME.includes('_m')\n          );\n\n        if (isClassCostume) {\n          this.zone.runOutsideAngular(() => this.iconInterval = setInterval(() => {\n            this.iconIntervalChange = !this.iconIntervalChange;\n            this.changeDetector.detectChanges();\n          }, 1500));\n        }\n      }\n    }\n\n    if (changes.size) {\n      if (this.size == 'xlarge') {\n        this.ICON_HEIGHT = EntityDetailClassIconGradeComponent.ICON_XLARGE_HEIGHT;\n        this.ICON_WIDTH = EntityDetailClassIconGradeComponent.ICON_XLARGE_WIDTH;\n      } else if (this.size == 'large') {\n        this.ICON_HEIGHT = EntityDetailClassIconGradeComponent.ICON_LARGE_HEIGHT;\n        this.ICON_WIDTH = EntityDetailClassIconGradeComponent.ICON_LARGE_WIDTH;\n      } else if (this.size == 'small' || !this.equipment) {\n        this.ICON_HEIGHT = EntityDetailClassIconGradeComponent.ICON_SMALL_HEIGHT;\n        this.ICON_WIDTH = EntityDetailClassIconGradeComponent.ICON_SMALL_WIDTH;\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    clearInterval(this.iconInterval);\n  }\n\n}\n","module.exports = \"<div *ngIf=\\\"entity['Description'] || entity['DescriptionHTML']\\\">\\n  <div class=\\\"w-100\\\" *ngIf=\\\"divider\\\"><hr></div>\\n  <h5 *ngIf=\\\"header\\\">Description</h5>\\n\\n  <p class=\\\"text-multiline mb-0\\\" [innerHTML]=\\\"((entity['Description'] || '') + (entity['DescriptionRequired'] || '')) | sanitizeHTML\\\"></p>\\n</div>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2VudGl0eS1kZXRhaWwvZW50aXR5LWRldGFpbC1EZXNjcmlwdGlvbi9lbnRpdHktZGV0YWlsLURlc2NyaXB0aW9uLmNvbXBvbmVudC5zY3NzIn0= */\"","import {ChangeDetectorRef, Component, Input} from '@angular/core';\nimport {EntityDetailChildComponent} from \"../entity-detail-child.component\";\n\n@Component({\n  selector: 'tos-entity-detail-Description',\n  templateUrl: './entity-detail-Description.component.html',\n  styleUrls: ['./entity-detail-Description.component.scss']\n})\nexport class EntityDetailDescriptionComponent extends EntityDetailChildComponent {\n\n  @Input() divider: boolean;\n  @Input() header: boolean;\n\n  constructor(changeDetector: ChangeDetectorRef) { super(changeDetector) }\n\n}\n","module.exports = \"<div class=\\\"row\\\" *ngIf=\\\"equipment || monster\\\">\\n  <div class=\\\"col\\\">\\n    <div class=\\\"w-100\\\"><hr></div>\\n\\n    <div *ngIf=\\\"equipment\\\">\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-5\\\">Potential</div>\\n        <div class=\\\"col text-center text-white\\\">\\n          <div class=\\\"rounded tos-bar\\\" style=\\\"background: #528273;\\\">\\n            {{ equipment.Potential + ' / ' + equipment.Potential }}\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row mt-1\\\">\\n        <div class=\\\"col-5\\\">Durability</div>\\n        <div class=\\\"col text-center text-white\\\">\\n          <div class=\\\"rounded tos-bar\\\" style=\\\"background: #B55108;\\\">\\n            {{ equipment.Durability + ' / ' + equipment.Durability }}\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row mt-1\\\">\\n        <div class=\\\"col-5\\\">Sockets</div>\\n        <div class=\\\"col text-center\\\">{{ equipment.Sockets + ' / ' + equipment.SocketsLimit }}</div>\\n      </div>\\n    </div>\\n\\n    <div *ngIf=\\\"monster\\\">\\n      <div class=\\\"row mt-1\\\">\\n        <div class=\\\"col-5\\\">HP</div>\\n        <div class=\\\"col text-center text-white\\\">\\n          <div class=\\\"rounded tos-bar\\\" style=\\\"background: linear-gradient(to bottom, #DE5900 0%, #BD4D00 80%);\\\">\\n            {{ monster.Stat_HP | number }}\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row mt-1\\\">\\n        <div class=\\\"col-5\\\">SP</div>\\n        <div class=\\\"col text-center text-white\\\">\\n          <div class=\\\"rounded tos-bar\\\" style=\\\"background: linear-gradient(to bottom, #288CC9 0%, #1F72AF 80%);\\\">\\n            {{ monster.Stat_SP | number }}\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row mt-1\\\">\\n        <div class=\\\"col-5\\\">EXP</div>\\n        <div class=\\\"col text-center text-white\\\">\\n            <div class=\\\"rounded tos-bar\\\" style=\\\"background: linear-gradient(to bottom, #F7D308 0%, #BDA208 80%);\\\">\\n            {{ monster.EXP | number }}\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row mt-1\\\">\\n        <div class=\\\"col-5\\\">Class EXP</div>\\n        <div class=\\\"col text-center text-white\\\">\\n          <div class=\\\"rounded tos-bar\\\" style=\\\"background: linear-gradient(to bottom, #8CCF52 0%, #63A229 80%);\\\">\\n            {{ monster.EXPClass | number }}\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n  </div>\\n</div>\\n\"","module.exports = \".tos-bar {\\n  box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.5);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9lbnRpdHktZGV0YWlsL2VudGl0eS1kZXRhaWwtRHVyYWJpbGl0eVBvdGVudGlhbFNvY2tldHMvZW50aXR5LWRldGFpbC1EdXJhYmlsaXR5UG90ZW50aWFsU29ja2V0cy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvZW50aXR5LWRldGFpbC9lbnRpdHktZGV0YWlsLUR1cmFiaWxpdHlQb3RlbnRpYWxTb2NrZXRzL2VudGl0eS1kZXRhaWwtRHVyYWJpbGl0eVBvdGVudGlhbFNvY2tldHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSw2Q0FBQTtDQ0NEIiwiZmlsZSI6InNyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvZW50aXR5LWRldGFpbC9lbnRpdHktZGV0YWlsLUR1cmFiaWxpdHlQb3RlbnRpYWxTb2NrZXRzL2VudGl0eS1kZXRhaWwtRHVyYWJpbGl0eVBvdGVudGlhbFNvY2tldHMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudG9zLWJhciB7XG4gIGJveC1zaGFkb3c6IGluc2V0IDAgMCA4cHggcmdiYSgwLCAwLCAwLCAwLjUpO1xufVxuIiwiLnRvcy1iYXIge1xuICBib3gtc2hhZG93OiBpbnNldCAwIDAgOHB4IHJnYmEoMCwgMCwgMCwgMC41KTtcbn0iXX0= */\"","import {ChangeDetectorRef, Component} from '@angular/core';\nimport {EntityDetailChildComponent} from \"../entity-detail-child.component\";\n\n@Component({\n  selector: 'tos-entity-detail-DurabilityPotentialSockets',\n  templateUrl: './entity-detail-DurabilityPotentialSockets.component.html',\n  styleUrls: ['./entity-detail-DurabilityPotentialSockets.component.scss']\n})\nexport class EntityDetailDurabilityPotentialSocketsComponent extends EntityDetailChildComponent {\n\n  constructor(changeDetector: ChangeDetectorRef) { super(changeDetector) }\n\n}\n","module.exports = \"<div class=\\\"w-100\\\"><hr></div>\\n<h5 *ngIf=\\\"header\\\">{{ header }}</h5>\\n\\n<table class=\\\"table table-borderless table-sm text-center\\\">\\n  <tbody>\\n    <!-- Anvil -->\\n    <tr *ngIf=\\\"anvilAvailable\\\" class=\\\"table-primary\\\">\\n      <th width=\\\"120\\\">Anvil</th>\\n      <th>Bonus</th>\\n      <th>Silver</th>\\n      <th>Total</th>\\n    </tr>\\n    <tr *ngIf=\\\"anvilAvailable\\\">\\n      <td>\\n        <tos-input-number [min]=\\\"0\\\"\\n                          [max]=\\\"40\\\"\\n                          [model]=\\\"anvilLevel\\\"\\n                          (modelChange)=\\\"onAnvilChange($event)\\\"></tos-input-number>\\n      </td>\\n      <td class=\\\"align-middle\\\">{{ anvilBonus }}</td>\\n      <td class=\\\"align-middle\\\">{{ anvilSilver | number }}</td>\\n      <td class=\\\"align-middle\\\">{{ anvilSilverTotal | number }}</td>\\n    </tr>\\n\\n    <!-- Attribute -->\\n    <tr *ngIf=\\\"attributeAvailable\\\" class=\\\"table-primary\\\">\\n      <th width=\\\"120\\\">Level</th>\\n      <th>Attribute Points</th>\\n      <th>Silver</th>\\n      <th>Total</th>\\n    </tr>\\n    <tr *ngIf=\\\"attributeAvailable\\\">\\n      <td>\\n        <tos-input-number [min]=\\\"0\\\"\\n                          [max]=\\\"attribute.LevelMax\\\"\\n                          [model]=\\\"attributeLevel\\\"\\n                          (modelChange)=\\\"onAttributeChange($event)\\\"></tos-input-number>\\n      </td>\\n      <td class=\\\"align-middle\\\">{{ attributePoints | number }}</td>\\n      <td class=\\\"align-middle\\\">{{ attributeSilver | number }}</td>\\n      <td class=\\\"align-middle\\\">{{ attributeSilverTotal | number }}</td>\\n    </tr>\\n\\n    <!-- Transcendence -->\\n    <tr *ngIf=\\\"transcendAvailable\\\" class=\\\"table-primary\\\">\\n      <th width=\\\"120\\\">Transcendence</th>\\n      <th>Bonus</th>\\n      <th class=\\\"text-nowrap\\\">Blessed Gems</th>\\n      <th>Total</th>\\n    </tr>\\n    <tr *ngIf=\\\"transcendAvailable\\\">\\n      <td>\\n        <tos-input-number [min]=\\\"0\\\"\\n                          [max]=\\\"10\\\"\\n                          [model]=\\\"transcendLevel\\\"\\n                          (modelChange)=\\\"onTranscendChange($event)\\\"></tos-input-number>\\n      </td>\\n      <td class=\\\"align-middle\\\">{{ transcendBonus | percent }}</td>\\n      <td class=\\\"align-middle\\\">{{ transcendShards }}</td>\\n      <td class=\\\"align-middle\\\">{{ transcendShardsTotal }}</td>\\n    </tr>\\n\\n  </tbody>\\n</table>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2VudGl0eS1kZXRhaWwvZW50aXR5LWRldGFpbC1FbmhhbmNlbWVudC9lbnRpdHktZGV0YWlsLUVuaGFuY2VtZW50LmNvbXBvbmVudC5zY3NzIn0= */\"","import {ChangeDetectorRef, Component, EventEmitter, Input, OnChanges, Output, SimpleChanges} from '@angular/core';\nimport {EntityDetailChildComponent} from \"../entity-detail-child.component\";\n\n@Component({\n  selector: 'tos-entity-detail-Enhancement',\n  templateUrl: './entity-detail-Enhancement.component.html',\n  styleUrls: ['./entity-detail-Enhancement.component.scss']\n})\nexport class EntityDetailEnhancementComponent extends EntityDetailChildComponent implements OnChanges {\n\n  @Input() header: string;\n\n  @Input() anvilLevel: number;\n  @Output() anvilLevelChange: EventEmitter<number> = new EventEmitter();\n\n  anvilAvailable: boolean;\n  anvilBonus: number = 0;\n  anvilSilver: number = 0;\n  anvilSilverTotal: number = 0;\n\n  attributeAvailable: boolean;\n  attributeLevel: number = 0;\n  attributePoints: number = 0;\n  attributeSilver: number = 0;\n  attributeSilverTotal: number = 0;\n\n  @Input() transcendLevel: number;\n  @Output() transcendLevelChange: EventEmitter<number> = new EventEmitter();\n\n  transcendAvailable: boolean;\n  transcendBonus: number = 0;\n  transcendShards: number = 0;\n  transcendShardsTotal: number = 0;\n\n  constructor(changeDetector: ChangeDetectorRef) { super(changeDetector) }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n\n    this.anvilAvailable = this.equipment && this.equipment.IsAnvilAvailable;\n    this.attributeAvailable = !!this.attribute;\n    this.transcendAvailable = this.equipment && this.equipment.IsTranscendAvailable;\n  }\n\n  onAnvilChange(newValue) {\n    if (this.anvilLevel == newValue) return;\n\n    this.anvilLevel = newValue;\n    this.anvilLevelChange.emit(newValue);\n\n    this.anvilBonus = this.equipment.AnvilDEF(this.anvilLevel) || this.equipment.AnvilATK(this.anvilLevel);\n    this.anvilSilver = this.equipment.AnvilPrice(this.anvilLevel);\n    this.anvilSilverTotal = this.equipment.AnvilPriceTotal(this.anvilLevel);\n  }\n\n  onAttributeChange(newValue) {\n    if (this.attributeLevel == newValue) return;\n\n    this.attributeLevel = newValue;\n    this.attributePoints = this.attribute.Price(this.attributeLevel);\n    this.attributeSilver = this.attributePoints * 1000;\n    this.attributeSilverTotal = this.attribute.PriceTotal(this.attributeLevel) * 1000;\n  }\n\n  onTranscendChange(newValue) {\n    if (this.transcendLevel == newValue) return;\n\n    this.transcendLevel = newValue;\n    this.transcendLevelChange.emit(newValue);\n\n    this.transcendBonus = this.equipment.TranscendATKRatio(this.transcendLevel);\n    this.transcendShards = this.equipment.TranscendPrice(this.transcendLevel);\n    this.transcendShardsTotal = this.equipment.TranscendPriceTotal(this.transcendLevel);\n  }\n\n  onWheel(event) {} // Do nothing.. just so the user can use the wheel to control the input\n\n}\n","module.exports = \"<div class=\\\"p-2 mt-3\\\" *ngIf=\\\"gem\\\">\\n  <tos-input-number class=\\\"h5 text-center\\\" *ngIf=\\\"editable && gem.TypeGem != TOSGemType.SKILL\\\"\\n                    [label]=\\\"'Level'\\\"\\n                    [min]=\\\"1\\\" [max]=\\\"10\\\"\\n                    [(model)]=\\\"level\\\"></tos-input-number>\\n\\n  <table class=\\\"table table-borderless mb-0\\\">\\n    <tbody>\\n      <tr *ngFor=\\\"let entry of gem.Bonus(level) | keyvalue\\\">\\n        <td class=\\\"p-1 align-middle\\\" width=\\\"1\\\">\\n          <img class=\\\"bg-primary rounded-circle p-2\\\" [src]=\\\"'assets/images/gem_effect_' + entry.key.toLowerCase() + '.png'\\\" [title]=\\\"entry.key\\\" />\\n        </td>\\n        <td [innerHTML]=\\\"entry.value.join('<br/>')\\\"></td>\\n      </tr>\\n    </tbody>\\n  </table>\\n</div>\\n\"","module.exports = \"button[disabled] {\\n  opacity: 0 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9lbnRpdHktZGV0YWlsL2VudGl0eS1kZXRhaWwtR2VtL2VudGl0eS1kZXRhaWwtR2VtLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9lbnRpdHktZGV0YWlsL2VudGl0eS1kZXRhaWwtR2VtL2VudGl0eS1kZXRhaWwtR2VtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usc0JBQUE7Q0NDRCIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2VudGl0eS1kZXRhaWwvZW50aXR5LWRldGFpbC1HZW0vZW50aXR5LWRldGFpbC1HZW0uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJidXR0b25bZGlzYWJsZWRdIHtcbiAgb3BhY2l0eTogMCAhaW1wb3J0YW50Oztcbn1cbiIsImJ1dHRvbltkaXNhYmxlZF0ge1xuICBvcGFjaXR5OiAwICFpbXBvcnRhbnQ7XG59Il19 */\"","import {ChangeDetectorRef, Component, Input} from '@angular/core';\nimport {EntityDetailChildComponent} from \"../entity-detail-child.component\";\nimport {TOSGemType} from \"../../../domain/tos/tos-domain\";\n\n@Component({\n  selector: 'tos-entity-detail-Gem',\n  templateUrl: './entity-detail-Gem.component.html',\n  styleUrls: ['./entity-detail-Gem.component.scss']\n})\nexport class EntityDetailGemComponent extends EntityDetailChildComponent {\n  readonly TOSGemType = TOSGemType;\n\n  level: number = 1;\n\n  @Input() editable: boolean = true;\n  @Input() header: boolean;\n\n  constructor(changeDetector: ChangeDetectorRef) { super(changeDetector); }\n\n}\n","module.exports = \"<div>\\n  <div>{{ entity.Name }}</div>\\n  <small class=\\\"text-muted\\\" *ngIf=\\\"titleSmall\\\">{{ titleSmall }}</small>\\n  <small class=\\\"text-muted\\\" *ngIf=\\\"titleSmall && idName\\\"> · </small>\\n  <small class=\\\"text-muted\\\" *ngIf=\\\"idName\\\">{{ entity.$ID + ' · ' + entity.$ID_NAME }}</small>\\n</div>\\n\"","module.exports = \":host {\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9lbnRpdHktZGV0YWlsL2VudGl0eS1kZXRhaWwtSGVhZGVyL2VudGl0eS1kZXRhaWwtaGVhZGVyLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9lbnRpdHktZGV0YWlsL2VudGl0eS1kZXRhaWwtSGVhZGVyL2VudGl0eS1kZXRhaWwtaGVhZGVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZUFBQTtDQ0NEIiwiZmlsZSI6InNyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvZW50aXR5LWRldGFpbC9lbnRpdHktZGV0YWlsLUhlYWRlci9lbnRpdHktZGV0YWlsLWhlYWRlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgZGlzcGxheTogYmxvY2s7XG59XG4iLCI6aG9zdCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xufSJdfQ== */\"","import {ChangeDetectorRef, Component, Input} from '@angular/core';\nimport {EntityDetailChildComponent} from \"../entity-detail-child.component\";\nimport {TOSEquipmentTypeService} from \"../../../domain/tos/tos-domain\";\n\n@Component({\n  selector: 'tos-entity-detail-Header',\n  templateUrl: './entity-detail-header.component.html',\n  styleUrls: ['./entity-detail-header.component.scss']\n})\nexport class EntityDetailHeaderComponent extends EntityDetailChildComponent {\n\n  @Input() idName: boolean;\n\n  constructor(changeDetector: ChangeDetectorRef) { super(changeDetector) }\n\n  get titleSmall(): string {\n    if (this.equipment)\n      return TOSEquipmentTypeService.toStringHuman(this.equipment.TypeEquipment) +\n        (this.equipment.Material ? ' [' + this.equipment.Material + ']' : '') +\n        (this.equipment.TypeAttack ? ' [' + this.equipment.TypeAttack + ']' : '');\n    else if (this.monster)\n      return this.monster.Rank + ' [' + this.monster.Armor + ']';\n    else if (this.gem)\n      return this.item.Type + ' [' + this.gem.TypeGem + ']';\n    else if (this.item)\n      return this.item.Type;\n  }\n\n}\n","module.exports = \"<div *ngIf=\\\"attribute || item || job || monster || skill\\\">\\n  <div class=\\\"w-100\\\" *ngIf=\\\"divider\\\"><hr></div>\\n  <h5 *ngIf=\\\"header\\\">Information</h5>\\n\\n  <!-- Level/Difficulty/CoolDown and Toggleable/LifeTime/Rank/Size/SP -->\\n  <div class=\\\"row pt-2 text-nowrap\\\" *ngIf=\\\"attribute || item || job || monster || skill\\\">\\n    <div class=\\\"col\\\" *ngIf=\\\"attribute || equipment || job || monster\\\">\\n      <h6 *ngIf=\\\"attribute\\\">Maximum Level: {{ attribute.LevelMax }}</h6>\\n      <h6 *ngIf=\\\"job\\\" class=\\\"d-flex flex-row\\\">\\n        <span class=\\\"badge badge-primary pt-1 pb-1 text-left\\\">Difficulty</span>\\n        <span class=\\\"col pt-1 pb-1 text-right\\\">{{ job.JobDifficulty }}</span>\\n      </h6>\\n      <h6 *ngIf=\\\"equipment || monster\\\">Level {{ equipment?.RequiredLevel || monster?.Level }}</h6>\\n    </div>\\n    <div class=\\\"col\\\" *ngIf=\\\"skill || item && !equipment\\\"><h6>\\n      <fa-icon class=\\\"mr-1\\\" [icon]=\\\"faClock\\\"></fa-icon>\\n      {{ ((item ? item.TimeCoolDown : skillCoolDown) | tosTime) || 'No cooldown' }}</h6>\\n    </div>\\n\\n    <div class=\\\"col text-right\\\">\\n      <h6 *ngIf=\\\"attribute\\\">{{ attribute.IsToggleable ? 'Toggleable' : '' }}</h6>\\n      <h6 *ngIf=\\\"item\\\">{{ item.TimeLifeTime ? ('Expires in ' + (item.TimeLifeTime | tosTime)) : 'No expiration' }}</h6>\\n      <h6 *ngIf=\\\"job\\\" class=\\\"d-flex flex-row\\\">\\n        <span class=\\\"badge badge-primary pt-1 pb-1 text-left\\\">Rank</span>\\n        <span class=\\\"col pt-1 pb-1 text-right\\\">{{ job.Rank }}</span>\\n      </h6>\\n      <h6 *ngIf=\\\"monster\\\">{{ monster.Size }}</h6>\\n      <h6 *ngIf=\\\"skill\\\">{{ skillSP }}&nbsp;<fa-icon style=\\\"color: #319AFF\\\" [icon]=\\\"faTint\\\"></fa-icon></h6>\\n    </div>\\n  </div>\\n\\n  <!-- Weight/Type/OverHeat and Price/Shinobi+Simony -->\\n  <div class=\\\"row text-nowrap\\\" *ngIf=\\\"item || job || skill\\\">\\n    <div class=\\\"col\\\" *ngIf=\\\"item\\\"><h6>\\n      <fa-icon class=\\\"mr-1\\\" [icon]=\\\"faWeightHanging\\\"></fa-icon>\\n      {{ (item.Weight | number) || 0 }}</h6>\\n    </div>\\n    <div class=\\\"col\\\" *ngIf=\\\"job\\\">\\n      <h6 *ngIf=\\\"job\\\" class=\\\"d-flex flex-row\\\">\\n        <span class=\\\"badge badge-primary pt-1 pb-1 text-left\\\">Role</span>\\n        <span class=\\\"col pt-1 pb-1 text-right\\\">{{ job.JobType ? job.JobType.join(', ') : '' }}</span>\\n      </h6>\\n    </div>\\n    <div class=\\\"col\\\" *ngIf=\\\"skill && skill.OverHeat\\\"><h6>\\n      <fa-icon class=\\\"ml-1 mr-1\\\" [icon]=\\\"faBolt\\\"></fa-icon>\\n      {{ skill.OverHeat }} overheat</h6>\\n    </div>\\n\\n    <div class=\\\"col text-right\\\" *ngIf=\\\"item || skill\\\">\\n      <h6 *ngIf=\\\"item\\\" class=\\\"tos-icon tos-icon-price\\\">{{ item.Price }}</h6>\\n      <h6 *ngIf=\\\"skill && (skill.IsEnchanter || skill.IsPardoner || skill.IsRunecaster || skill.IsShinobi)\\\">\\n        {{ skill.IsEnchanter\\n            ? 'Craftable by Enchanter'\\n            : skill.IsPardoner\\n                ? 'Craftable by Pardoner'\\n                : skill.IsRunecaster\\n                  ? 'Craftable by Runecaster'\\n                  : skill.IsShinobi\\n                    ? 'Cloneable by Shinobi'\\n                    : '' }}\\n      </h6>\\n    </div>\\n  </div>\\n\\n  <!-- Element and Race -->\\n  <div class=\\\"row text-nowrap\\\" *ngIf=\\\"monster\\\">\\n    <div class=\\\"col\\\">\\n      <h6>\\n        <img class=\\\"align-middle mr-1\\\"\\n             height=\\\"24\\\"\\n             width=\\\"24\\\"\\n             [src]=\\\"'assets/images/element_' + entity['Element'].toString().toLowerCase() + '.png'\\\" />\\n        <span>{{ entity['Element'] }}</span>\\n      </h6>\\n    </div>\\n    <div class=\\\"col\\\">\\n      <h6 class=\\\"text-right\\\">\\n        <span>{{ monster.Race }}</span>\\n        <img class=\\\"align-middle ml-1\\\"\\n             height=\\\"24\\\"\\n             width=\\\"24\\\"\\n             [src]=\\\"'assets/images/monster_race_' + monster.Race.toString().toLowerCase() + '.png'\\\" />\\n      </h6>\\n    </div>\\n  </div>\\n\\n  <!-- Tradability -->\\n  <div class=\\\"row mt-1\\\" *ngIf=\\\"item\\\">\\n    <div class=\\\"col\\\">\\n      <table class=\\\"table table-sm text-center mb-0\\\">\\n        <tbody>\\n        <tr>\\n          <td [class]=\\\"item.isTradable(TOSItemTradability.MARKET) ? 'table-success' : 'table-secondary'\\\" >{{ TOSItemTradability.MARKET }}</td>\\n          <td [class]=\\\"item.isTradable(TOSItemTradability.PLAYER) ? 'table-success' : 'table-secondary'\\\" >{{ TOSItemTradability.PLAYER }}</td>\\n          <td [class]=\\\"item.isTradable(TOSItemTradability.SHOP) ? 'table-success' : 'table-secondary'\\\" >{{ TOSItemTradability.SHOP }}</td>\\n          <td [class]=\\\"item.isTradable(TOSItemTradability.TEAM) ? 'table-success' : 'table-secondary'\\\" >{{ TOSItemTradability.TEAM }}</td>\\n        </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \".badge {\\n  font-size: inherit;\\n}\\n\\n.table td {\\n  border-top: none !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9lbnRpdHktZGV0YWlsL2VudGl0eS1kZXRhaWwtSW5mb3JtYXRpb24vZW50aXR5LWRldGFpbC1JbmZvcm1hdGlvbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvZW50aXR5LWRldGFpbC9lbnRpdHktZGV0YWlsLUluZm9ybWF0aW9uL2VudGl0eS1kZXRhaWwtSW5mb3JtYXRpb24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxtQkFBQTtDQ0NEOztBREVEO0VBQ0UsNEJBQUE7Q0NDRCIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2VudGl0eS1kZXRhaWwvZW50aXR5LWRldGFpbC1JbmZvcm1hdGlvbi9lbnRpdHktZGV0YWlsLUluZm9ybWF0aW9uLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJhZGdlIHtcbiAgZm9udC1zaXplOiBpbmhlcml0O1xufVxuXG4udGFibGUgdGQge1xuICBib3JkZXItdG9wOiBub25lICFpbXBvcnRhbnQ7XG59XG4iLCIuYmFkZ2Uge1xuICBmb250LXNpemU6IGluaGVyaXQ7XG59XG5cbi50YWJsZSB0ZCB7XG4gIGJvcmRlci10b3A6IG5vbmUgIWltcG9ydGFudDtcbn0iXX0= */\"","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  SimpleChanges\n} from '@angular/core';\nimport {EntityDetailChildComponent} from \"../entity-detail-child.component\";\nimport {Subscription} from \"rxjs\";\nimport {ITOSBuild, ITOSSkill} from \"../../../domain/tos/tos-domain\";\nimport {faBolt, faTint, faWeightHanging} from \"@fortawesome/free-solid-svg-icons\";\nimport {faClock} from \"@fortawesome/free-regular-svg-icons\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'tos-entity-detail-Information',\n  templateUrl: './entity-detail-Information.component.html',\n  styleUrls: ['./entity-detail-Information.component.scss']\n})\nexport class EntityDetailInformationComponent extends EntityDetailChildComponent implements OnChanges, OnDestroy {\n  readonly faBolt = faBolt;\n  readonly faClock = faClock;\n  readonly faTint = faTint;\n  readonly faWeightHanging = faWeightHanging;\n\n  @Input() build: ITOSBuild;\n  @Input() divider: boolean;\n  @Input() header: boolean;\n\n  skillCoolDown: number;\n  skillSP: number;\n  subscriptionSkill: Subscription;\n\n  constructor(changeDetector: ChangeDetectorRef) { super(changeDetector) }\n\n  async onSkillChange(value: ITOSSkill) {\n    if (value == null || value.$ID == this.skill.$ID) {\n      this.skillCoolDown = await this.skill.BuildCoolDown(this.build).toPromise() / 1000;\n      this.skillSP = await this.skill.BuildSP(this.build).toPromise();\n      this.changeDetector.markForCheck();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n\n    if (this.build && this.skill) {\n      this.subscriptionSkill && this.subscriptionSkill.unsubscribe();\n      this.subscriptionSkill = this.build.Skill$.subscribe(value => this.onSkillChange(value));\n\n      this.onSkillChange(null);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.changeDetector.detach();\n    this.subscriptionSkill && this.subscriptionSkill.unsubscribe();\n  }\n\n\n}\n","module.exports = \"<div *ngIf=\\\"job && job.IconAnimations\\\">\\n  <ngb-carousel class=\\\"row d-flex align-items-center pt-3 pb-5\\\" [interval]=\\\"false\\\" [wrap]=\\\"true\\\">\\n    <ng-template ngbSlide *ngFor=\\\"let icon of job.IconAnimations\\\">\\n      <div class=\\\"d-flex justify-content-center w-100\\\">\\n        <img class=\\\"rounded\\\" style=\\\"background: #ecf0f1\\\" [src]=\\\"icon\\\" />\\n      </div>\\n    </ng-template>\\n  </ngb-carousel>\\n</div>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2VudGl0eS1kZXRhaWwvZW50aXR5LWRldGFpbC1Kb2JBbmltYXRpb24vZW50aXR5LWRldGFpbC1Kb2JBbmltYXRpb24uY29tcG9uZW50LnNjc3MifQ== */\"","import {ChangeDetectorRef, Component} from '@angular/core';\nimport {EntityDetailChildComponent} from \"../entity-detail-child.component\";\n\n@Component({\n  selector: 'tos-entity-detail-JobAnimation',\n  templateUrl: './entity-detail-JobAnimation.component.html',\n  styleUrls: ['./entity-detail-JobAnimation.component.scss']\n})\nexport class EntityDetailJobAnimationComponent extends EntityDetailChildComponent {\n\n  constructor(changeDetector: ChangeDetectorRef) { super(changeDetector) }\n\n}\n","module.exports = \"<img class=\\\"position-absolute w-100 h-100\\\" [src]=\\\"job.Icon\\\" />\\n<div class=\\\"d-flex flex-row position-absolute justify-content-center w-100\\\" style=\\\"bottom: 0\\\">\\n  <fa-icon *ngFor=\\\"let c of job.CircleAvailable\\\" [icon]=\\\"faStar\\\"\\n           [size]=\\\"size\\\"\\n           [ngClass]=\\\"{ 'text-warning': c <= circle }\\\"></fa-icon>\\n</div>\\n\"","module.exports = \":host {\\n  display: block;\\n  position: relative;\\n  width: 4rem;\\n  height: 4rem;\\n}\\n\\nfa-icon {\\n  color: #bbb;\\n  filter: drop-shadow(0 0 1px #222);\\n  stroke: #222;\\n  stroke-width: 3rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9lbnRpdHktZGV0YWlsL2VudGl0eS1kZXRhaWwtSm9iSWNvbi9za2lsbC1idWlsZGVyLWpvYi1pY29uLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9lbnRpdHktZGV0YWlsL2VudGl0eS1kZXRhaWwtSm9iSWNvbi9za2lsbC1idWlsZGVyLWpvYi1pY29uLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZUFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7Q0NDRDs7QURFRDtFQUNFLFlBQUE7RUFDQSxrQ0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtDQ0NEIiwiZmlsZSI6InNyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvZW50aXR5LWRldGFpbC9lbnRpdHktZGV0YWlsLUpvYkljb24vc2tpbGwtYnVpbGRlci1qb2ItaWNvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDRyZW07XG4gIGhlaWdodDogNHJlbTtcbn1cblxuZmEtaWNvbiB7XG4gIGNvbG9yOiAjYmJiO1xuICBmaWx0ZXI6IGRyb3Atc2hhZG93KCAwIDAgMXB4ICMyMjIgKTtcbiAgc3Ryb2tlOiAjMjIyO1xuICBzdHJva2Utd2lkdGg6IDNyZW07XG59XG4iLCI6aG9zdCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiA0cmVtO1xuICBoZWlnaHQ6IDRyZW07XG59XG5cbmZhLWljb24ge1xuICBjb2xvcjogI2JiYjtcbiAgZmlsdGVyOiBkcm9wLXNoYWRvdygwIDAgMXB4ICMyMjIpO1xuICBzdHJva2U6ICMyMjI7XG4gIHN0cm9rZS13aWR0aDogM3JlbTtcbn0iXX0= */\"","import {ChangeDetectionStrategy, Component, Input} from '@angular/core';\nimport {SizeProp} from \"@fortawesome/fontawesome-svg-core\";\nimport {TOSJob} from \"../../../domain/tos/job/tos-job.model\";\nimport {faStar} from \"@fortawesome/free-solid-svg-icons\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'tos-entity-detail-JobIcon',\n  templateUrl: './skill-builder-job-icon.component.html',\n  styleUrls: ['./skill-builder-job-icon.component.scss']\n})\nexport class EntityDetailJobIconComponent {\n  readonly faStar = faStar;\n\n  @Input() circle: number;\n  @Input() job: TOSJob;\n  @Input() size: SizeProp;\n\n  constructor() { }\n\n}\n","module.exports = \"<div *ngIf=\\\"build && skill\\\">\\n  <div class=\\\"w-100\\\" *ngIf=\\\"divider\\\"><hr></div>\\n\\n  <tos-input-number class=\\\"h5 text-center mt-3 mb-3\\\" *ngIf=\\\"input\\\"\\n                    [label]=\\\"'Level'\\\"\\n                    [labelMax]=\\\"build.skillLevelMax$(skill) | async\\\"\\n                    [min]=\\\"0\\\" [max]=\\\"(build.skillLevelMax$(skill) | async) + 5\\\"\\n                    [model]=\\\"skillLevel\\\"\\n                    (modelChange)=\\\"onSkillLevelIncrement($event)\\\"></tos-input-number>\\n\\n  <!-- Description -->\\n  <tos-entity-detail-Description [entity]=\\\"entity\\\"></tos-entity-detail-Description>\\n\\n  <!-- Skill Effects -->\\n  <div *ngIf=\\\"build\\\">\\n    <hr />\\n    <p class=\\\"text-multiline mb-0\\\" [innerHTML]=\\\"effectHTML | sanitizeHTML\\\"></p>\\n  </div>\\n\\n  <!-- Information -->\\n  <tos-entity-detail-Information [build]=\\\"build\\\"\\n                                 [entity]=\\\"entity\\\"\\n                                 [divider]=\\\"true\\\"></tos-entity-detail-Information>\\n\\n</div>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2VudGl0eS1kZXRhaWwvZW50aXR5LWRldGFpbC1Ta2lsbC9lbnRpdHktZGV0YWlsLVNraWxsLmNvbXBvbmVudC5zY3NzIn0= */\"","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  SimpleChanges\n} from '@angular/core';\nimport {EntityDetailChildComponent} from \"../entity-detail-child.component\";\nimport {Subscription} from \"rxjs\";\nimport {ITOSBuild} from \"../../../domain/tos/tos-domain\";\nimport {filter} from \"rxjs/operators\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'tos-entity-detail-Skill',\n  templateUrl: './entity-detail-Skill.component.html',\n  styleUrls: ['./entity-detail-Skill.component.scss']\n})\nexport class EntityDetailSkillComponent extends EntityDetailChildComponent implements OnChanges, OnDestroy {\n\n  @Input() build: ITOSBuild;\n  @Input() divider: boolean;\n  @Input() input: boolean;\n\n  effectHTML: string;\n  skillLevel: number;\n  subscriptionSkill: Subscription;\n\n  constructor(changeDetector: ChangeDetectorRef) { super(changeDetector) }\n\n  async onSkillChange() {\n    this.skillLevel = this.build.skillLevel(this.skill);\n    this.effectHTML = await this.build.skillEffect$(this.skill, this.input).toPromise();\n    this.changeDetector.markForCheck();\n  }\n\n  onSkillLevelIncrement(value: number) {\n    this.build.skillLevelIncrement$(this.skill, value - this.skillLevel, true);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n\n    if (this.build && this.skill) {\n      this.subscriptionSkill && this.subscriptionSkill.unsubscribe();\n      this.subscriptionSkill = this.build.Skill$\n        .pipe(filter(value => value && value.$ID == this.skill.$ID))\n        .subscribe(value => this.onSkillChange());\n\n      this.onSkillChange()\n    } else if (!this.skill) {\n      this.subscriptionSkill && this.subscriptionSkill.unsubscribe();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptionSkill && this.subscriptionSkill.unsubscribe();\n  }\n\n}\n","module.exports = \"<div *ngIf=\\\"build && skill\\\">\\n  <div class=\\\"w-100\\\" *ngIf=\\\"divider\\\"><hr></div>\\n  <h5>Formulas</h5>\\n\\n  <ul class=\\\"nav nav-tabs flex-nowrap\\\" style=\\\"overflow-x: auto; overflow-y: hidden; border-bottom: 0 !important\\\">\\n    <li *ngFor=\\\"let tab of tabs\\\" class=\\\"nav-item\\\">\\n      <a class=\\\"nav-link text-capitalize\\\"\\n         [ngClass]=\\\"{ 'active': active == tab}\\\"\\n         [href]=\\\"'#' + tab\\\"\\n         (click)=\\\"onTabClick($event, tab)\\\">{{ tab }}</a>\\n    </li>\\n  </ul>\\n\\n  <div class=\\\"card\\\" style=\\\"border-top: 0 !important; border-top-left-radius: 0\\\">\\n    <small class=\\\"card-body text-monospace\\\" style=\\\"line-height: 1.3; max-height: 20rem; overflow-x: auto; white-space: pre\\\"\\n         [innerHTML]=\\\"tabsHTML[active] | sanitizeHTML\\\"></small>\\n  </div>\\n</div>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2VudGl0eS1kZXRhaWwvZW50aXR5LWRldGFpbC1Ta2lsbEZvcm11bGEvZW50aXR5LWRldGFpbC1Ta2lsbEZvcm11bGEuY29tcG9uZW50LnNjc3MifQ== */\"","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  SimpleChanges\n} from '@angular/core';\nimport {EntityDetailChildComponent} from \"../entity-detail-child.component\";\nimport {ITOSBuild} from \"../../../domain/tos/tos-domain\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'tos-entity-detail-SkillFormula',\n  templateUrl: './entity-detail-SkillFormula.component.html',\n  styleUrls: ['./entity-detail-SkillFormula.component.scss']\n})\nexport class EntityDetailSkillFormulaComponent extends EntityDetailChildComponent implements OnChanges, OnDestroy {\n\n  @Input() build: ITOSBuild;\n  @Input() divider: boolean;\n\n  active: string;\n  tabs: string[];\n  tabsHTML: { [key: string]: string } = {};\n\n  constructor(changeDetector: ChangeDetectorRef) { super(changeDetector); }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n\n    if (this.build && this.skill) {\n      this.tabs = this.skill.EffectProps\n        .map(match => match[1])\n        .filter((value, index, self) => self.indexOf(value) === index)\n        .concat(['CoolDown', 'SP']);\n\n      this.active = this.tabs[0];\n      this.tabs.map(tab => this.build\n        .skillEffectFormula$(this.skill, tab)\n        .subscribe((value) => {\n          this.tabsHTML[tab] = value;\n          this.changeDetector.markForCheck();\n        })\n      );\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.changeDetector.detach();\n  }\n\n  onTabClick(event: MouseEvent, tab: string) {\n    event.preventDefault();\n    this.active = tab;\n  }\n\n}\n","module.exports = \"<div class=\\\"w-100\\\"><hr></div>\\n<h5 *ngIf=\\\"card\\\">Stats (Card Battle)</h5>\\n<h5 *ngIf=\\\"monster\\\">Stats</h5>\\n\\n<div *ngIf=\\\"card\\\">\\n  <div class=\\\"row text-center\\\">\\n    <div class=\\\"col\\\">\\n      <table class=\\\"table table-borderless table-sm mb-0\\\">\\n        <thead>\\n        <tr class=\\\"table-primary\\\">\\n          <th scope=\\\"col\\\">Height</th>\\n          <th scope=\\\"col\\\">Legs</th>\\n          <th scope=\\\"col\\\">Weight</th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr>\\n          <td>{{ card.Stat_Height | number }}</td>\\n          <td>{{ card.Stat_Legs | number }}</td>\\n          <td>{{ card.Stat_Weight | number }}</td>\\n        </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n  </div>\\n</div>\\n\\n<div *ngIf=\\\"monster\\\">\\n  <div class=\\\"row text-center\\\">\\n    <div class=\\\"col\\\">\\n      <table class=\\\"table table-borderless table-sm\\\">\\n        <thead>\\n        <tr class=\\\"table-primary\\\">\\n          <th scope=\\\"col\\\">STR</th>\\n          <th scope=\\\"col\\\">CON</th>\\n          <th scope=\\\"col\\\">INT</th>\\n          <th scope=\\\"col\\\">SPR</th>\\n          <th scope=\\\"col\\\">DEX</th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr>\\n          <td>{{ monster.Stat_STR | number }}</td>\\n          <td>{{ monster.Stat_CON | number }}</td>\\n          <td>{{ monster.Stat_INT | number }}</td>\\n          <td>{{ monster.Stat_SPR | number }}</td>\\n          <td>{{ monster.Stat_DEX | number }}</td>\\n        </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"row text-center\\\">\\n    <div class=\\\"col\\\">\\n      <table class=\\\"table table-borderless table-sm\\\">\\n        <thead>\\n        <tr class=\\\"table-primary\\\">\\n          <th scope=\\\"col\\\">Accuracy</th>\\n          <th scope=\\\"col\\\">Evasion</th>\\n          <th scope=\\\"col\\\">Defense</th>\\n          <th scope=\\\"col\\\">Magic Defense</th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr>\\n          <td>{{ monster.Stat_Accuracy | number }}</td>\\n          <td>{{ monster.Stat_Evasion | number }}</td>\\n          <td>{{ monster.Stat_DEFENSE_PHYSICAL | number }}</td>\\n          <td>{{ monster.Stat_DEFENSE_MAGICAL | number }}</td>\\n        </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"row text-center\\\">\\n    <div class=\\\"col\\\">\\n      <table class=\\\"table table-borderless table-sm\\\">\\n        <thead>\\n        <tr class=\\\"table-primary\\\">\\n          <th scope=\\\"col\\\">Critical Damage</th>\\n          <th scope=\\\"col\\\">Critical Defense</th>\\n          <th scope=\\\"col\\\">Critical Rate</th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr>\\n          <td>{{ monster.Stat_CriticalDamage | number }}</td>\\n          <td>{{ monster.Stat_CriticalDefense | number }}</td>\\n          <td>{{ monster.Stat_CriticalRate | number }}</td>\\n        </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"row text-center\\\">\\n    <div class=\\\"col\\\">\\n      <table class=\\\"table table-borderless table-sm mb-0\\\">\\n        <thead>\\n        <tr class=\\\"table-primary\\\">\\n          <th scope=\\\"col\\\">Block Penetration</th>\\n          <th scope=\\\"col\\\">Block Rate</th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr>\\n          <td>{{ monster.Stat_BlockPenetration | number }}</td>\\n          <td>{{ monster.Stat_BlockRate | number }}</td>\\n        </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2VudGl0eS1kZXRhaWwvZW50aXR5LWRldGFpbC1TdGF0cy9lbnRpdHktZGV0YWlsLVN0YXRzLmNvbXBvbmVudC5zY3NzIn0= */\"","import {ChangeDetectorRef, Component} from '@angular/core';\nimport {EntityDetailChildComponent} from \"../entity-detail-child.component\";\n\n@Component({\n  selector: 'tos-entity-detail-Stats',\n  templateUrl: './entity-detail-Stats.component.html',\n  styleUrls: ['./entity-detail-Stats.component.scss']\n})\nexport class EntityDetailStatsComponent extends EntityDetailChildComponent {\n\n  constructor(changeDetector: ChangeDetectorRef) { super(changeDetector) }\n\n}\n","module.exports = \"<div>\\n  <div class=\\\"w-100\\\" *ngIf=\\\"divider\\\"><hr></div>\\n  <h5>{{ header }}</h5>\\n\\n  <tos-entity-table class=\\\"d-block\\\" style=\\\"max-height: calc(49px * 4.5); overflow-y: auto;\\\"\\n                    [columns]=\\\"columns\\\"\\n                    [data]=\\\"data\\\"\\n                    [header]=\\\"false\\\"\\n                    [hideMobile]=\\\"true\\\"\\n                    [hideTablet]=\\\"true\\\"\\n                    [selected]=\\\"selected\\\"\\n                    [themeInvert]=\\\"themeInvert\\\"\\n  ></tos-entity-table>\\n</div>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2VudGl0eS1kZXRhaWwvZW50aXR5LWRldGFpbC1UYWJsZS9lbnRpdHktZGV0YWlsLVRhYmxlLmNvbXBvbmVudC5zY3NzIn0= */\"","import {ChangeDetectorRef, Component, Input, OnChanges, SimpleChanges} from '@angular/core';\nimport {EntityDetailChildComponent} from \"../entity-detail-child.component\";\nimport {Observable, Subscription} from \"rxjs\";\nimport {EntityTableColumn} from \"../../entity-table/entity-table.component\";\n\n@Component({\n  selector: 'tos-entity-detail-Table',\n  templateUrl: './entity-detail-Table.component.html',\n  styleUrls: ['./entity-detail-Table.component.scss']\n})\nexport class EntityDetailTableComponent extends EntityDetailChildComponent implements OnChanges {\n\n  @Input() columns: EntityTableColumn[];\n  @Input() data$: Observable<any[]>;\n  @Input() divider: boolean;\n  @Input() header: string;\n  @Input() selected: boolean;\n  @Input() themeInvert: boolean;\n\n  public data: any[];\n  private subscriptionData: Subscription;\n\n  constructor(changeDetector: ChangeDetectorRef) { super(changeDetector) }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    super.ngOnChanges(changes);\n\n    if (changes.data$ && this.data$) {\n      this.subscriptionData && this.subscriptionData.unsubscribe();\n      this.subscriptionData = this.data$.subscribe(value => {\n        this.data = Array.isArray(value) ? value : [value];\n        this.changeDetector.markForCheck();\n      });\n    }\n  }\n\n}\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, SimpleChanges} from \"@angular/core\";\nimport {TOSEntity} from \"../../domain/tos/tos-entity.model\";\nimport {TOSItem} from \"../../domain/tos/item/tos-item.model\";\nimport {TOSMonster} from \"../../domain/tos/monster/tos-monster.model\";\nimport {TOSBook} from \"../../domain/tos/item/book/tos-book.model\";\nimport {TOSCard} from \"../../domain/tos/item/card/tos-card.model\";\nimport {TOSCollection} from \"../../domain/tos/item/collection/tos-collection.model\";\nimport {TOSGem} from \"../../domain/tos/item/gem/tos-gem.model\";\nimport {TOSEquipment, TOSEquipmentSet} from \"../../domain/tos/item/equipment/tos-equipment.model\";\nimport {TOSRecipe} from \"../../domain/tos/item/recipe/tos-recipe.model\";\nimport {TOSSkill} from \"../../domain/tos/skill/tos-skill.model\";\nimport {TOSMap} from \"../../domain/tos/map/tos-map.model\";\nimport {TOSJob} from \"../../domain/tos/job/tos-job.model\";\nimport {TOSAttribute} from \"../../domain/tos/attribute/tos-attribute.model\";\nimport {TOSClassTree, TOSElementService, TOSItemTradability, TOSMonsterRaceService} from \"../../domain/tos/tos-domain\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: ''\n})\nexport class EntityDetailChildComponent {\n  readonly Math = Math;\n  readonly TOSClassTree = TOSClassTree;\n  readonly TOSElementService = TOSElementService;\n  readonly TOSItemTradability = TOSItemTradability;\n  readonly TOSMonsterRaceService = TOSMonsterRaceService;\n\n  @Input() entity: TOSEntity;\n\n  attribute: TOSAttribute;\n  book: TOSBook;\n  card: TOSCard;\n  collection: TOSCollection;\n  equipment: TOSEquipment;\n  equipmentSet: TOSEquipmentSet;\n  gem: TOSGem;\n  item: TOSItem;\n  job: TOSJob;\n  map: TOSMap;\n  monster: TOSMonster;\n  recipe: TOSRecipe;\n  skill: TOSSkill;\n\n  constructor(protected changeDetector: ChangeDetectorRef) { }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.entity) {\n      this.attribute = this.entity instanceof TOSAttribute ? this.entity as TOSAttribute : null;\n      this.book = this.entity instanceof TOSBook ? this.entity as TOSBook : null;\n      this.card = this.entity instanceof TOSCard ? this.entity as TOSCard : null;\n      this.collection = this.entity instanceof TOSCollection ? this.entity as TOSCollection : null;\n      this.equipment = this.entity instanceof TOSEquipment ? this.entity as TOSEquipment : null;\n      this.equipmentSet = this.entity instanceof TOSEquipmentSet ? this.entity as TOSEquipmentSet : null;\n      this.gem = this.entity instanceof TOSGem ? this.entity as TOSGem : null;\n      this.item = this.entity instanceof TOSItem ? this.entity as TOSItem : null;\n      this.job = this.entity instanceof TOSJob ? this.entity as TOSJob : null;\n      this.map = this.entity instanceof TOSMap ? this.entity as TOSMap : null;\n      this.monster = this.entity instanceof TOSMonster ? this.entity as TOSMonster : null;\n      this.recipe = this.entity instanceof TOSRecipe ? this.entity as TOSRecipe : null;\n      this.skill = this.entity instanceof TOSSkill ? this.entity as TOSSkill : null;\n    }\n  }\n\n}\n","module.exports = \"<!-- Table -->\\n<table class=\\\"table table-hover mb-0\\\">\\n  <thead *ngIf=\\\"header\\\">\\n    <tr tosSortGroup [ngModel]=\\\"sort\\\" (ngModelChange)=\\\"sortChange.emit($event)\\\">\\n      <th *ngIf=\\\"selected\\\" [width]=\\\"1\\\"></th>\\n      <th *ngFor=\\\"let column of columnsFiltered\\\" tosSort\\n          [column]=\\\"column.pipe.column\\\"\\n          [label]=\\\"column.label\\\"\\n          [ngClass]=\\\"{\\n            'd-none': column.hideMobile || column.hideTablet,\\n            'd-sm-table-cell': column.hideMobile,\\n            'd-lg-table-cell': column.hideTablet,\\n            'text-nowrap': !column.wide\\n          }\\\"\\n          [width]=\\\"column.wide ? '' : 1\\\"></th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <a *ngFor=\\\"let row of data; trackBy: trackByIndex\\\" class=\\\"d-table-row\\\"\\n       [ngClass]=\\\"{ 'bg-primary': themeInvert, 'text-white': themeInvert }\\\"\\n       [routerLink]=\\\"row['Url$'] ? (row['Url$'] | async) : row.Url\\\"\\n       (click)=\\\"onRowMouseClick($event, row)\\\"\\n       (mouseover)=\\\"onRowMouseOver($event, row)\\\"\\n       (mouseleave)=\\\"onRowMouseLeave($event)\\\">\\n      <!-- Selected -->\\n      <td *ngIf=\\\"selected\\\" class=\\\"text-center\\\" [width]=\\\"1\\\">\\n        <input type=\\\"checkbox\\\" style=\\\"transform: scale(2)\\\"\\n               [(ngModel)]=\\\"row.Selected\\\"\\n               (click)=\\\"$event.stopImmediatePropagation()\\\" />\\n      </td>\\n\\n      <td *ngFor=\\\"let column of columnsFiltered\\\"\\n          [class]=\\\"column.class\\\"\\n          [innerHTML]=\\\"row | tosTableCell:column:changeDetector | async\\\"\\n          [ngClass]=\\\"{\\n            'd-none': column.hideMobile || column.hideTablet,\\n            'd-sm-table-cell': column.hideMobile,\\n            'd-lg-table-cell': column.hideTablet,\\n            'text-nowrap': column.wide || column.class?.indexOf('text-nowrap') >= 0\\n          }\\\"\\n          [width]=\\\"column.wide ? '' : 1\\\">\\n      </td>\\n    </a>\\n  </tbody>\\n</table>\\n\\n<!-- Tooltip -->\\n<app-entity-tooltip class=\\\"d-none d-md-block\\\"\\n                    [debug]=\\\"false\\\"\\n                    [tooltip]=\\\"tooltip\\\"></app-entity-tooltip>\\n\"","module.exports = \":host {\\n  display: block;\\n  overflow: auto;\\n}\\n\\na:first-child td {\\n  border: 0 !important;\\n}\\n\\ntd {\\n  vertical-align: middle;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9lbnRpdHktdGFibGUvZW50aXR5LXRhYmxlLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9lbnRpdHktdGFibGUvZW50aXR5LXRhYmxlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZUFBQTtFQUNBLGVBQUE7Q0NDRDs7QURFRDtFQUFtQixxQkFBQTtDQ0VsQjs7QURBRDtFQUNFLHVCQUFBO0NDR0QiLCJmaWxlIjoic3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9lbnRpdHktdGFibGUvZW50aXR5LXRhYmxlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICBkaXNwbGF5OiBibG9jaztcbiAgb3ZlcmZsb3c6IGF1dG87XG59XG5cbmE6Zmlyc3QtY2hpbGQgdGQgeyBib3JkZXI6IDAgIWltcG9ydGFudDsgfVxuXG50ZCB7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG59XG4iLCI6aG9zdCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBvdmVyZmxvdzogYXV0bztcbn1cblxuYTpmaXJzdC1jaGlsZCB0ZCB7XG4gIGJvcmRlcjogMCAhaW1wb3J0YW50O1xufVxuXG50ZCB7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG59Il19 */\"","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  Output,\n  SimpleChanges,\n} from '@angular/core';\nimport {Sort} from \"../../directives/sort.directive\";\nimport {Observable} from \"rxjs\";\nimport {Router} from \"@angular/router\";\nimport {TableCellLinkPipeDefinition} from \"./pipes/table-cell-link.pipe\";\nimport {ITOSEntity} from \"../../domain/tos/tos-domain\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'tos-entity-table',\n  templateUrl: './entity-table.component.html',\n  styleUrls: ['./entity-table.component.scss']\n})\nexport class EntityTableComponent implements OnChanges {\n\n  static readonly ATTRIBUTE_DATA_COLUMN = 'data-column';\n  static readonly ATTRIBUTE_DATA_I = 'data-i';\n  static readonly ATTRIBUTE_DATA_ROUTER = 'data-router';\n\n  @Input() columns: EntityTableColumn[];\n  @Input() data: ITOSEntity[];\n  @Input() header: boolean = true;\n  @Input() hideMobile: boolean = false;\n  @Input() hideTablet: boolean = false;\n  @Input() selected: boolean = false;\n  @Input() sort: Sort;\n  @Output() sortChange: EventEmitter<Sort> = new EventEmitter();\n  @Input() themeInvert: boolean = false;\n\n  columnsFiltered: EntityTableColumn[];\n  tooltip: ITOSEntity;\n\n  constructor(public changeDetector: ChangeDetectorRef, private router: Router) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.columns && this.columns) {\n      this.columnsFiltered = this.columns\n        .filter(value =>\n          (!this.hideMobile || this.hideMobile != value.hideMobile) &&\n          (!this.hideTablet || this.hideTablet != value.hideTablet)\n        );\n    }\n    if (changes.data) {\n      this.data = this.data && !Array.isArray(this.data) ? [this.data] : this.data;\n    }\n  }\n\n  onRowMouseClick(event: MouseEvent, row: ITOSEntity) {\n    let target = event.target as Element;\n\n    if (target.getAttribute(EntityTableComponent.ATTRIBUTE_DATA_ROUTER)) {\n      event.stopPropagation();\n      event.stopImmediatePropagation();\n\n      let url = target.getAttribute(EntityTableComponent.ATTRIBUTE_DATA_ROUTER);\n      this.router.navigate([url]);\n    }\n  }\n  onRowMouseOver(event: MouseEvent, row: ITOSEntity) {\n    let target = event.target as Element;\n\n    if (target.getAttribute(EntityTableComponent.ATTRIBUTE_DATA_COLUMN)) {\n      // Show tooltips for linked ITOSEntity lists\n      let column = this.columns.find(value => value.pipe.column == target.getAttribute(EntityTableComponent.ATTRIBUTE_DATA_COLUMN));\n      let definition = column.pipe as TableCellLinkPipeDefinition;\n      let observable = row[definition.column] as Observable<ITOSEntity | ITOSEntity[]>;\n          observable.subscribe(value => {\n            let array = Array.isArray(value) ? value : [value];\n            let entity = array[+target.getAttribute(EntityTableComponent.ATTRIBUTE_DATA_I)];\n\n            this.tooltip = entity;\n            this.changeDetector.markForCheck();\n          })\n\n    } else {\n      this.tooltip = row;\n    }\n\n  }\n  onRowMouseLeave(event: MouseEvent) {\n    this.tooltip = null;\n  }\n\n  trackByIndex(index: number, value: ITOSEntity) {\n    return index;\n  }\n\n}\n\nexport interface EntityTableColumn {\n  class?: string;\n\n  hideMobile?: boolean;\n  hideTablet?: boolean;\n\n  label: string;\n  pipe: EntityTablePipeDefinition;\n  wide?: boolean;\n}\n\nexport abstract class EntityTablePipeDefinition {\n  protected constructor(public column: string, public pipeClass: any) {}\n}\n","import {Pipe} from '@angular/core';\nimport {EntityTablePipeDefinition} from \"../entity-table.component\";\nimport {DomSanitizer, SafeHtml} from \"@angular/platform-browser\";\nimport {Observable, of} from \"rxjs\";\nimport {TableCellPipeBase} from \"./table-cell.pipe\";\nimport {ITOSEntity} from \"../../../domain/tos/tos-domain\";\n\n@Pipe({\n  name: 'tableCellBadge'\n})\nexport class TableCellBadgePipe extends TableCellPipeBase<TableCellBadgePipeDefinition> {\n\n  constructor(sanitizer: DomSanitizer) { super(sanitizer) }\n\n  transform(row: ITOSEntity, definition: TableCellBadgePipeDefinition): Observable<SafeHtml> {\n    return of(this.sanitizer.bypassSecurityTrustHtml(`\n        <span>\n            <span class=\"d-inline-block align-text-bottom mr-sm-1 rounded-circle\"\n                  style=\"background: ${ definition.transformColor(row[definition.column]) };\n                         height: 1rem; width: 1rem;\"></span>\n            <span class=\"d-none d-sm-table-cell\">${ row[definition.column] }</span>\n        </span>\n    `));\n  }\n\n}\n\nexport class TableCellBadgePipeDefinition extends EntityTablePipeDefinition {\n  constructor(\n    public column: string,\n    public transformColor: (value: any) => string,\n  ) { super(column, TableCellBadgePipe); }\n}\n","import {Pipe} from '@angular/core';\nimport {EntityTablePipeDefinition} from \"../entity-table.component\";\nimport {DomSanitizer, SafeHtml} from \"@angular/platform-browser\";\nimport {Observable, of} from \"rxjs\";\nimport {TableCellPipeBase} from \"./table-cell.pipe\";\nimport {ITOSEntity} from \"../../../domain/tos/tos-domain\";\n\n@Pipe({\n  name: 'tableCellIcon'\n})\nexport class TableCellIconPipe extends TableCellPipeBase<TableCellIconPipeDefinition> {\n\n  constructor(sanitizer: DomSanitizer) { super(sanitizer) }\n\n  transform(entity: ITOSEntity, definition: TableCellIconPipeDefinition): Observable<SafeHtml> {\n    let src = definition.transformValue ? definition.transformValue(entity[definition.column]) : entity[definition.column];\n    let title = entity[definition.column];\n        title = title.indexOf('http') == 0 ? '' : title;\n\n    return of(this.sanitizer.bypassSecurityTrustHtml(\n      `<img height=\"40\" width=\"40\" src=\"${ src }\" title=\"${ title }\" />`));\n  }\n\n}\n\nexport class TableCellIconPipeDefinition extends EntityTablePipeDefinition {\n  constructor(\n    public column: string,\n    public transformValue?: (value: any) => string,\n  ) { super(column, TableCellIconPipe); }\n}\n","import {ChangeDetectorRef, Pipe} from '@angular/core';\nimport {EntityTableComponent, EntityTablePipeDefinition} from \"../entity-table.component\";\nimport {DomSanitizer, SafeHtml} from \"@angular/platform-browser\";\nimport {Observable} from \"rxjs\";\nimport {map} from \"rxjs/operators\";\nimport {TableCellPipeBase} from \"./table-cell.pipe\";\nimport {ITOSEntity} from \"../../../domain/tos/tos-domain\";\n\n@Pipe({\n  name: 'tableCellLink'\n})\nexport class TableCellLinkPipe extends TableCellPipeBase<TableCellLinkPipeDefinition> {\n\n  constructor(sanitizer: DomSanitizer) { super(sanitizer) }\n\n  transform(row: ITOSEntity, definition: TableCellLinkPipeDefinition, changeDetector: ChangeDetectorRef): Observable<SafeHtml> {\n    let observable = (row[definition.column] as Observable<ITOSEntity | ITOSEntity[]>);\n\n    return observable && observable.pipe(map(value => {\n        let html: string = '';\n        let array = Array.isArray(value) ? value : [value];\n\n        for (let i = 0; i < array.length; i ++) {\n          let entity = array[i];\n          let value = definition.transformValue ? definition.transformValue(array[i]) : null;\n\n          html +=\n           `<a href=\"${ entity.Url }\" class=\"d-block position-relative mr-1\" style=\"height: 40px; width: 40px\">\n                <img height=\"40\" width=\"40\" class=\"position-absolute\" style=\"top: 0; left: 0\"\n                     ${ EntityTableComponent.ATTRIBUTE_DATA_COLUMN }=\"${ definition.column }\"\n                     ${ EntityTableComponent.ATTRIBUTE_DATA_I}=\"${ i }\"\n                     ${ EntityTableComponent.ATTRIBUTE_DATA_ROUTER }=\"${ entity.Url }\"\n                     src=\"${ entity.Icon }\" />\n          ` + (value != null ? `\n                <span class=\"position-absolute text-outline text-white\"\n                      style=\"bottom: 0; right: 0.25rem; pointer-events: none\">${ value }</span>\n          ` : '') + `\n            </a>`\n        }\n\n        changeDetector.detectChanges();\n\n        return this.sanitizer.bypassSecurityTrustHtml('<span class=\"d-flex\">' + html + '</span>');\n    }));\n  }\n\n}\n\nexport class TableCellLinkPipeDefinition extends EntityTablePipeDefinition {\n  constructor(\n    public column: string,\n    public transformValue?: (value: any) => number,\n  ) { super(column, TableCellLinkPipe); }\n}\n","import {Pipe} from '@angular/core';\nimport {EntityTablePipeDefinition} from \"../entity-table.component\";\nimport {DomSanitizer, SafeHtml} from \"@angular/platform-browser\";\nimport {DecimalPipe} from \"@angular/common\";\nimport {TableCellPipeBase} from \"./table-cell.pipe\";\nimport {Observable, of} from \"rxjs\";\nimport {ITOSEntity} from \"../../../domain/tos/tos-domain\";\n\n@Pipe({\n  name: 'tableCellNumber'\n})\nexport class TableCellNumberPipe extends TableCellPipeBase<TableCellNumberPipeDefinition> {\n\n  constructor(private decimal: DecimalPipe, sanitizer: DomSanitizer) { super(sanitizer) }\n\n  transform(row: ITOSEntity, definition: TableCellNumberPipeDefinition): Observable<SafeHtml> {\n    return of(this.sanitizer.bypassSecurityTrustHtml(`\n      <span class=\"text-right\">\n        ${ this.decimal.transform(row[definition.column]) }\n      </span>\n    `));\n  }\n\n}\n\nexport class TableCellNumberPipeDefinition extends EntityTablePipeDefinition {\n  constructor(\n    public column: string,\n  ) { super(column, TableCellNumberPipe); }\n}\n","import {Pipe} from '@angular/core';\nimport {EntityTablePipeDefinition} from \"../entity-table.component\";\nimport {DomSanitizer, SafeHtml} from \"@angular/platform-browser\";\nimport {TableCellPipeBase} from \"./table-cell.pipe\";\nimport {Observable, of} from \"rxjs\";\nimport {ITOSEntity} from \"../../../domain/tos/tos-domain\";\nimport {PercentPipe} from \"@angular/common\";\nimport {TimePipe} from \"../../../directives/time.pipe\";\n\n@Pipe({\n  name: 'tableCellText'\n})\nexport class TableCellTextPipe extends TableCellPipeBase<TableCellTextPipeDefinition> {\n\n  constructor(private percent: PercentPipe, sanitizer: DomSanitizer, private time: TimePipe) { super(sanitizer) }\n\n  transform(entity: ITOSEntity, definition: TableCellTextPipeDefinition): Observable<SafeHtml> {\n    let html = '';\n\n    if (definition.format != null) {\n      switch (definition.format) {\n        case TableCellTextPipeFormat.MULTILINE:\n          html = `<span class=\"text-multiline\">${ entity[definition.column] }</span>`;\n          break;\n        case TableCellTextPipeFormat.PERCENTAGE:\n          html = `<span>${ this.percent.transform(entity[definition.column] / 100, '1.1-5') }</span>`;\n          break;\n        case TableCellTextPipeFormat.QUANTITY:\n          html = `<span>&times; ${ entity[definition.column] }</span>`;\n          break;\n        case TableCellTextPipeFormat.QUANTITY_RANGE:\n          let quantityMin = entity[definition.column.split('.')[0]];\n          let quantityMax = entity[definition.column.split('.')[1]];\n\n          if (quantityMin > 0 || quantityMax > 0)\n            if (quantityMax != quantityMin)\n              html = `<span>&times; ${ quantityMin }~${ quantityMax }</span>`;\n            else\n              html = `<span>&times; ${ quantityMin }</span>`;\n          break;\n        case TableCellTextPipeFormat.TIME:\n          html = `<span>${ this.time.transform(entity[definition.column]) }</span>`;\n          break;\n      }\n    }  else {\n      html = `<span>${ entity[definition.column] }</span>`;\n    }\n\n    return of(this.sanitizer.bypassSecurityTrustHtml(html));\n  }\n\n}\n\nexport class TableCellTextPipeDefinition extends EntityTablePipeDefinition {\n  constructor(\n    public column: string,\n    public format?: TableCellTextPipeFormat,\n  ) { super(column, TableCellTextPipe); }\n}\n\nexport enum TableCellTextPipeFormat {\n  MULTILINE,\n  PERCENTAGE,\n  QUANTITY,\n  QUANTITY_RANGE,\n  TIME,\n}\n","import {ChangeDetectorRef, Injector, Pipe, PipeTransform} from '@angular/core';\nimport {EntityTableColumn, EntityTablePipeDefinition} from \"../entity-table.component\";\nimport {DomSanitizer, SafeHtml} from \"@angular/platform-browser\";\nimport {Observable} from \"rxjs\";\nimport {ITOSEntity} from \"../../../domain/tos/tos-domain\";\n\n@Pipe({\n  name: 'tosTableCell'\n})\nexport class TableCellPipe implements PipeTransform {\n\n  constructor(private injector: Injector) {}\n\n  // Thanks to https://stackoverflow.com/a/46910713\n  transform(row: ITOSEntity, column: EntityTableColumn, changeDetector: ChangeDetectorRef): string {\n    return this.injector\n      .get(column.pipe.pipeClass)\n      .transform(row, column.pipe, changeDetector);\n  }\n\n}\n\nexport abstract class TableCellPipeBase<DEFINITION extends EntityTablePipeDefinition> implements PipeTransform {\n\n  protected constructor(protected sanitizer: DomSanitizer) {}\n\n  abstract transform(row: ITOSEntity, definition: DEFINITION, changeDetector: ChangeDetectorRef): Observable<SafeHtml>;\n}\n","module.exports = \"<div class=\\\"card bg-light shadow ml-4 mt-3\\\" style=\\\"width: 480px;\\\" *ngIf=\\\"entity && !card && !map && !npc\\\">\\n  <div class=\\\"card-body\\\">\\n\\n    <!-- Base Information -->\\n    <div class=\\\"row\\\">\\n      <!-- Icon, Grade and Class -->\\n      <tos-entity-detail-ClassIconGrade class=\\\"ml-3 mr-3\\\" [entity]=\\\"entity\\\" [size]=\\\"'small'\\\"></tos-entity-detail-ClassIconGrade>\\n\\n      <div class=\\\"col pl-0\\\">\\n        <!-- Name and Material/Type -->\\n        <tos-entity-detail-Header class=\\\"h5\\\" [entity]=\\\"entity\\\"></tos-entity-detail-Header>\\n\\n        <!-- Description -->\\n        <tos-entity-detail-Description *ngIf=\\\"job\\\"\\n                                       [entity]=\\\"entity\\\"></tos-entity-detail-Description>\\n\\n        <!-- Skill -->\\n        <tos-entity-detail-Skill [build]=\\\"build\\\"\\n                                 [entity]=\\\"entity\\\"></tos-entity-detail-Skill>\\n\\n        <!-- CoolDown/Level, LifeTime, Weight, Price, Tradability -->\\n        <tos-entity-detail-Information *ngIf=\\\"!skill\\\"\\n                                       [entity]=\\\"entity\\\"\\n                                       [divider]=\\\"skill\\\"></tos-entity-detail-Information>\\n\\n      </div>\\n    </div>\\n\\n    <!-- Gem -->\\n    <tos-entity-detail-Gem [editable]=\\\"false\\\"\\n                           [entity]=\\\"entity\\\"></tos-entity-detail-Gem>\\n\\n    <!-- Description -->\\n    <tos-entity-detail-Description *ngIf=\\\"item && !equipment || attribute\\\"\\n                                   [divider]=\\\"true\\\"\\n                                   [entity]=\\\"entity\\\"></tos-entity-detail-Description>\\n\\n    <!-- Physical and Magical Attack / Defense -->\\n    <tos-entity-detail-AttackDefense [entity]=\\\"entity\\\"></tos-entity-detail-AttackDefense>\\n\\n    <!-- Stats & Unidentified -->\\n    <tos-entity-detail-BonusStatsUnidentified [divider]=\\\"true\\\"\\n                                              [entity]=\\\"entity\\\"></tos-entity-detail-BonusStatsUnidentified>\\n\\n    <!-- Potential, Durability and Sockets / Base EXP and Class EXP -->\\n    <tos-entity-detail-DurabilityPotentialSockets [entity]=\\\"entity\\\"></tos-entity-detail-DurabilityPotentialSockets>\\n\\n  </div>\\n\\n</div>\\n\\n<div style=\\\"width: 363px;\\\" *ngIf=\\\"card && !npc\\\">\\n\\n  <!-- Card -->\\n  <tos-entity-detail-Card [entity]=\\\"entity\\\"></tos-entity-detail-Card>\\n\\n  <div class=\\\"card bg-primary text-white shadow mt-3\\\">\\n    <div class=\\\"card-body\\\">\\n\\n      <!-- Description -->\\n      <tos-entity-detail-Description [entity]=\\\"entity\\\"></tos-entity-detail-Description>\\n\\n    </div>\\n  </div>\\n\\n</div>\\n\"","module.exports = \":host {\\n  position: fixed;\\n  transform: translateZ(0);\\n  pointer-events: none;\\n  z-index: 1000;\\n}\\n\\n.table td {\\n  border-top: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9lbnRpdHktdG9vbHRpcC9lbnRpdHktdG9vbHRpcC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvZW50aXR5LXRvb2x0aXAvZW50aXR5LXRvb2x0aXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBQTtFQUNBLHlCQUFBO0VBQ0EscUJBQUE7RUFDQSxjQUFBO0NDQ0Q7O0FERUQ7RUFDRSxpQkFBQTtDQ0NEIiwiZmlsZSI6InNyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvZW50aXR5LXRvb2x0aXAvZW50aXR5LXRvb2x0aXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDApO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgei1pbmRleDogMTAwMDtcbn1cblxuLnRhYmxlIHRkIHtcbiAgYm9yZGVyLXRvcDogbm9uZTtcbn1cbiIsIjpob3N0IHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVooMCk7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICB6LWluZGV4OiAxMDAwO1xufVxuXG4udGFibGUgdGQge1xuICBib3JkZXItdG9wOiBub25lO1xufSJdfQ== */\"","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  SimpleChanges\n} from '@angular/core';\nimport {NgbTooltipConfig} from \"@ng-bootstrap/ng-bootstrap\";\nimport {TOSItem} from \"../../domain/tos/item/tos-item.model\";\nimport {TOSEntity, TOSEntityLink} from \"../../domain/tos/tos-entity.model\";\nimport {TOSCard} from \"../../domain/tos/item/card/tos-card.model\";\nimport {TOSEquipment} from \"../../domain/tos/item/equipment/tos-equipment.model\";\nimport {TOSSkill} from \"../../domain/tos/skill/tos-skill.model\";\nimport {TOSAttribute} from \"../../domain/tos/attribute/tos-attribute.model\";\nimport {TOSMap} from \"../../domain/tos/map/tos-map.model\";\nimport {TOSJob} from \"../../domain/tos/job/tos-job.model\";\nimport {\n  ITOSBuild,\n  TOSClassTree,\n  TOSElement,\n  TOSEquipmentType,\n  TOSItemTradability,\n  TOSMonsterRace,\n  TOSStat\n} from \"../../domain/tos/tos-domain\";\nimport {TOSDatabaseBuild} from \"../../domain/tos/tos-build\";\nimport {TOSRegionService} from \"../../domain/tos-region\";\nimport {TOSNPC} from \"../../domain/tos/monster/tos-npc.model\";\n\nconst PADDING = 8;\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'app-entity-tooltip',\n  templateUrl: './entity-tooltip.component.html',\n  styleUrls: ['./entity-tooltip.component.scss']\n})\nexport class EntityTooltipComponent implements OnChanges, OnDestroy {\n  readonly Math = Math;\n  readonly TOSClassTree = TOSClassTree;\n  readonly TOSElement = TOSElement;\n  readonly TOSMonsterRace = TOSMonsterRace;\n  readonly TOSEquipmentType = TOSEquipmentType;\n  readonly TOSItemTradable = TOSItemTradability;\n  readonly TOSStat = TOSStat;\n\n  private _isVisible: boolean;\n\n  @Input() build: ITOSBuild;\n  @Input() debug: boolean;\n  @Input() tooltip: TOSEntity;\n\n  entity: TOSEntity;\n  attribute: TOSAttribute;\n  card: TOSCard;\n  equipment: TOSEquipment;\n  item: TOSItem;\n  job: TOSJob;\n  map: TOSMap;\n  npc: TOSNPC;\n  skill: TOSSkill;\n\n  constructor(\n    private changeDetector: ChangeDetectorRef,\n    private element: ElementRef,\n    private ngbTooltipConfig: NgbTooltipConfig,\n    private zone: NgZone\n  ) {\n    this.onMouseLeave();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.tooltip) {\n      this.tooltip ? this.onMouseEnter() : this.onMouseLeave();\n      this.tooltip = this.tooltip instanceof TOSEntityLink ? this.tooltip.Link : this.tooltip;\n\n      this.entity = this.tooltip;\n      this.card = this.entity instanceof TOSCard ? this.entity as TOSCard : null;\n      this.attribute = this.entity instanceof TOSAttribute ? this.entity as TOSAttribute : null;\n      this.equipment = this.entity instanceof TOSEquipment ? this.entity as TOSEquipment : null;\n      this.item = this.entity instanceof TOSItem ? this.entity as TOSItem : null;\n      this.job = this.entity instanceof TOSJob ? this.entity as TOSJob : null;\n      this.map = this.entity instanceof TOSMap ? this.entity as TOSMap : null;\n      this.npc = this.entity instanceof TOSNPC ? this.entity as TOSNPC : null;\n      this.skill = this.entity instanceof TOSSkill ? this.entity as TOSSkill : null;\n\n      if (this.skill) {\n        if (this.build == null || this.build instanceof TOSDatabaseBuild) {\n          this.build = null;\n          this.skill.Link_Job.subscribe(async value => {\n            let build = TOSDatabaseBuild.new(TOSRegionService.get());\n            await build.jobAdd$(value); // Note: we need to add them 3 times, as on pre-Re:Build the level max scales with the selected Job circle\n            await build.jobAdd$(value);\n            await build.jobAdd$(value);\n\n            this.build = build;\n            this.changeDetector.markForCheck();\n          });\n        }\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.onMouseLeave();\n  }\n\n  private onMouseEnter() {\n    if (this._isVisible == (this._isVisible = true)) return;\n\n    this.zone.runOutsideAngular(() => {\n      document.body.addEventListener('mousemove', this.onMouseMove);\n      this.element.nativeElement.style.visibility = 'visible';\n    });\n  }\n\n  private onMouseLeave() {\n    if (this._isVisible == (this._isVisible = false)) return;\n\n    this.zone.runOutsideAngular(() => {\n      document.body.removeEventListener('mousemove', this.onMouseMove);\n      if (!this.debug) this.element.nativeElement.style.visibility = 'hidden';\n    });\n  }\n\n  private onMouseMove = (e: MouseEvent) => {\n    e.preventDefault();\n\n    this.zone.runOutsideAngular(() => {\n      let x = e.clientX, y = e.clientY;\n      let height = this.element.nativeElement.clientHeight, width = this.element.nativeElement.clientWidth;\n      let top = 0, bottom = window.innerHeight - height - PADDING * 2;\n      let left = 0, right = window.innerWidth - width - PADDING * 2;\n\n      if (x > right)  x = x - width - PADDING;\n      if (y > bottom) y = y - height - PADDING;\n\n      this.element.nativeElement.style.left = Math.max(left, Math.min(right, x)) + 'px';\n      this.element.nativeElement.style.top = Math.max(top, Math.min(bottom, y)) + 'px';\n    })\n  }\n\n}\n","module.exports = \"<div class=\\\"align-items-center d-inline-flex w-100\\\">\\n  <button class=\\\"btn btn-primary\\\"\\n          type=\\\"button\\\"\\n          [disabled]=\\\"min != null && model <= min\\\"\\n          (click)=\\\"onClick($event, -1)\\\">-</button>\\n\\n  <span class=\\\"flex-grow-1 text-center\\\"\\n        [ngClass]=\\\"{ 'position-fixed': keyboardOpen, 'invisible': keyboardOpen }\\\"\\n        (click)=\\\"onKeyboard(true)\\\"\\n        (wheel)=\\\"onWheel($event)\\\">\\n    {{ (label ? label + ' ' : '') + model + '/' + (labelMax || max) }}\\n  </span>\\n\\n  <input class=\\\"form-control text-center p-0 border-0\\\" type=\\\"number\\\" [min]=\\\"min\\\" [max]=\\\"max\\\" #keyboard\\n         (focusout)=\\\"onKeyboard(false)\\\"\\n         [ngClass]=\\\"{ 'position-fixed': !keyboardOpen, 'invisible': !keyboardOpen }\\\"\\n         [ngModel]=\\\"model\\\"\\n         (ngModelChange)=\\\"onModelChange($event)\\\" />\\n\\n  <button class=\\\"btn btn-primary\\\"\\n          type=\\\"button\\\"\\n          [disabled]=\\\"max != null && model >= max\\\"\\n          (click)=\\\"onClick($event, +1)\\\">+</button>\\n</div>\\n\"","module.exports = \":host {\\n  display: block;\\n}\\n\\nbutton[disabled] {\\n  opacity: 0 !important;\\n}\\n\\ninput[type=number]::-webkit-inner-spin-button,\\ninput[type=number]::-webkit-outer-spin-button {\\n  -webkit-appearance: none;\\n  margin: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9pbnB1dC1udW1iZXIvaW5wdXQtbnVtYmVyLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9pbnB1dC1udW1iZXIvaW5wdXQtbnVtYmVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZUFBQTtDQ0NEOztBREVEO0VBQ0Usc0JBQUE7Q0NDRDs7QURFRDs7RUFFRSx5QkFBQTtFQUNBLFVBQUE7Q0NDRCIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2lucHV0LW51bWJlci9pbnB1dC1udW1iZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG5idXR0b25bZGlzYWJsZWRdIHtcbiAgb3BhY2l0eTogMCAhaW1wb3J0YW50Oztcbn1cblxuaW5wdXRbdHlwZT1udW1iZXJdOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uLFxuaW5wdXRbdHlwZT1udW1iZXJdOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9uIHtcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICBtYXJnaW46IDA7XG59XG4iLCI6aG9zdCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG5idXR0b25bZGlzYWJsZWRdIHtcbiAgb3BhY2l0eTogMCAhaW1wb3J0YW50O1xufVxuXG5pbnB1dFt0eXBlPW51bWJlcl06Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24sXG5pbnB1dFt0eXBlPW51bWJlcl06Oi13ZWJraXQtb3V0ZXItc3Bpbi1idXR0b24ge1xuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XG4gIG1hcmdpbjogMDtcbn0iXX0= */\"","import {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  Output,\n  SimpleChanges,\n  ViewChild,\n} from '@angular/core';\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'tos-input-number',\n  templateUrl: './input-number.component.html',\n  styleUrls: ['./input-number.component.scss']\n})\nexport class InputNumberComponent implements OnChanges {\n\n  @Input() max: number;\n  @Input() min: number;\n\n  @Input() model: number;\n  @Output() modelChange: EventEmitter<number> = new EventEmitter();\n\n  @Input() label: string;\n  @Input() labelMax: number;\n\n  @ViewChild('keyboard')\n  keyboard: ElementRef;\n  keyboardOpen: boolean;\n\n  constructor() { }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.model)\n      this.model = this.limit(this.model);\n  }\n\n  onClick(event, delta: number) {\n    this.model = this.limit(this.model + delta);\n    this.modelChange.emit(this.model);\n  }\n\n  onKeyboard(value: boolean) {\n    this.keyboardOpen = value;\n\n    if (this.keyboardOpen)\n      window.requestAnimationFrame(() => this.keyboard.nativeElement.focus());\n  }\n\n  onModelChange(newValue) {\n    this.model = this.limit(newValue);\n    this.modelChange.emit(this.model);\n  }\n\n  onWheel(event: MouseWheelEvent): void {\n    event.preventDefault();\n\n    this.model = this.limit(this.model + (event.deltaY < 0 ? 1 : -1));\n    this.modelChange.emit(this.model);\n  }\n\n  limit(model: number) {\n    return Math.max(this.min, Math.min(this.max, model));\n  }\n\n}\n","import {Directive, Input, NgZone, OnChanges, OnDestroy, OnInit, SimpleChanges} from '@angular/core';\n\n@Directive({\n  selector: '[cssMaxHeight]',\n  host: {\n    '[style.maxHeight]': 'maxHeight'\n  }\n})\nexport class CssMaxHeightDirective implements OnInit, OnDestroy, OnChanges {\n\n                          public maxHeight: string;\n  @Input('cssMaxHeight')  private maxHeight$: string;\n\n  constructor(private zone: NgZone) {\n    this.update = this.update.bind(this);\n  }\n\n  ngOnInit(): void {\n    this.zone.runOutsideAngular(() => window.addEventListener('resize', this.update));\n  }\n  ngOnChanges(changes: SimpleChanges): void {\n    this.update();\n  }\n  ngOnDestroy(): void {\n    this.zone.runOutsideAngular(() => window.removeEventListener('resize', this.update));\n  }\n\n  private update() {\n    this.zone.run(() => this.maxHeight = this.maxHeight$ && this.maxHeight$.replace(\n      /([0-9]+)%/g,\n      (match, n) => (+n * window.innerHeight / 100) + 'px'\n    ));\n  }\n\n}\n","import {Directive, ElementRef, forwardRef, HostListener, Input} from '@angular/core';\nimport {NG_VALUE_ACCESSOR} from \"@angular/forms\";\nimport {TOSGroupChildDirective, TOSGroupDirective} from \"./group-child.directive\";\n\nconst PROVIDER_VALUE_ACCESSOR = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => FilterGroupDirective),\n  multi: true\n};\n\n@Directive({\n  selector: '[tosFilterGroup]',\n  host: {'role': 'group'},\n  providers: [PROVIDER_VALUE_ACCESSOR]\n})\nexport class FilterGroupDirective extends TOSGroupDirective<FilterDirective, Filter> {\n\n  @Input('column')\n  column: string;\n\n  @Input('toggle')\n  toggle: boolean;\n\n  public onChildChange(child: FilterDirective) {\n    let value = child.getNewValue();\n        child = value == null ? null : child;\n\n    if (this.toggle && this.$value && this.$value.value == value.value)\n      child = null;\n\n    super.onChildChange(child);\n  }\n\n}\n\n@Directive({\n  selector: '[tosFilter]',\n  host: {\n    '[disabled]': 'disabled',\n    '[class.active]': '$value && value == $value.value',\n    '[style.cursor]': 'disabled ? \"default\" : \"pointer\"',\n    '[style.white-space]': '\"nowrap\"',\n  }\n})\nexport class FilterDirective extends TOSGroupChildDirective<FilterDirective, Filter> {\n\n  @Input('value')\n  value: number;\n\n  constructor(private _group: FilterGroupDirective, private _element: ElementRef) {\n    super(_group, _element);\n  }\n\n  getNewValue(): Filter {\n    return this.value\n      ? new Filter((this.$group as FilterGroupDirective).column, this.value)\n      : null;\n  }\n\n  @HostListener('click')\n  onClick(e: MouseEvent) {\n    if (!this.disabled)\n      this._group.onChildChange(this);\n  }\n\n}\n\nexport class Filter {\n  constructor(public column: string, public value: number) {}\n\n  public toString(): string {\n    return this.column + ',' + this.value;\n  }\n\n  public static valueOf(value: string): Filter {\n    if (value == null || (value + '') == '') return null;\n\n    let parts = value.split(',');\n    return new Filter(parts[0], +parts[1]);\n  }\n}\n","import {ElementRef, Input, OnDestroy,} from '@angular/core';\nimport {ControlValueAccessor} from \"@angular/forms\";\n\nexport abstract class TOSGroupDirective<C extends TOSGroupChildDirective<C, V>, V> implements ControlValueAccessor {\n\n  private _children: Set<C> = new Set<C>();\n  private _disabled: boolean;\n  protected $value: V;\n\n  @Input('disabled')\n  get disabled(): boolean { return this._disabled; }\n  set disabled(disabled: boolean) { this._disabled = disabled; this._childrenUpdate(true); }\n\n  public childRegister(child: C) { this._children.add(child); }\n  public childUnregister(child: C) { this._children.delete(child); }\n  private _childrenUpdate(updateDisabled: boolean = false) {\n    this._children.forEach((child) => {\n      if (updateDisabled) child.disabled = this.disabled;\n      child.updateValue(this.$value)\n    });\n  }\n\n  public onChildChange(child: C) {\n    let value = child ? child.getNewValue() : null;\n    this.writeValue(value);\n    this.onChange(value);\n  }\n\n  // ControlValueAccessor\n  onChange = (_: any) => {};\n  onTouched = () => {};\n  registerOnChange(fn: (value: any) => any): void { this.onChange = fn; }\n  registerOnTouched(fn: () => any): void { this.onTouched = fn; }\n  setDisabledState(isDisabled: boolean): void {}\n\n  writeValue(value: V): void {\n    this.$value = value;\n    this._childrenUpdate();\n  }\n\n}\n\nexport abstract class TOSGroupChildDirective<C, V> implements OnDestroy {\n\n  private _disabled: boolean;\n\n  @Input('disabled')\n  get disabled(): boolean { return this._disabled; }\n  set disabled(disabled: boolean) { this._disabled = disabled; }\n\n  protected $value: V;\n\n  protected constructor(protected $group: TOSGroupDirective<TOSGroupChildDirective<C, V>, V>, protected $element: ElementRef) {\n    this.disabled = this.$group.disabled;\n    this.$group.childRegister(this);\n  }\n\n  abstract getNewValue(): V;\n  public updateValue(value: V) { this.$value = value; }\n\n  ngOnDestroy(): void {\n    this.$group.childUnregister(this);\n  }\n\n}\n","import {Pipe, PipeTransform} from \"@angular/core\";\nimport {DomSanitizer, SafeStyle} from \"@angular/platform-browser\";\n\n\n@Pipe({\n  name: 'sanitizeCSS'\n})\nexport class SanitizeCSSPipe implements PipeTransform {\n\n  constructor(private sanitizer: DomSanitizer) {}\n\n  transform(value: string, args?: any): SafeStyle {\n    return this.sanitizer.bypassSecurityTrustStyle(value);\n  }\n\n}\n","import {Pipe, PipeTransform} from \"@angular/core\";\nimport {DomSanitizer, SafeHtml} from \"@angular/platform-browser\";\n\n\n@Pipe({\n  name: 'sanitizeHTML'\n})\nexport class SanitizeHTMLPipe implements PipeTransform {\n\n  constructor(private sanitizer: DomSanitizer) {}\n\n  transform(value: string, args?: any): SafeHtml {\n    return this.sanitizer.bypassSecurityTrustHtml(value);\n  }\n\n}\n","import {Directive, ElementRef, forwardRef, HostListener, Input} from '@angular/core';\nimport {NG_VALUE_ACCESSOR} from \"@angular/forms\";\nimport {TOSGroupChildDirective, TOSGroupDirective} from \"./group-child.directive\";\nimport {TOSListConfiguration} from \"../../database/entity-list/entity-list.component\";\n\nconst PROVIDER_VALUE_ACCESSOR = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => SortGroupDirective),\n  multi: true\n};\n\n@Directive({\n  selector: '[tosSortGroup]',\n  host: {'role': 'group'},\n  providers: [PROVIDER_VALUE_ACCESSOR]\n})\nexport class SortGroupDirective extends TOSGroupDirective<SortDirective, Sort> {}\n\n@Directive({\n  selector: '[tosSort]',\n  host: {\n    '[style.cursor]': 'disabled ? \"default\" : \"pointer\"',\n    '[style.white-space]': '\"nowrap\"',\n  }\n})\nexport class SortDirective extends TOSGroupChildDirective<SortDirective, Sort> {\n\n  private _column: string;\n  private _label: string;\n\n  @Input('column')\n  get column(): string { return this._column; }\n  set column(column: string) { this._column = column; this.updateDisabled(); }\n\n  @Input('label')\n  get label(): string { return this._label; }\n  set label(label: string) { this._label = label; this.updateDisabled(); }\n\n  constructor(private _group: SortGroupDirective, private _element: ElementRef) {\n    super(_group, _element);\n  }\n\n  getNewValue(): Sort {\n    let order = this.$value != null && this.$value.column == this.column && this.$value.order == SortOrder.ASC\n      ? SortOrder.DESC\n      : SortOrder.ASC;\n\n    return new Sort(this.column, order);\n  }\n\n  updateDisabled() {\n    this.disabled = this.disabled || this.label != null && this.label.length == 0 && this.column != null && this.column.length > 0;\n  }\n\n  updateValue(value: Sort) {\n    super.updateValue(value);\n\n    let direction = this.disabled || value == null || value.column != this.column\n      ? ''\n      : value.order == SortOrder.ASC\n        ? '▲'\n        : '▼';\n\n    this._element.nativeElement.innerText = (this.label != null ? this.label : this.column) + ' ' + direction;\n  }\n\n  @HostListener('click')\n  onClick(e: MouseEvent) {\n    if (!this.disabled)\n      this._group.onChildChange(this);\n  }\n\n}\n\nexport class Sort {\n  constructor(public column: string, public order: SortOrder) {}\n\n  static default(config: TOSListConfiguration): Sort {\n    return config.sortColumn\n      ? new Sort(config.sortColumn, SortOrder.ASC)\n      : null;\n  }\n\n  public toString(): string {\n    return this.column + ',' + this.order.toString();\n  }\n\n  public static valueOf(value: string): Sort {\n    if (value == null) return null;\n\n    let parts = value.split(',');\n    return new Sort(parts[0], SortOrder.valueOf(parts[1]));\n  }\n}\n\nenum SortOrderEnum {\n  ASC,\n  DESC\n}\n\nexport class SortOrder {\n  public static readonly ASC = new SortOrder(SortOrderEnum.ASC);\n  public static readonly DESC = new SortOrder(SortOrderEnum.DESC);\n\n  constructor(private _enum: SortOrderEnum) {}\n\n  public toString(): string {\n    switch (this._enum) {\n      case SortOrderEnum.ASC:     return 'ASC';\n      case SortOrderEnum.DESC:    return 'DESC';\n      default:                    return null;\n    }\n  }\n\n  public static valueOf(value: string): SortOrder {\n    switch (value) {\n      case 'ASC':                 return SortOrder.ASC;\n      case 'DESC':                return SortOrder.DESC;\n      default:                    return SortOrder.ASC;\n    }\n  }\n}\n\n","import {Pipe, PipeTransform} from '@angular/core';\n\nconst TIME_MINUTE: number = 60;\nconst TIME_HOUR: number = TIME_MINUTE * 60;\nconst TIME_DAY: number = TIME_HOUR * 24;\n\n@Pipe({\n  name: 'tosTime'\n})\nexport class TimePipe implements PipeTransform {\n\n  transform(value: any, args?: any): string {\n    value = +value;\n\n    let days = Math.floor(value / TIME_DAY);\n    let hours = Math.floor(value % TIME_DAY / TIME_HOUR);\n    let minutes = Math.floor(value % TIME_HOUR / TIME_MINUTE);\n    let seconds = value % TIME_MINUTE;\n\n    let result = [];\n    if (days >= 1) result.push(days + ' day' + (days > 1 ? 's' : ''));\n    if (hours >= 1) result.push(hours + ' hour' + (hours > 1 ? 's' : ''));\n    if (minutes >= 1) result.push(minutes + ' minute' + (minutes > 1 ? 's' : ''));\n    if (seconds >= 1) result.push(seconds + ' second' + (seconds > 1 ? 's' : ''));\n\n    return result.join(' ');\n  }\n\n}\n","export enum TOSRegion {\n  iTOS = 'iTOS',\n  jTOS = 'jTOS',\n  kTEST = 'kTEST',\n  kTOS = 'kTOS',\n  twTOS = 'twTOS',\n}\n\nexport type TOSRegionVersion = { [key in TOSRegion]: { version: string, rebuild: boolean } };\nexport const VERSIONS: TOSRegionVersion = JSON.parse(document.getElementById('tos-region').innerText);\n\nexport namespace TOSRegionService {\n\n  let Region: TOSRegion = null;\n\n  export function get() {\n    if (Region)\n      return Region;\n\n    for (let region of Object.values(TOSRegion))\n      if (location.href.indexOf(`/${ toUrl(region) }/`) > -1)\n        return region;\n\n    return TOSRegion.iTOS;\n  }\n  export function getUrl() {\n    return toUrl(get());\n  }\n\n  export function isRebuild(value: TOSRegion) {\n    return VERSIONS[value].rebuild;\n  }\n\n  export function select(region: TOSRegion) {\n    // Update url\n    let regionOld = `/${ toUrl(TOSRegionService.get()) }/`;\n    let regionNew = `/${ toUrl(region) }/`;\n    //console.log('region select', regionOld, regionNew, url)\n\n    location.href = location.href.replace(regionOld, regionNew);\n  }\n\n  function toUrl(value: TOSRegion): string {\n    return value.toString().toLowerCase();\n  }\n\n  export function valueOf(param: string): TOSRegion {\n    return Object\n      .values(TOSRegion)\n      .find(value => toUrl(value) == param.toLowerCase());\n  }\n\n}\n","import {TOSEntity} from \"../tos-entity.model\";\nimport {ITOSAttribute, ITOSAttributeUnlockArg, ITOSBuild, ITOSJob, ITOSSkill, TOSDataSet} from \"../tos-domain\";\nimport {TOSDomainService} from \"../tos-domain.service\";\nimport {LUAService} from \"../../../service/lua.service\";\nimport {Observable} from \"rxjs\";\nimport {fromPromise} from \"rxjs/internal-compatibility\";\n\nexport class TOSAttribute extends TOSEntity implements ITOSAttribute {\n\n  constructor(json: TOSAttribute) {\n    super(TOSDataSet.ATTRIBUTES, json);\n  }\n\n  get DescriptionRequired() { return this.$lazyPropertyStringMultiline('DescriptionRequired', value => '<br/>' + value) }\n  get IsToggleable() { return this.$lazyPropertyBoolean('IsToggleable') }\n  get LevelMax() { return this.$lazyPropertyNumber('LevelMax') }\n  get Unlock() { return this.$lazyPropertyJSONArray('Unlock') as string[] }\n  get UnlockArgs() { return this.$lazyPropertyJSONObject('UnlockArgs', value => new TOSAttributeUnlockArg(value)) }\n  get UpgradePrice() { return this.$lazyPropertyJSONArray('UpgradePrice') as number[] }\n\n  get Link_Jobs() { return this.$lazyPropertyLink('Link_Jobs', (value) => TOSDomainService.jobsById(value)) as Observable<ITOSJob[]> }\n  get Link_Skills() { return this.$lazyPropertyLink('Link_Skills', (value) => TOSDomainService.skillsById(value)) as Observable<ITOSSkill[]> }\n\n  public Price(level: number) { return level > 0 && this.UpgradePrice ? this.UpgradePrice[level - 1] : 0 }\n  public PriceTotal(level: number) { return Array.from({length: level + 1}, (x,i) => this.Price(i)).reduce((a, b) => a + b, 0) }\n\n  unlockAvailable(build: ITOSBuild) {\n    return fromPromise((async () => {\n      if (!this.Unlock)  return true;\n\n      for (let unlockArg of Object.values(this.UnlockArgs)) {\n        let source = this.Unlock;\n        let context = {\n          'abilIES': null,\n          'abilName': \"'\" + unlockArg.UnlockArgStr + \"'\",\n          'jobName': \"'\" + unlockArg.UnlockArgStr + \"'\",\n          'jobClassName': \"'\" + unlockArg.UnlockArgStr + \"'\",\n          'sklName': \"'\" + unlockArg.UnlockArgStr + \"'\",\n          'levelFix': unlockArg.UnlockArgNum,\n          'limitLevel': unlockArg.UnlockArgNum,\n          'limitRank': unlockArg.UnlockArgNum,\n          'player': {\n            'JobName': \"'\" + unlockArg.UnlockArgStr + \"'\",\n          }\n        };\n\n        let unlock = (await LUAService.eval(build, source, context).toPromise());\n        if (unlock === 'UNLOCK')\n          return true;\n      }\n\n      return false;\n    })());\n  }\n  unlockAvailableCheck(args: string[]): boolean {\n    if (this.UnlockArgs != null)\n      for (let attributeUnlock of Object.values(this.UnlockArgs))\n        for (let value of args)\n          if (value == attributeUnlock.UnlockArgStr)\n            return true;\n\n    return false;\n  }\n\n}\n\nexport class TOSAttributeUnlockArg implements ITOSAttributeUnlockArg {\n  readonly UnlockArgStr: string;\n  readonly UnlockArgNum: number;\n\n  constructor(json: TOSAttributeUnlockArg) {\n    this.UnlockArgStr = json.UnlockArgStr;\n    this.UnlockArgNum = +json.UnlockArgNum;\n  }\n\n}\n","import {Injectable} from \"@angular/core\";\nimport {CRUDResolver} from \"../../../service/CRUD.resolver\";\nimport {TOSAttribute} from \"./tos-attribute.model\";\nimport {TOSDataSet} from \"../tos-domain\";\n\n@Injectable()\nexport class TOSAttributeResolver extends CRUDResolver<TOSAttribute> {\n\n  constructor() { super(TOSDataSet.ATTRIBUTES); }\n\n}\n","import {TOSItem} from \"../tos-item.model\";\nimport {ITOSBook, TOSDataSet} from \"../../tos-domain\";\n\nexport class TOSBook extends TOSItem implements ITOSBook {\n  constructor(json: TOSBook) {\n    super(TOSDataSet.BOOKS, json);\n  }\n\n  get Pages() { return this.$lazyPropertyStringMultiline('Text') }\n\n}\n","import {Injectable} from \"@angular/core\";\nimport {CRUDResolver} from \"../../../../service/CRUD.resolver\";\nimport {TOSBook} from \"./tos-book.model\";\nimport {TOSDataSet} from \"../../tos-domain\";\n\n@Injectable()\nexport class TOSBookResolver extends CRUDResolver<TOSBook> {\n\n  constructor() { super(TOSDataSet.BOOKS); }\n\n}\n","import {TOSItem} from \"../tos-item.model\";\nimport {ITOSCard, TOSCardType, TOSDataSet, TOSElement, TOSMonsterRace} from \"../../tos-domain\";\n\nexport class TOSCard extends TOSItem implements ITOSCard {\n\n  constructor(json: TOSCard) {\n    super(TOSDataSet.CARDS, json);\n  }\n\n  get Description() { return this.$lazyPropertyStringMultiline('Description')\n    .split('{img star_mark 20 20}')\n    .join('<span class=\"text-warning\">★</span>')\n  }\n  get IconTooltip() {\n    let icon = this.$lazyPropertyString('IconTooltip');\n\n    return icon\n      ? 'assets/icons/' + icon.toLowerCase() + '.jpg'\n      : null;\n  }\n  get MonsterElement() { return this.$lazyPropertyEnum('MonsterElement', TOSElement) }\n  get MonsterRace() { return this.$lazyPropertyEnum('MonsterRace', TOSMonsterRace) }\n  get Stat_Height() { return this.$lazyPropertyNumber('Stat_Height') }\n  get Stat_Legs() { return this.$lazyPropertyNumber('Stat_Legs') }\n  get Stat_Weight() { return this.$lazyPropertyNumber('Stat_Weight') }\n  get TypeCard() { return this.$lazyPropertyEnum('TypeCard', TOSCardType) }\n\n}\n","import {Injectable} from \"@angular/core\";\nimport {CRUDResolver} from \"../../../../service/CRUD.resolver\";\nimport {TOSCard} from \"./tos-card.model\";\nimport {TOSDataSet} from \"../../tos-domain\";\n\n@Injectable()\nexport class TOSCardResolver extends CRUDResolver<TOSCard> {\n\n  constructor() { super(TOSDataSet.CARDS); }\n\n}\n","import {TOSItem} from \"../tos-item.model\";\nimport {ITOSCollection, ITOSCollectionBonus, ITOSItem, TOSDataSet} from \"../../tos-domain\";\nimport {TOSDomainService} from \"../../tos-domain.service\";\nimport {ArrayUtils} from \"../../../../utils/array-utils\";\nimport {Observable} from \"rxjs\";\n\nexport class TOSCollection extends TOSItem implements ITOSCollection {\n\n  constructor(json: TOSCollection) {\n    super(TOSDataSet.COLLECTIONS, json);\n  }\n\n  get Bonus() { return this.$lazyPropertyJSONArray('Bonus', value => new TOSCollectionBonus(value), ArrayUtils.sort) }\n  get Link_Items() { return this.$lazyPropertyLink('Link_Items', value => TOSDomainService.itemsByIdLink(value)) as Observable<ITOSItem[]> }\n\n}\n\nexport class TOSCollectionBonus implements ITOSCollectionBonus {\n  Stat: string;\n  Value: number;\n\n  constructor(json: string[]) {\n    this.Stat = json[0];\n    this.Value = +json[1];\n  }\n\n  toString(): string {\n    return this.Stat + ' ' + (this.Value > 0 ? '+' : '') + this.Value;\n  }\n\n}\n","import {Injectable} from \"@angular/core\";\nimport {CRUDResolver} from \"../../../../service/CRUD.resolver\";\nimport {TOSCollection} from \"./tos-collection.model\";\nimport {TOSDataSet} from \"../../tos-domain\";\n\n@Injectable()\nexport class TOSCollectionResolver extends CRUDResolver<TOSCollection> {\n\n  constructor() { super(TOSDataSet.COLLECTIONS); }\n\n}\n","import {TOSItem} from \"../tos-item.model\";\nimport {ITOSCube, ITOSItem, TOSDataSet} from \"../../tos-domain\";\nimport {TOSDomainService} from \"../../tos-domain.service\";\nimport {Observable} from \"rxjs\";\n\nexport class TOSCube extends TOSItem implements ITOSCube {\n  constructor(json: TOSCube) {\n    super(TOSDataSet.CUBES, json);\n  }\n\n  get Link_Items() { return this.$lazyPropertyLink('Link_Items', value => TOSDomainService.itemsByIdLink(value)) as Observable<ITOSItem[]> }\n\n}\n","import {Injectable} from \"@angular/core\";\nimport {CRUDResolver} from \"../../../../service/CRUD.resolver\";\nimport {TOSCube} from \"./tos-cube.model\";\nimport {TOSDataSet} from \"../../tos-domain\";\n\n@Injectable()\nexport class TOSCubeResolver extends CRUDResolver<TOSCube> {\n\n  constructor() { super(TOSDataSet.CUBES); }\n\n}\n","import {Injectable} from \"@angular/core\";\nimport {CRUDResolver} from \"../../../../service/CRUD.resolver\";\nimport {TOSEquipmentSet} from \"./tos-equipment.model\";\nimport {TOSDataSet} from \"../../tos-domain\";\n\n@Injectable()\nexport class TOSEquipmentSetResolver extends CRUDResolver<TOSEquipmentSet> {\n\n  constructor() { super(TOSDataSet.EQUIPMENT_SETS); }\n\n}\n","import {TOSEntity} from \"../../tos-entity.model\";\nimport {TOSItem} from \"../tos-item.model\";\nimport {\n  ITOSEquipment,\n  ITOSEquipmentBonus,\n  ITOSEquipmentSet,\n  ITOSItem,\n  TOSAttackType,\n  TOSClassTree,\n  TOSDataSet,\n  TOSEquipmentGrade,\n  TOSEquipmentGradeService,\n  TOSEquipmentMaterial,\n  TOSEquipmentType,\n  TOSStat,\n  TOSStatService\n} from \"../../tos-domain\";\nimport {TOSDomainService} from \"../../tos-domain.service\";\nimport {Observable} from \"rxjs\";\nimport {map} from \"rxjs/operators\";\n\nexport class TOSEquipment extends TOSItem implements ITOSEquipment {\n  constructor(json: TOSEquipment) {\n    super(TOSDataSet.EQUIPMENT, json);\n\n    this.$comparators['Grade'] = TOSEquipmentGradeService.comparator;\n  }\n\n  get Bonus() { return this.$lazyPropertyJSONArray('Bonus', value => new TOSEquipmentBonus(value), (a, b) => TOSStatService.comparator(a.Stat, b.Stat)) }\n  get Durability() { return this.$lazyPropertyNumber('Durability') }\n  get Grade() { return this.$lazyPropertyEnum('Grade', TOSEquipmentGrade) }\n\n  get IsAnvilAvailable(): boolean { return (this.AnvilATK(1) > 0 || this.AnvilDEF(1) > 0) && this.AnvilPrice(1) > 0; }\n  get IsTranscendAvailable(): boolean { return this.TranscendPrice(1) > 0; }\n\n  get Link_Set() { return this.$lazyPropertyLink('Link_Set', value => TOSDomainService.equipmentSetsById(value)) as Observable<ITOSEquipmentSet> }\n\n  get Level() { return this.$lazyPropertyNumber('Level') }\n  get Material() { return this.$lazyPropertyEnum('Material', TOSEquipmentMaterial) }\n  get Potential() { return this.$lazyPropertyNumber('Potential') }\n  get RequiredClass() { return this.$lazyPropertyString('RequiredClass') }\n  get RequiredLevel() { return this.$lazyPropertyNumber('RequiredLevel') }\n  get Sockets() { return this.$lazyPropertyNumber('Sockets') }\n  get SocketsLimit() { return this.$lazyPropertyNumber('SocketsLimit') }\n  get Stars() { return this.$lazyPropertyNumber('Stars') }\n  get Stat_ATTACK_MAGICAL() { return this.$lazyPropertyNumber('Stat_ATTACK_MAGICAL') }\n  get Stat_ATTACK_PHYSICAL_MAX() { return this.$lazyPropertyNumber('Stat_ATTACK_PHYSICAL_MAX') }\n  get Stat_ATTACK_PHYSICAL_MIN() { return this.$lazyPropertyNumber('Stat_ATTACK_PHYSICAL_MIN') }\n  get Stat_DEFENSE_MAGICAL() { return this.$lazyPropertyNumber('Stat_DEFENSE_MAGICAL') }\n  get Stat_DEFENSE_PHYSICAL() { return this.$lazyPropertyNumber('Stat_DEFENSE_PHYSICAL') }\n  get TypeAttack() { return this.$lazyPropertyEnum('TypeAttack', TOSAttackType) }\n  get TypeEquipment() { return this.$lazyPropertyEnum('TypeEquipment', TOSEquipmentType) }\n  get Unidentified() { return this.$lazyPropertyBoolean('Unidentified') }\n  get UnidentifiedRandom() { return this.$lazyPropertyBoolean('UnidentifiedRandom') }\n\n  IsUsableBy(classTree: TOSClassTree): boolean {\n    let index = Object.values(TOSClassTree).indexOf(classTree);\n    return this.RequiredClass[index] == 'T';\n  }\n\n  AnvilATK(level: number) {\n    let anvilATK = this.$lazyPropertyJSONArray('AnvilATK') as number[];\n    return level > 0 && anvilATK && anvilATK[level - 1] || 0;\n  }\n  AnvilDEF(level: number) {\n    let anvilDEF = this.$lazyPropertyJSONArray('AnvilDEF') as number[];\n    return level > 0 && anvilDEF && anvilDEF[level - 1] || 0;\n  }\n  AnvilPrice(level: number) {\n    let anvilPrice = this.$lazyPropertyJSONArray('AnvilPrice') as number[];\n    return level > 0 && anvilPrice && anvilPrice[level - 1] || 0;\n  }\n  AnvilPriceTotal(level: number) {\n    return Array.from({length: level + 1}, (x, i) => this.AnvilPrice(i)).reduce((a, b) => a + b, 0)\n  }\n\n  TranscendATKRatio(level: number) { return level * 0.1; }\n  TranscendMDEFRatio(level: number) { return level * 0.1; }\n  TranscendPDEFRatio(level: number) { return level * 0.1; }\n  TranscendPrice(level: number) {\n    let transcendPrice = this.$lazyPropertyJSONArray('TranscendPrice') as number[];\n    return level > 0 && transcendPrice && transcendPrice[level - 1] || 0;\n  }\n  TranscendPriceTotal(level: number) {\n    for (var sum = 0, i = 1; i <= level; i ++)\n      sum += this.TranscendPrice(i);\n\n    return sum;\n  }\n\n}\n\nexport class TOSEquipmentBonus implements ITOSEquipmentBonus {\n  Stat: TOSStat;\n  Value: number;\n  ValueHTML: string;\n\n  constructor(json: string[]) {\n    this.Stat = Object.values(TOSStat)[+json[0]];\n    this.Value = isNaN(+json[1]) ? null : +json[1];\n    this.ValueHTML = isNaN(+json[1]) ? json[1] : null;\n\n    // HotFix: add special bonus' arrows\n    if (this.ValueHTML) {\n      this.ValueHTML = this.ValueHTML.split('{img green_up_arrow 16 16}').join('<span class=\"text-success\">▲</span> ');\n      this.ValueHTML = this.ValueHTML.split('{img red_down_arrow 16 16}').join('<span class=\"text-danger\">▼</span> ');\n    }\n  }\n}\n\n// Note: we can't put this one on a separate class otherwise it generates a circular dependency\nexport class TOSEquipmentSet extends TOSEntity implements ITOSEquipmentSet {\n\n  constructor(private json: TOSEquipmentSet) {\n    super(TOSDataSet.EQUIPMENT_SETS, json);\n  }\n\n  get Bonus(): { [key:number]: TOSEquipmentBonus[]} {\n    let result = [this.Bonus2, this.Bonus3, this.Bonus4, this.Bonus5, this.Bonus6, this.Bonus7]\n      .map(bonusGroup => (bonusGroup || '')\n        .split('{nl}')\n        .map(bonus => bonus ? new TOSEquipmentBonus([TOSStat.UNKNOWN.toString(), bonus]) : null)\n        .filter(bonus => bonus))\n      .reduce((result, bonusGroup, i) => {\n        if (bonusGroup.length) result[i + 2] = bonusGroup;\n        return result;\n      }, {});\n\n    return result;\n  }\n  get Bonus2() { return this.$lazyPropertyString('Bonus2') }\n  get Bonus3() { return this.$lazyPropertyString('Bonus3') }\n  get Bonus4() { return this.$lazyPropertyString('Bonus4') }\n  get Bonus5() { return this.$lazyPropertyString('Bonus5') }\n  get Bonus6() { return this.$lazyPropertyString('Bonus6') }\n  get Bonus7() { return this.$lazyPropertyString('Bonus7') }\n  get Icon():string { throw new Error('Unsupported operation') }\n  get Icon$() { return this.Link_Items.pipe(map(value => value && value[0].Icon)) }\n  get Url(): string { throw new Error('Unsupported operation') }\n  get Url$() { return this.Link_Items.pipe(map(value => value && value[0].Url)) }\n\n  get Link_Items() { return this.$lazyPropertyLink('Link_Items', value => TOSDomainService.itemsByIdLink(value)) as Observable<ITOSItem[]> }\n\n}\n","import {Injectable} from \"@angular/core\";\nimport {TOSEquipment} from \"./tos-equipment.model\";\nimport {CRUDResolver} from \"../../../../service/CRUD.resolver\";\nimport {TOSDataSet} from \"../../tos-domain\";\n\n@Injectable()\nexport class TOSEquipmentResolver extends CRUDResolver<TOSEquipment> {\n\n  constructor() { super(TOSDataSet.EQUIPMENT); }\n\n}\n","import {TOSItem} from \"../tos-item.model\";\nimport {ITOSGem, ITOSGemBonus, ITOSSkill, TOSDataSet, TOSGemSlot, TOSGemType, TOSStat} from \"../../tos-domain\";\nimport {TOSDomainService} from \"../../tos-domain.service\";\nimport {Observable} from \"rxjs\";\n\nexport class TOSGem extends TOSItem implements ITOSGem {\n\n  constructor(json: TOSGem) {\n    super(TOSDataSet.GEMS, json);\n  }\n\n  get BonusBoots() { return this.$lazyPropertyJSONArray('BonusBoots', value => new TOSGemBonus(value)) }\n  get BonusGloves() { return this.$lazyPropertyJSONArray('BonusGloves', value => new TOSGemBonus(value)) }\n  get BonusSubWeapon() { return this.$lazyPropertyJSONArray('BonusSubWeapon', value => new TOSGemBonus(value)) }\n  get BonusTopAndBottom() { return this.$lazyPropertyJSONArray('BonusTopAndBottom', value => new TOSGemBonus(value)) }\n  get BonusWeapon() { return this.$lazyPropertyJSONArray('BonusWeapon', value => new TOSGemBonus(value)) }\n\n  get Link_Skill() { return this.$lazyPropertyLink('Link_Skill', value => TOSDomainService.skillsById(value)) as Observable<ITOSSkill> }\n\n  get TypeGem() { return this.$lazyPropertyEnum('TypeGem', TOSGemType) }\n\n  Bonus(level: number): { [key:string]: TOSGemBonus[]} {\n    return Object\n      .values(TOSGemSlot)\n      .reduce((result, slot, i) => {\n        if (this['Bonus' + slot])\n          result[slot] = [\n            this['Bonus' + slot][(level - 1) * 2],\n            this['Bonus' + slot][(level - 1) * 2 + 1]\n          ];\n\n        return result;\n      }, {})\n  }\n\n}\n\nexport class TOSGemBonus implements ITOSGemBonus {\n  Stat: string | TOSStat;\n  Value: number;\n\n  constructor(json: TOSGemBonus) {\n    this.Stat = Object.values(TOSStat)[+json.Stat] || json.Stat;\n    this.Value = +json.Value;\n  }\n\n  toString(): string {\n    let string = isNaN(this.Value)\n      ? this.Stat as string\n      : this.Stat + ' ' + (this.Value > 0 ? '+ ' : this.Value < 0 ? '- ' : '') + Math.abs(this.Value);\n\n                        string = string.split('+').join('<span class=\"text-success\">▲</span>');\n    if (this.Value < 0) string = string.split('-').join('<span class=\"text-danger\">▼</span>');\n\n    return string;\n  }\n\n}\n","import {Injectable} from \"@angular/core\";\nimport {CRUDResolver} from \"../../../../service/CRUD.resolver\";\nimport {TOSGem} from \"./tos-gem.model\";\nimport {TOSDataSet} from \"../../tos-domain\";\n\n@Injectable()\nexport class TOSGemResolver extends CRUDResolver<TOSGem> {\n\n  constructor() { super(TOSDataSet.GEMS); }\n\n}\n","import {TOSItem} from \"../tos-item.model\";\nimport {ITOSItem, ITOSRecipe, ITOSRecipeLinkItem, TOSDataSet} from \"../../tos-domain\";\nimport {TOSDomainService} from \"../../tos-domain.service\";\nimport {Observable} from \"rxjs\";\nimport {fromPromise} from \"rxjs/internal-compatibility\";\nimport {TOSEntityLink} from \"../../tos-entity.model\";\n\nexport class TOSRecipe extends TOSItem implements ITOSRecipe {\n\n  constructor(json: TOSRecipe) {\n    super(TOSDataSet.RECIPES, json);\n  }\n\n  get Link_Materials() { return this.$lazyPropertyLink('Link_Materials', value => this.TOSRecipeLinkItem(value)) as Observable<TOSRecipeMaterial[]> }\n  get Link_Target() { return this.$lazyPropertyLink('Link_Target', value => TOSDomainService.itemsByIdLink(value)) as Observable<ITOSItem> }\n\n  private TOSRecipeLinkItem(value: TOSRecipeMaterial): Observable<TOSRecipeMaterial> {\n    return fromPromise((async () => {\n      let object = new TOSRecipeMaterial(value);\n          object.Item = await TOSDomainService.itemsByIdLink(+object.Item).toPromise();\n\n      return object;\n    })());\n  }\n\n}\n\nexport class TOSRecipeMaterial extends TOSEntityLink<ITOSItem> implements ITOSRecipeLinkItem {\n  Item: ITOSItem;\n  Quantity: number;\n\n  constructor(json: TOSRecipeMaterial) {\n    super();\n\n    this.Item = json.Item;\n    this.Quantity = +json.Quantity;\n  }\n\n  get Link() { return this.Item }\n\n}\n","import {Injectable} from \"@angular/core\";\nimport {CRUDResolver} from \"../../../../service/CRUD.resolver\";\nimport {TOSRecipe} from \"./tos-recipe.model\";\nimport {TOSDataSet} from \"../../tos-domain\";\n\n@Injectable()\nexport class TOSRecipeResolver extends CRUDResolver<TOSRecipe> {\n\n  constructor() { super(TOSDataSet.RECIPES); }\n\n}\n","import {TOSEntity, TOSEntityLink} from \"../tos-entity.model\";\nimport {\n  ITOSCollection,\n  ITOSCube,\n  ITOSItem,\n  ITOSItemLinkMap,\n  ITOSItemLinkMonster,\n  ITOSMap,\n  ITOSMonster,\n  ITOSRecipe,\n  TOSDataSet,\n  TOSItemTradability,\n  TOSItemType\n} from \"../tos-domain\";\nimport {TOSDomainService} from \"../tos-domain.service\";\nimport {Observable} from \"rxjs\";\nimport {fromPromise} from \"rxjs/internal-compatibility\";\n\nexport class TOSItem extends TOSEntity implements ITOSItem {\n\n  constructor(dataset: TOSDataSet, json: TOSItem) {\n    super(dataset, json);\n\n    this.Selected = true;\n  }\n\n  get Link_Collections() { return this.$lazyPropertyLink('Link_Collections', value => TOSDomainService.collectionsById(value)) as Observable<ITOSCollection[]> }\n  get Link_Cubes() { return this.$lazyPropertyLink('Link_Cubes', value => TOSDomainService.cubesById(value)) as Observable<ITOSCube[]> }\n  get Link_Monsters() { return this.$lazyPropertyLink('Link_Monsters', value => this.TOSItemLinkMonster(value)) as Observable<TOSItemLinkMonster[]> }\n  get Link_RecipeMaterial() { return this.$lazyPropertyLink('Link_RecipeMaterial', value => TOSDomainService.recipesById(value)) as Observable<ITOSRecipe> }\n  get Link_RecipeTarget() { return this.$lazyPropertyLink('Link_RecipeTarget', value => TOSDomainService.recipesById(value)) as Observable<ITOSRecipe> }\n  get Link_Maps() { return this.$lazyPropertyLink('Link_Maps', value => this.TOSItemLinkMap(value)) as Observable<TOSItemLinkMap[]> }\n  get Link_Maps_Exploration() { return this.$lazyPropertyLink('Link_Maps_Exploration', value => this.TOSItemLinkMap(value)) as Observable<TOSItemLinkMap[]> }\n\n  get Price() { return this.$lazyPropertyNumber('Price') }\n  get TimeCoolDown() { return this.$lazyPropertyNumber('TimeCoolDown') }\n  get TimeLifeTime() { return this.$lazyPropertyNumber('TimeLifeTime') }\n  get Tradability() { return this.$lazyPropertyString('Tradability') }\n  get Type() { return this.$lazyPropertyEnum('Type', TOSItemType) }\n  get Weight() { return this.$lazyPropertyNumber('Weight') }\n\n  public isTradable(tradable: TOSItemTradability): boolean {\n    let index = Object.values(TOSItemTradability).indexOf(tradable);\n    return this.Tradability && this.Tradability[index] == 'T';\n  }\n\n  private TOSItemLinkMonster(value: TOSItemLinkMonster): Observable<TOSItemLinkMonster> {\n    return fromPromise((async () => {\n      let object = new TOSItemLinkMonster(value);\n          object.Monster = await TOSDomainService.monstersById(+object.Monster).toPromise();\n\n      return object;\n    })())\n  }\n  private TOSItemLinkMap(value: TOSItemLinkMap): Observable<TOSItemLinkMap> {\n    return fromPromise((async () => {\n      let object = new TOSItemLinkMap(value);\n          object.Map = await TOSDomainService.mapsById(+object.Map).toPromise();\n\n      return object;\n    })());\n  }\n\n}\n\nexport class TOSItemLinkMonster extends TOSEntityLink<ITOSMonster> implements ITOSItemLinkMonster {\n  Chance: number;\n  Monster: ITOSMonster;\n  Quantity_MAX: number;\n  Quantity_MIN: number;\n\n  public constructor(json: TOSItemLinkMonster) {\n    super();\n\n    this.Chance = +json.Chance;\n    this.Monster = json.Monster;\n    this.Quantity_MAX = +json.Quantity_MAX;\n    this.Quantity_MIN = +json.Quantity_MIN;\n  }\n\n  get Link() { return this.Monster }\n\n}\n\nexport class TOSItemLinkMap extends TOSEntityLink<ITOSMap> implements ITOSItemLinkMap {\n  Chance: number;\n  Map: ITOSMap;\n  Quantity_MAX: number;\n  Quantity_MIN: number;\n\n  constructor(json: TOSItemLinkMap) {\n    super();\n\n    this.Chance = +json.Chance;\n    this.Map = json.Map;\n    this.Quantity_MAX = +json.Quantity_MAX;\n    this.Quantity_MIN = +json.Quantity_MIN;\n  }\n\n  get Link() { return this.Map }\n\n}\n","import {Injectable} from \"@angular/core\";\nimport {TOSItem} from \"./tos-item.model\";\nimport {CRUDResolver} from \"../../../service/CRUD.resolver\";\nimport {TOSDataSet} from \"../tos-domain\";\n\n@Injectable()\nexport class TOSItemResolver extends CRUDResolver<TOSItem> {\n\n  constructor() { super(TOSDataSet.ITEMS); }\n\n}\n","import {TOSEntity} from \"../tos-entity.model\";\nimport {ITOSAttribute, ITOSJob, ITOSSkill, TOSDataSet, TOSJobDifficulty, TOSJobTree, TOSJobType} from \"../tos-domain\";\nimport {TOSDomainService} from \"../tos-domain.service\";\nimport {RANK_LIMIT} from \"../tos-build\";\nimport {Observable} from \"rxjs\";\n\nexport class TOSJob extends TOSEntity implements ITOSJob {\n\n  constructor(private json: TOSJob) {\n    super(TOSDataSet.JOBS, json);\n  }\n\n  get CircleAvailable(): number[] { return Array.from(Array(this.CircleMax).keys(), n => n + 1) }\n  get CircleMax() { return this.$lazyPropertyNumber('CircleMax') }\n  get IconAnimations(): string[] {\n    return this.Rank > RANK_LIMIT\n      ? null\n      : [\n        'assets/images/classes/' + this.$ID_NAME + '_f.gif',\n        'assets/images/classes/' + this.$ID_NAME + '_m.gif',\n      ];\n  }\n  get IsHidden() { return this.$lazyPropertyBoolean('IsHidden') }\n  get IsSecret() { return this.$lazyPropertyBoolean('IsSecret') }\n  get IsStarter() { return this.$lazyPropertyBoolean('IsStarter') }\n  get JobDifficulty() { return this.$lazyPropertyEnum('JobDifficulty', TOSJobDifficulty) }\n  get JobTree() { return this.$lazyPropertyEnum('JobTree', TOSJobTree) }\n  get JobType() { return this.$lazyPropertyJSONArray('JobType', (value) => Object.values(TOSJobType)[value]) }\n  get Rank() { return this.$lazyPropertyNumber('Rank') }\n  get Stat_CON() { return this.$lazyPropertyNumber('Stat_CON') }\n  get Stat_DEX() { return this.$lazyPropertyNumber('Stat_DEX') }\n  get Stat_INT() { return this.$lazyPropertyNumber('Stat_INT') }\n  get Stat_SPR() { return this.$lazyPropertyNumber('Stat_SPR') }\n  get Stat_STR() { return this.$lazyPropertyNumber('Stat_STR') }\n  get StatBase_CON() { return this.$lazyPropertyNumber('StatBase_CON') }\n  get StatBase_DEX() { return this.$lazyPropertyNumber('StatBase_DEX') }\n  get StatBase_INT() { return this.$lazyPropertyNumber('StatBase_INT') }\n  get StatBase_SPR() { return this.$lazyPropertyNumber('StatBase_SPR') }\n  get StatBase_STR() { return this.$lazyPropertyNumber('StatBase_STR') }\n\n  get Link_Attributes() { return this.$lazyPropertyLink('Link_Attributes', value => TOSDomainService.attributesById(value)) as Observable<ITOSAttribute[]> }\n  get Link_Skills() { return this.$lazyPropertyLink('Link_Skills', value => TOSDomainService.skillsById(value)) as Observable<ITOSSkill[]> }\n  get Link_Skills$ID() { return this.$lazyPropertyLinkOriginal('Link_Skills') as number[] }\n\n}\n","import {Injectable} from \"@angular/core\";\nimport {CRUDResolver} from \"../../../service/CRUD.resolver\";\nimport {TOSJob} from \"./tos-job.model\";\nimport {TOSDataSet} from \"../tos-domain\";\n\n@Injectable()\nexport class TOSJobResolver extends CRUDResolver<TOSJob> {\n\n  constructor() { super(TOSDataSet.JOBS); }\n\n}\n","import {TOSEntity, TOSEntityLink} from \"../tos-entity.model\";\nimport {\n  ITOSCollection,\n  ITOSItem,\n  ITOSMap,\n  ITOSMapLinkItem,\n  ITOSMapLinkNPC,\n  ITOSNPC,\n  TOSDataSet,\n  TOSMapType\n} from \"../tos-domain\";\nimport {TOSDomainService} from \"../tos-domain.service\";\nimport {Observable} from \"rxjs\";\nimport {fromPromise} from \"rxjs/internal-compatibility\";\nimport {TOSUrlService} from \"../../../service/tos-url.service\";\n\nexport class TOSMap extends TOSEntity implements ITOSMap {\n\n  constructor(json: TOSMap) {\n    super(TOSDataSet.MAPS, json);\n  }\n\n  get HasChallengeMode() { return this.$lazyPropertyBoolean('HasChallengeMode') }\n  get HasWarp() { return this.$lazyPropertyBoolean('HasWarp') }\n  get Layout(): string { return TOSUrlService.Asset('assets/images/maps/' + this.$ID_NAME.toLowerCase() + '.png') }\n  get Level() { return this.$lazyPropertyNumber('Level') }\n  get Prop_EliteMonsterCapacity() { return this.$lazyPropertyNumber('Prop_EliteMonsterCapacity') }\n  get Prop_MaxHateCount() { return this.$lazyPropertyNumber('Prop_MaxHateCount') }\n  get Prop_RewardEXPBM() { return this.$lazyPropertyNumber('Prop_RewardEXPBM') }\n  get Stars() { return this.$lazyPropertyNumber('Stars') }\n  get Type() { return this.$lazyPropertyEnum('Type', TOSMapType) }\n  get Warp() { return this.$lazyPropertyNumber('Warp') }\n  get WorldMap() { return this.$lazyPropertyJSONArray('WorldMap', value => +value) }\n\n  get Link_Collections() { return this.$lazyPropertyLink('Link_Collections', value => TOSDomainService.collectionsById(value)) as Observable<ITOSCollection[]> }\n  get Link_Items() { return this.$lazyPropertyLink('Link_Items', value => this.TOSMapLinkItem(value)) as Observable<TOSMapLinkItem[]> }\n  get Link_Items_Exploration() { return this.$lazyPropertyLink('Link_Items_Exploration', value => this.TOSMapLinkItem(value)) as Observable<TOSMapLinkItem[]> }\n  get Link_Maps() { return this.$lazyPropertyLink('Link_Maps', value => TOSDomainService.mapsById(value)) as Observable<ITOSMap[]> }\n  get Link_Maps_Floors() { return this.$lazyPropertyLink('Link_Maps_Floors', value => TOSDomainService.mapsById(value)) as Observable<ITOSMap[]> }\n  get Link_NPCs() { return this.$lazyPropertyLink('Link_NPCs', value => this.TOSMapLinkNPC(value)) as Observable<TOSMapLinkNPC[]> }\n\n  private TOSMapLinkItem(value: TOSMapLinkItem): Observable<TOSMapLinkItem> {\n    return fromPromise((async () => {\n      let object = new TOSMapLinkItem(value);\n          object.Item = await (object.Item && TOSDomainService.itemsByIdLink(+object.Item).toPromise());\n\n      return object;\n    })());\n  }\n  private TOSMapLinkNPC(value: TOSMapLinkNPC): Observable<TOSMapLinkNPC> {\n    return fromPromise((async () => {\n      let object = new TOSMapLinkNPC(value);\n          object.Item = await (object.Item && TOSDomainService.itemsByIdLink(+object.Item).toPromise());\n          object.NPC = await (object.NPC && TOSDomainService.npcsByIdLink(+object.NPC).toPromise());\n\n      return object;\n    })());\n  }\n\n}\n\nexport class TOSMapLinkItem extends TOSEntityLink<ITOSItem> implements ITOSMapLinkItem {\n  Chance: number;\n  Item: ITOSItem;\n  Quantity_MAX: number;\n  Quantity_MIN: number;\n\n  constructor(json: TOSMapLinkItem) {\n    super();\n\n    this.Chance = +json.Chance;\n    this.Item = json.Item;\n    this.Quantity_MAX = +json.Quantity_MAX;\n    this.Quantity_MIN = +json.Quantity_MIN;\n  }\n\n  get Link() { return this.Item }\n\n}\n\nexport class TOSMapLinkNPC extends TOSEntityLink<ITOSItem | ITOSNPC> implements ITOSMapLinkNPC {\n  Item: ITOSItem;\n  NPC: ITOSNPC;\n  Population: number;\n  Positions: number[][];\n  TimeRespawn: number;\n\n  constructor(json: TOSMapLinkNPC) {\n    super();\n\n    this.Item = json.Item;\n    this.NPC = json.NPC;\n    this.Population = +json.Population;\n    this.Positions = json.Positions;\n    this.TimeRespawn = +json.TimeRespawn;\n  }\n\n  get Link() { return this.Item || this.NPC }\n\n}\n","import {Injectable} from \"@angular/core\";\nimport {TOSMap} from \"./tos-map.model\";\nimport {CRUDResolver} from \"../../../service/CRUD.resolver\";\nimport {TOSDataSet} from \"../tos-domain\";\n\n@Injectable()\nexport class TOSMapResolver extends CRUDResolver<TOSMap> {\n\n  constructor() { super(TOSDataSet.MAPS); }\n\n}\n","import {\n  ITOSItem,\n  ITOSMap,\n  ITOSMonster,\n  ITOSMonsterLinkItem,\n  ITOSMonsterLinkMap,\n  TOSDataSet,\n  TOSElement,\n  TOSEquipmentMaterial,\n  TOSMonsterRace,\n  TOSMonsterRank,\n  TOSMonsterRankService,\n  TOSMonsterSize,\n  TOSMonsterSizeService,\n  TOSMonsterType\n} from \"../tos-domain\";\nimport {TOSDomainService} from \"../tos-domain.service\";\nimport {Observable} from \"rxjs\";\nimport {fromPromise} from \"rxjs/internal-compatibility\";\nimport {TOSEntity, TOSEntityLink} from \"../tos-entity.model\";\n\nexport class TOSMonster extends TOSEntity implements ITOSMonster {\n\n  constructor(dataset: TOSDataSet, json: TOSMonster) {\n    super(TOSDataSet.MONSTERS, json);\n\n    this.$comparators['Rank'] = TOSMonsterRankService.comparator;\n    this.$comparators['Size'] = TOSMonsterSizeService.comparator;\n\n    this.Selected = this.Type != TOSMonsterType.MONSTER;\n  }\n\n  get Armor() { return this.$lazyPropertyEnum('Armor', TOSEquipmentMaterial) }\n  get Element() { return this.$lazyPropertyEnum('Element', TOSElement) }\n  get EXP() { return this.$lazyPropertyNumber('EXP') }\n  get EXPClass() { return this.$lazyPropertyNumber('EXPClass') }\n  get Level() { return this.$lazyPropertyNumber('Level') }\n  get Race() { return this.$lazyPropertyEnum('Race', TOSMonsterRace) }\n  get Rank() { return this.$lazyPropertyEnum('Rank', TOSMonsterRank) }\n  get Size() { return this.$lazyPropertyEnum('Size', TOSMonsterSize) }\n  get Stat_CON() { return this.$lazyPropertyNumber('Stat_CON') }\n  get Stat_DEX() { return this.$lazyPropertyNumber('Stat_DEX') }\n  get Stat_INT() { return this.$lazyPropertyNumber('Stat_INT') }\n  get Stat_SPR() { return this.$lazyPropertyNumber('Stat_SPR') }\n  get Stat_STR() { return this.$lazyPropertyNumber('Stat_STR') }\n  get Stat_HP() { return this.$lazyPropertyNumber('Stat_HP') }\n  get Stat_SP() { return this.$lazyPropertyNumber('Stat_SP') }\n  get Stat_ATTACK_MAGICAL_MAX() { return this.$lazyPropertyNumber('Stat_ATTACK_MAGICAL_MAX') }\n  get Stat_ATTACK_MAGICAL_MIN() { return this.$lazyPropertyNumber('Stat_ATTACK_MAGICAL_MIN') }\n  get Stat_ATTACK_PHYSICAL_MAX() { return this.$lazyPropertyNumber('Stat_ATTACK_PHYSICAL_MAX') }\n  get Stat_ATTACK_PHYSICAL_MIN() { return this.$lazyPropertyNumber('Stat_ATTACK_PHYSICAL_MIN') }\n  get Stat_DEFENSE_MAGICAL() { return this.$lazyPropertyNumber('Stat_DEFENSE_MAGICAL') }\n  get Stat_DEFENSE_PHYSICAL() { return this.$lazyPropertyNumber('Stat_DEFENSE_PHYSICAL') }\n  get Stat_Accuracy() { return this.$lazyPropertyNumber('Stat_Accuracy') }\n  get Stat_Evasion() { return this.$lazyPropertyNumber('Stat_Evasion') }\n  get Stat_CriticalDamage() { return this.$lazyPropertyNumber('Stat_CriticalDamage') }\n  get Stat_CriticalDefense() { return this.$lazyPropertyNumber('Stat_CriticalDefense') }\n  get Stat_CriticalRate() { return this.$lazyPropertyNumber('Stat_CriticalRate') }\n  get Stat_BlockPenetration() { return this.$lazyPropertyNumber('Stat_BlockPenetration') }\n  get Stat_BlockRate() { return this.$lazyPropertyNumber('Stat_BlockRate') }\n  get Type() { return this.$lazyPropertyEnum('Type', TOSMonsterType) }\n\n  get Link_Items() { return this.$lazyPropertyLink('Link_Items', value => this.TOSMonsterLinkItem(value)) as Observable<TOSMonsterLinkItem[]> }\n  get Link_Maps() { return this.$lazyPropertyLink('Link_Maps', value => this.TOSMonsterLinkMap(value)) as Observable<TOSMonsterLinkMap[]> }\n\n  private TOSMonsterLinkItem(value: TOSMonsterLinkItem): Observable<TOSMonsterLinkItem> {\n    return fromPromise((async () => {\n      let object = new TOSMonsterLinkItem(value);\n          object.Item = await TOSDomainService.itemsByIdLink(+object.Item).toPromise();\n\n      return object;\n    })());\n  }\n  private TOSMonsterLinkMap(value: TOSMonsterLinkMap): Observable<TOSMonsterLinkMap> {\n    return fromPromise((async () => {\n      let object = new TOSMonsterLinkMap(value);\n          object.Map = await TOSDomainService.mapsById(+object.Map).toPromise();\n\n      return object;\n    })());\n  }\n\n}\n\nexport class TOSMonsterLinkItem extends TOSEntityLink<ITOSItem> implements ITOSMonsterLinkItem {\n  Chance: number;\n  Item: ITOSItem;\n  Quantity_MAX: number;\n  Quantity_MIN: number;\n\n  constructor(json: TOSMonsterLinkItem) {\n    super();\n\n    this.Chance = +json.Chance;\n    this.Item = json.Item;\n    this.Quantity_MAX = +json.Quantity_MAX;\n    this.Quantity_MIN = +json.Quantity_MIN;\n  }\n\n  get Link() { return this.Item }\n\n}\n\nexport class TOSMonsterLinkMap extends TOSEntityLink<ITOSMap> implements ITOSMonsterLinkMap {\n  Map: ITOSMap;\n  Population: number;\n  TimeRespawn: number;\n\n  constructor(json: TOSMonsterLinkMap) {\n    super();\n\n    this.Map = json.Map;\n    this.Population = +json.Population;\n    this.TimeRespawn = +json.TimeRespawn;\n  }\n\n  get Link() { return this.Map }\n\n}\n","import {Injectable} from \"@angular/core\";\nimport {TOSMonster} from \"./tos-monster.model\";\nimport {CRUDResolver} from \"../../../service/CRUD.resolver\";\nimport {TOSDataSet} from \"../tos-domain\";\n\n@Injectable()\nexport class TOSMonsterResolver extends CRUDResolver<TOSMonster> {\n\n  constructor() { super(TOSDataSet.MONSTERS); }\n\n}\n","import {ITOSNPC, TOSDataSet} from \"../tos-domain\";\nimport {TOSMonster} from \"./tos-monster.model\";\n\nexport class TOSNPC extends TOSMonster implements ITOSNPC {\n\n  constructor(json: TOSNPC) {\n    super(TOSDataSet.NPCS, json);\n  }\n\n  get Url(): string { return null }\n\n}\n","import {TOSDataSet} from \"../tos-domain\";\nimport {Injectable} from \"@angular/core\";\nimport {TOSNPC} from \"./tos-npc.model\";\nimport {CRUDResolver} from \"../../../service/CRUD.resolver\";\n\n@Injectable()\nexport class TOSNPCResolver extends CRUDResolver<TOSNPC> {\n\n  constructor() { super(TOSDataSet.NPCS); }\n\n}\n","import {TOSEntity} from \"../tos-entity.model\";\nimport {\n  ITOSAttribute,\n  ITOSBuild,\n  ITOSGem,\n  ITOSJob,\n  ITOSSkill,\n  ITOSSkillRequiredStance,\n  TOSAttackType,\n  TOSDataSet,\n  TOSElement,\n  TOSSkillRequiredStanceCompanion,\n} from \"../tos-domain\";\nimport {TOSDomainService} from \"../tos-domain.service\";\nimport {LUAService} from \"../../../service/lua.service\";\nimport {Observable} from \"rxjs\";\nimport {fromPromise} from \"rxjs/internal-compatibility\";\nimport {map} from \"rxjs/operators\";\n\nexport class TOSSkill extends TOSEntity implements ITOSSkill {\n\n  constructor(json: TOSSkill) {\n    super(TOSDataSet.SKILLS, json);\n  }\n\n  get Description() { return this.$lazyPropertyStringMultiline('Description', value => this.tooltipToHTML(value)) }\n  get CoolDown(): string[] { return this.$lazyPropertyJSONArray('CoolDown') as string[] }\n\n  get Effect(): string { return this.$lazyPropertyStringMultiline('Effect', value => this.tooltipToHTML(value)) }\n  get Effect_CaptionRatio(): string[] { return this.$lazyPropertyJSONArray('Effect_CaptionRatio') as string[] }\n  get Effect_CaptionRatio2(): string[] { return this.$lazyPropertyJSONArray('Effect_CaptionRatio2') as string[] }\n  get Effect_CaptionRatio3(): string[] { return this.$lazyPropertyJSONArray('Effect_CaptionRatio3') as string[] }\n  get Effect_CaptionTime(): string[] { return this.$lazyPropertyJSONArray('Effect_CaptionTime') as string[] }\n  get Effect_SkillAtkAdd(): string[] { return this.$lazyPropertyJSONArray('Effect_SkillAtkAdd') as string[] }\n  get Effect_SkillFactor(): string[] { return this.$lazyPropertyJSONArray('Effect_SkillFactor') as string[] }\n  get Effect_SkillSR(): string[] { return this.$lazyPropertyJSONArray('Effect_SkillSR') as string[] }\n  get Effect_SpendItemCount(): string[] { return this.$lazyPropertyJSONArray('Effect_SpendItemCount') as string[] }\n  get Effect_SpendPoison(): string[] { return this.$lazyPropertyJSONArray('Effect_SpendPoison') as string[] }\n  get Effect_SpendSP(): string[] { return this.$lazyPropertyJSONArray('Effect_SpendSP') as string[] }\n\n  get Element() { return this.$lazyPropertyEnum('Element', TOSElement) }\n  get IsEnchanter() { return this.$lazyPropertyBoolean('IsEnchanter') }\n  get IsPardoner() { return this.$lazyPropertyBoolean('IsPardoner') }\n  get IsRunecaster() { return this.$lazyPropertyBoolean('IsRunecaster') }\n  get IsShinobi() { return this.$lazyPropertyBoolean('IsShinobi') }\n\n  get Link_Attributes() { return this.$lazyPropertyLink('Link_Attributes', value => TOSDomainService.attributesById(value)) as Observable<ITOSAttribute[]> }\n  get Link_Gem() { return this.$lazyPropertyLink('Link_Gem', value => TOSDomainService.gemsById(value)) as Observable<ITOSGem> }\n  get Link_Job() { return this.$lazyPropertyLink('Link_Job', value => TOSDomainService.jobsById(value)) as Observable<ITOSJob> }\n  get Link_Job$ID() { return this.$lazyPropertyLinkOriginal('Link_Job') as number }\n\n  get OverHeat() { return this.$lazyPropertyNumber('OverHeat') }\n\n  get Prop_BasicCoolDown() { return this.$lazyPropertyNumber('Prop_BasicCoolDown') }\n  get Prop_BasicPoison() { return this.$lazyPropertyNumber('Prop_BasicPoison') }\n  get Prop_BasicSP() { return this.$lazyPropertyNumber('Prop_BasicSP') }\n  get Prop_LevelPerGrade() { return this.$lazyPropertyNumber('Prop_LevelPerGrade') }\n  get Prop_LvUpSpendPoison() { return this.$lazyPropertyNumber('Prop_LvUpSpendPoison') }\n  get Prop_LvUpSpendSp() { return this.$lazyPropertyNumber('Prop_LvUpSpendSp') }\n  get Prop_MaxLevel() { return this.$lazyPropertyNumber('Prop_MaxLevel') }\n  get Prop_SklAtkAdd() { return this.$lazyPropertyNumber('Prop_SklAtkAdd') }\n  get Prop_SklAtkAddByLevel() { return this.$lazyPropertyNumber('Prop_SklAtkAddByLevel') }\n  get Prop_SklFactor() { return this.$lazyPropertyNumber('Prop_SklFactor') }\n  get Prop_SklFactorByLevel() { return this.$lazyPropertyNumber('Prop_SklFactorByLevel') }\n  get Prop_SklSR() { return this.$lazyPropertyNumber('Prop_SklSR') }\n  get Prop_SpendItemBaseCount() { return this.$lazyPropertyNumber('Prop_SpendItemBaseCount') }\n  get Prop_UnlockGrade() { return this.$lazyPropertyNumber('Prop_UnlockGrade') }\n  get Prop_UnlockClassLevel() { return this.$lazyPropertyNumber('Prop_UnlockClassLevel') }\n\n  get RequiredStance() { return this.$lazyPropertyJSONArray('RequiredStance', value => new TOSSkillRequiredStance(value)) }\n  get RequiredStanceCompanion() { return this.$lazyPropertyEnum('RequiredStanceCompanion', TOSSkillRequiredStanceCompanion) }\n  get RequiredSubWeapon() { return this.$lazyPropertyBoolean('RequiredSubWeapon') }\n  get SP(): string[] { return this.$lazyPropertyJSONArray('SP') as string[] }\n  get TypeAttack() { return this.$lazyPropertyEnum('TypeAttack', TOSAttackType) }\n\n  BuildCoolDown(build: ITOSBuild): Observable<number> {\n    return this\n      .effectToEval('CoolDown', build)\n      .pipe(map(value => value.value));\n  }\n  BuildSP(build: ITOSBuild): Observable<number> {\n    return this\n      .effectToEval('SP', build)\n      .pipe(map(value => value.value));\n  }\n\n  EffectDescription(build: ITOSBuild, showFactors: boolean): Observable<string> {\n    return fromPromise((async () => {\n      //console.log('effect:', this.Effect);\n      let dependencies: string[] = [];\n      let effect: string = this.Effect;\n      let level = await build.skillLevel(this);\n\n      // Match effect properties (e.g. #{SkillFactor}#%{nl}AoE Attack Ratio: #{SkillSR}\n      await Promise.all(this.EffectProps.map(async match => {\n        // console.log('prop:', match[1]);\n        let prop = match[1];\n        let result = null;\n\n        try {\n          result = await this.effectToEval(prop, build).toPromise();\n        } catch (e) {\n          console.error('Failed to calculate prop', prop, 'for skill', this, e);\n        }\n\n        if (result != null)\n          for (let dependency of result.dependencies)\n            if (dependencies.indexOf(dependency) == -1)\n              dependencies.push(dependency);\n\n        if (result == null || showFactors && level == 0) {\n          effect = effect.replace(match[0], '<b>[' + prop + ']</b>')\n        } else {\n          effect = effect.replace(match[0], (result != null ? result.value : 0) + (result.dependencies.length ? '*' : ''));\n        }\n      }));\n\n      // Add dependencies (if available)\n      if (dependencies) {\n        effect = effect + '\\n';\n        dependencies.forEach(value => effect = effect + \"\\n* Depends on Character's \" + value);\n      }\n\n      return effect.replace(/{nl}/g, '\\n');\n    })())\n  }\n  EffectFormula(prop: string, build: ITOSBuild): Observable<string> {\n    return this.effectToHuman(prop, build);\n  }\n  get EffectProps(): string[] {\n    let match: RegExpExecArray;\n    let regexEffect = /(?:#{(\\w+)}#)+/g;\n    let result = [];\n\n    while (match = regexEffect.exec(this.Effect))\n      result.push(match);\n\n    return result;\n  }\n\n  private effectContext(prop: string, build: ITOSBuild, human?: boolean): Observable<object> {\n    return fromPromise((async () => {\n      let player = !human && {\n        CON: build.Stats.CON,\n        DEX: build.Stats.DEX,\n        INT: build.Stats.INT,\n        MNA: build.Stats.SPR,\n        STR: build.Stats.STR,\n      };\n      let skill = {\n        'BasicCoolDown': this.Prop_BasicCoolDown,\n        'BasicPoison': this.Prop_BasicPoison,\n        'BasicSP': this.Prop_BasicSP,\n        'ClassName': '\"' + this.$ID_NAME + '\"',\n        'Level': Math.max(1, build.skillLevel(this)),\n        'LvUpSpendPoison': this.Prop_LvUpSpendPoison,\n        'LvUpSpendSp': this.Prop_LvUpSpendSp,\n        'SklAtkAdd': this.Prop_SklAtkAdd,\n        'SklAtkAddByLevel': this.Prop_SklAtkAddByLevel,\n        'SklFactor': this.Prop_SklFactor,\n        'SklFactorByLevel': this.Prop_SklFactorByLevel,\n        'SklSR': this.Prop_SklSR,\n        'SpendItemBaseCount': this.Prop_SpendItemBaseCount,\n      };\n\n\n      if (prop != 'SkillFactor' && this.effectSource('SkillFactor'))\n        skill['SkillFactor'] = (await this.effectToEval('SkillFactor', build).toPromise()).value;\n\n      return { player, skill }\n    })());\n  }\n  private effectToEval(prop: string, build: ITOSBuild): Observable<{ dependencies: string[], value: number }> {\n    return fromPromise((async () => {\n      let source = this.effectSource(prop);\n      let context = await this.effectContext(prop, build).toPromise();\n\n      if (source == null)\n        return null;\n\n      let result = await LUAService.parse(build, source, context).toPromise();\n      let value = eval(result.func.join('\\n')) as number;\n          value = parseFloat(value.toFixed(2)); // Remove trailing 0s\n\n      return { dependencies: result.dependencies, value };\n    })());\n  }\n  private effectToHuman(prop: string, build: ITOSBuild): Observable<string> {\n    return fromPromise((async () => {\n      let source = this.effectSource(prop);\n      let context = await this.effectContext(prop, build, true).toPromise();\n\n      return source != null\n        ? await LUAService.human(build, source, context).toPromise()\n        : '';\n    })())\n  }\n  private effectSource(prop: string): string[] {\n    return this[prop] || this['Effect_' + prop] || null;\n  }\n\n  private tooltipToHTML(description: string): string {\n    if (description == null) return null;\n\n    let regexColor = /{(#.+?)}(.+?){\\/}/g;\n    let match: RegExpExecArray;\n\n    while (match = regexColor.exec(description)) {\n      if (match[2].indexOf('speedofatk')) // TODO: No longer available in Re:Build\n        match[2] = match[2].replace('{img tooltip_speedofatk}', ' <img src=\"assets/images/skill_attackspeed.png\" /> ');\n\n      description = description.replace(match[0], match[2].indexOf('[') != -1\n        ? `<span class=\"p-1 rounded text-white\" style=\"background: ${ match[1] }; line-height: 2\">${ match[2] }</span>`\n        : `<span class=\"font-weight-bold\" style=\"color: ${ match[1] };\">${ match[2] }</span>`\n      );\n    }\n\n    return description\n      .replace(/{\\/}|{ol}/g, '');\n  }\n}\n\nexport class TOSSkillRequiredStance implements ITOSSkillRequiredStance {\n  Icon: string;\n  Name: string;\n\n  constructor(json: TOSSkillRequiredStance) {\n    this.Icon = 'assets/icons/' + json.Icon + '.png';\n    this.Name = json.Name;\n  }\n}\n","import {Injectable} from \"@angular/core\";\nimport {CRUDResolver} from \"../../../service/CRUD.resolver\";\nimport {TOSSkill} from \"./tos-skill.model\";\nimport {TOSDataSet} from \"../tos-domain\";\n\n@Injectable()\nexport class TOSSkillResolver extends CRUDResolver<TOSSkill> {\n\n  constructor() { super(TOSDataSet.SKILLS); }\n\n}\n","import {BehaviorSubject, Observable, of} from \"rxjs\";\nimport {EventEmitter} from \"@angular/core\";\nimport {map} from \"rxjs/operators\";\nimport {\n  ITOSAttribute,\n  ITOSBuild,\n  ITOSBuildEncoded,\n  ITOSBuildStats,\n  ITOSEntity,\n  ITOSJob,\n  ITOSSkill,\n  TOSJobTree\n} from \"./tos-domain\";\nimport {TOSDomainService} from \"./tos-domain.service\";\nimport {TOSRegion, TOSRegionService} from \"../tos-region\";\nimport {fromPromise} from \"rxjs/internal-compatibility\";\n\nexport const LEVEL_LIMIT: number = 420; // TODO: find a way to retrieve this value from the game files (sharedconst.ies / sharedconst_system.ies)\nexport const RANK_LIMIT: number = 10; // TODO: find a way to retrieve this value from the game files\nconst SKILL_POINTS_PER_CIRCLE: number = 15; // TODO: find a way to retrieve this value from the game files\n\nabstract class TOSBuild implements ITOSBuild {\n\n  private jobs: ITOSJob[] = [];\n  private readonly jobCirclesById: { [key: number]: number } = {};\n  private readonly jobChange: BehaviorSubject<ITOSJob> = new BehaviorSubject(null);\n  private jobTree: TOSJobTree;\n\n  private readonly skillChange: BehaviorSubject<ITOSSkill> = new BehaviorSubject(null);\n  private readonly skillLevelsById: { [key: number]: number } = {};\n  private readonly skillPointsByJob: { [key: number]: number } = {};\n\n  private readonly statsPoints: BehaviorSubject<number> = new BehaviorSubject(0);\n  private readonly statsBonus: ITOSBuildStats = { CON: 0, DEX: 0, INT: 0, SPR: 0, STR: 0 };\n\n  protected constructor() {\n    this.buildResetStats();\n  }\n\n  get Job$(): Observable<ITOSJob> { return this.jobChange.asObservable() }\n  get Jobs(): ITOSJob[] { return this.jobs }\n  get JobTree(): TOSJobTree { return this.jobTree }\n  get Rank(): number { return this.jobs.length }\n  get Skill$(): Observable<ITOSSkill> { return this.skillChange.asObservable() }\n  get Stats(): ITOSBuildStats {\n    let statsBase = this.StatsBase;\n    let statsBonus = this.StatsBonus;\n\n    return {\n      CON: statsBase.CON + statsBonus.CON,\n      DEX: statsBase.DEX + statsBonus.DEX,\n      INT: statsBase.INT + statsBonus.INT,\n      SPR: statsBase.SPR + statsBonus.SPR,\n      STR: statsBase.STR + statsBonus.STR,\n    }\n  }\n  abstract get StatsBase(): ITOSBuildStats;\n  get StatsBonus(): ITOSBuildStats {\n    return {\n      CON: this.statsBonus.CON,\n      DEX: this.statsBonus.DEX,\n      INT: this.statsBonus.INT,\n      SPR: this.statsBonus.SPR,\n      STR: this.statsBonus.STR,\n    };\n  }\n  get StatsPoints$(): Observable<number> { return this.statsPoints.asObservable() }\n  abstract get Version(): number;\n\n  async jobAdd$(job: ITOSJob): Promise<void> {\n    if (this.Rank >= RANK_LIMIT)\n      throw new Error('Rank limit of ' + RANK_LIMIT + ' has been reached');\n\n    // If it's rank 1, set the JobTree and the default stats\n    if (this.Rank + 1 == 1)\n      this.jobTree = job.JobTree;\n\n    // Initialize job circle\n    this.jobs.push(job);\n    this.jobCirclesById[job.$ID] = this.jobCirclesById[job.$ID] || 0;\n    this.jobCirclesById[job.$ID] ++;\n    this.jobChange.next(job);\n\n    // Initialize skill levels & points\n    this.buildResetSkillPoints(job);\n    await this.buildResetSkillLevels$(job);\n  }\n  jobCircle(job: ITOSJob): number {\n    return this.jobCirclesById[job.$ID] || 0;\n  }\n  abstract jobCircleMax(job: ITOSJob): number;\n  jobRanks(job: ITOSJob): number[] {\n    return this.jobs.reduce((accumulator, value, index) => {\n      if (value.$ID == job.$ID) accumulator.push(index + 1);\n      return accumulator;\n    }, []);\n  }\n  async jobRemove$(rank: number): Promise<void> {\n    // Remove associated skills and skillPoints$\n    for (let r = this.jobs.length - 1; r >= rank - 1; r --) {\n      let job = this.jobs[r];\n      let circle = await this.jobCircle(job);\n\n      // Update circle\n      this.jobs = this.jobs.slice(0, r);\n      this.jobCirclesById[job.$ID] --;\n      this.jobChange.next(job);\n\n      if (circle == 1) {\n        job.Link_Skills$ID.forEach(value => delete this.skillLevelsById[value]);\n        delete this.jobCirclesById[job.$ID];\n        delete this.skillPointsByJob[job.$ID];\n      } else if (circle > 0) {\n        // Reset skill levels & points\n        this.buildResetSkillPoints(job);\n        await this.buildResetSkillLevels$(job);\n      }\n    }\n\n    // Reset stats\n    if (rank == 1)\n      this.buildResetStats();\n  }\n  abstract jobUnlockAvailable$(job: ITOSJob): Observable<boolean>;\n\n  skillEffect$(skill: ITOSSkill, showFactors: boolean): Observable<string> {\n    return skill.EffectDescription(this, showFactors);\n  }\n  skillEffectFormula$(skill: ITOSSkill, prop: string): Observable<string> {\n    return skill.EffectFormula(prop, this);\n  }\n  skillLevel(skill: ITOSSkill): number { return this.skillLevelsById[skill.$ID] }\n\n  abstract skillLevelMax$(skill: ITOSSkill): Observable<number>; // TODO: after Re:Build we can switch from an Observable to a plain number\n  async skillLevelIncrement$(skill: ITOSSkill, delta: number, force?: boolean, rollOver?: boolean) {\n    let skillLevel = this.skillLevel(skill);\n    let skillPoints = this.skillPointsByJob[skill.Link_Job$ID];\n\n    if (!force && !(await this.skillLevelIncrementAvailable$(skill, delta).toPromise())) {\n      let levelMax = await this.skillLevelMax$(skill).toPromise();\n\n      if (rollOver && skillLevel == 0)\n        delta = Math.min(levelMax, skillPoints);\n      else if (rollOver && (skillLevel == levelMax || skillPoints == 0))\n        delta = -skillLevel;\n      else\n        throw new Error(\"Can't increment \" + skill.$ID_NAME + \"'s level or it gets out of bounds\");\n    }\n\n    // Propagate update\n    this.skillLevelsById[skill.$ID] += delta;\n    this.skillPointsByJob[skill.Link_Job$ID] -= delta;\n    this.skillChange.next(skill);\n  }\n  skillLevelIncrementAvailable$(skill: ITOSSkill, delta: number): Observable<boolean> { // TODO: after Re:Build we can switch from an Observable to a plain boolean\n    let skillLevel = this.skillLevelsById[skill.$ID];\n    let skillPoints = this.skillPointsByJob[skill.Link_Job$ID];\n\n    return fromPromise((async () => 1==1\n      && skillPoints - delta >= 0\n      && skillLevel + delta >= 0\n      && skillLevel + delta <= await this.skillLevelMax$(skill).toPromise()\n    )());\n  }\n  skillPoints(job: { $ID: number }): number { return this.skillPointsByJob[job.$ID] }\n  skillPointsMax(job: ITOSJob) : number { return SKILL_POINTS_PER_CIRCLE * this.jobCircle(job) }\n  skillSP$(skill: ITOSSkill): Observable<number> { return skill.BuildSP(this) }\n\n  statsIncrementLevel(stat: string, delta: number) {\n    if (this.statsBonus[stat] == undefined)\n      throw new Error(\"Can't increment unknown '\" + stat + \"' stat\");\n    if (!this.statsIncrementLevelAvailable(stat, delta))\n      throw new Error(\"Can't increment \" + stat + \"'s level or it gets out of bounds\");\n\n    let statsPoints = this.statsPoints.getValue();\n    statsPoints -= delta;\n\n    this.statsBonus[stat] += delta;\n    this.statsPoints.next(statsPoints);\n  }\n  statsIncrementLevelAvailable(stat: string, delta: number): boolean {\n    let statsPoints = this.statsPoints.getValue();\n\n    return 1==1\n      //&& statsPoints - delta >= 0 // TODO: Until we implement the full simulator with equipment, this will have no cap\n      && this.statsBonus[stat] + delta <= 9999\n      && this.statsBonus[stat] + delta >= 0;\n  }\n  abstract statsPointsMax(): number;\n\n  private async buildResetSkillLevels$(job: ITOSJob) {\n    let skillLevels: { [key: number]: number } = {};\n\n    // Reset skill levels\n    job.Link_Skills$ID.forEach(value => {\n      skillLevels[value] = this.skillLevelsById[value];\n      this.skillLevelsById[value] = 0;\n    });\n\n    // Restore previous skill levels\n    for (let skill$ID in skillLevels) {\n      let delta = skillLevels[skill$ID];\n      let skill = await TOSDomainService.skillsById(+skill$ID).toPromise();\n      let skillPoints = this.skillPointsByJob[job.$ID];\n\n      if (delta > 0) {\n        if (this.skillLevelIncrementAvailable$(skill, delta))\n          await this.skillLevelIncrement$(skill, delta);\n        else\n          await this.skillLevelIncrement$(skill, Math.min(await this.skillLevelMax$(skill).toPromise(), skillPoints));\n      }\n\n      this.skillChange.next(skill);\n    }\n  }\n  private buildResetSkillPoints(job: ITOSJob) {\n    this.skillPointsByJob[job.$ID] = this.skillPointsMax(job);\n  }\n  private buildResetStats(): void {\n    this.statsBonus.CON = this.statsBonus.DEX = this.statsBonus.INT = this.statsBonus.SPR = this.statsBonus.STR = 0;\n    this.statsPoints.next(this.statsPointsMax());\n  }\n\n}\n\nclass TOSBuild_10 extends TOSBuild {\n\n  private readonly stats: ITOSBuildStats = { CON: 0, DEX: 0, INT: 0, SPR: 0, STR: 0 };\n\n  constructor() { super() }\n\n  get StatsBase(): ITOSBuildStats {\n    return {\n      CON: this.stats.CON,\n      DEX: this.stats.DEX,\n      INT: this.stats.INT,\n      SPR: this.stats.SPR,\n      STR: this.stats.STR,\n    };\n  }\n  get Version(): number {\n    return 1.0;\n  }\n\n  async jobAdd$(job: ITOSJob): Promise<void> {\n    if (this.Rank + 1== 1) {\n      this.stats.CON = job.Stat_CON;\n      this.stats.DEX = job.Stat_DEX;\n      this.stats.INT = job.Stat_INT;\n      this.stats.SPR = job.Stat_SPR;\n      this.stats.STR = job.Stat_STR;\n    }\n\n    await super.jobAdd$(job);\n  }\n  jobCircleMax(job: ITOSJob): number {\n    return job.CircleMax;\n  }\n\n  jobUnlockAvailable$(job: ITOSJob): Observable<boolean> {\n    return fromPromise((async () => {\n      let extra = true;\n\n      if (job.$ID_NAME == 'Char4_12') // Chaplain\n        extra = this.jobCircle(await TOSDomainService.jobsById(4002).toPromise()) >= 3; // Priest\n\n      return 1==1\n        && extra\n        && this.Rank + 1 <= RANK_LIMIT\n        && this.Rank + 1 >= job.Rank\n        && this.jobCircle(job) < this.jobCircleMax(job);\n    })());\n  }\n\n  skillLevelMax$(skill: ITOSSkill): Observable<number> {\n    // Taken from shared.ipf/script/skilltree_condition.lua :: GET_SKILLTREE_MAXLV\n    return skill.Link_Job.pipe(map(value => {\n      let classLv = this.jobCircle(value);\n      let ret = (classLv - skill.Prop_UnlockGrade + 1) * skill.Prop_LevelPerGrade;\n\n      return Math.min(ret, skill.Prop_MaxLevel);\n    }));\n  }\n\n  statsPointsMax(): number {\n    // Bonus stat points:\n    // + 390 - 1 > Level limit\n    // + 40 > Hidden & Revelation Quests\n    // + 12 > Zemyna Statues\n    // More info: https://forum.treeofsavior.com/t/extra-stat-point-quests-guide/390257\n    return LEVEL_LIMIT - 1 + 40 + 12;\n  }\n\n}\n\nclass TOSBuild_20 extends TOSBuild {\n\n  constructor() { super() }\n\n  get Rank(): number {\n    return (this.Jobs.length > 0 ? 1 : 0) + Math.max((this.Jobs.length - 1) * 3, 0);\n  }\n  get Version(): number {\n    return 2.0;\n  }\n\n  get StatsBase(): ITOSBuildStats {\n    let jobs = this.Jobs;\n    let jobsStarter = jobs[0];\n    let stats = jobs.reduce((previousValue, currentValue) => {\n      previousValue.CON += currentValue.Stat_CON;\n      previousValue.DEX += currentValue.Stat_DEX;\n      previousValue.INT += currentValue.Stat_INT;\n      previousValue.SPR += currentValue.Stat_SPR;\n      previousValue.STR += currentValue.Stat_STR;\n\n      return previousValue;\n    }, { CON: 0, DEX: 0, INT: 0, SPR: 0, STR: 0 });\n\n    return {\n      CON: Math.floor((LEVEL_LIMIT - 1) * stats.CON / (jobs.length * 100)) + (jobsStarter ? jobsStarter.StatBase_CON : 0),\n      DEX: Math.floor((LEVEL_LIMIT - 1) * stats.DEX / (jobs.length * 100)) + (jobsStarter ? jobsStarter.StatBase_DEX : 0),\n      INT: Math.floor((LEVEL_LIMIT - 1) * stats.INT / (jobs.length * 100)) + (jobsStarter ? jobsStarter.StatBase_INT : 0),\n      SPR: Math.floor((LEVEL_LIMIT - 1) * stats.SPR / (jobs.length * 100)) + (jobsStarter ? jobsStarter.StatBase_SPR : 0),\n      STR: Math.floor((LEVEL_LIMIT - 1) * stats.STR / (jobs.length * 100)) + (jobsStarter ? jobsStarter.StatBase_STR : 0),\n    };\n  }\n\n  jobCircle(job: ITOSJob): number { return super.jobCircle(job) ? this.jobCircleMax(job) : 0 }\n  jobCircleMax(job: ITOSJob): number { return job.Rank == 1 ? 1 : 3 }\n  jobUnlockAvailable$(job: ITOSJob): Observable<boolean> {\n    return of(1==1\n      && this.Rank + 1 <= RANK_LIMIT\n      && this.Rank + 1 >= job.Rank\n      && (!job.IsSecret || this.Rank + 1 > 2)\n      && this.jobCircle(job) < this.jobCircleMax(job)\n    );\n  }\n\n  skillLevelMax$(skill: ITOSSkill): Observable<number> {\n    // Taken from shared.ipf/script/skill/skill_enable_get_shared.lua :: GET_LIMIT_SKILL_LEVEL\n    return skill.Link_Job.pipe(map(value => {\n      let defMaxLevel = skill.Prop_MaxLevel;\n      let pcJobLv = this.jobCircleMax(value) * 15;\n      let pcCircle = Math.floor((pcJobLv - 1) / 15) + 1;\n      let sklCircle = Math.floor((skill.Prop_UnlockClassLevel - 1) / 15) + 1;\n      let applyCircle = pcCircle - sklCircle + 1;\n\n      return Math.min(applyCircle * 5, defMaxLevel);\n    }));\n  }\n\n  statsPointsMax(): number {\n    // Bonus stat points:\n    // + 40 > Hidden & Revelation Quests\n    // + 12 > Zemyna Statues\n    // More info: https://forum.treeofsavior.com/t/extra-stat-point-quests-guide/390257\n    return 40 + 12;\n  }\n\n}\n\nexport class TOSDatabaseBuild implements ITOSBuild {\n\n  static new(region: TOSRegion): TOSDatabaseBuild {\n    let build = TOSRegionService.isRebuild(region)\n      ? new TOSBuild_20()\n      : new TOSBuild_10();\n\n    return new TOSDatabaseBuild(build);\n  }\n\n  private constructor(private build: TOSBuild) {}\n\n  get Job$() { return this.build.Job$ }\n  get Jobs() { return this.build.Jobs }\n  get JobTree() { return this.build.JobTree }\n  get Rank() { return this.build.Rank }\n  get Skill$() { return this.build.Skill$ }\n  get Stats() { return this.build.Stats }\n  get StatsBase() { return this.build.StatsBase }\n  get StatsBonus() { return this.build.StatsBonus }\n  get StatsPoints$() { return this.build.StatsPoints$ }\n  get Version() { return this.build.Version }\n\n  jobAdd$(job: ITOSJob) { return this.build.jobAdd$(job) }\n  jobCircle(job: ITOSJob) { return this.build.jobCircle(job) }\n  jobCircleMax(job:ITOSJob): number { return this.build.jobCircleMax(job) }\n  jobRanks(job: ITOSJob): number[] { return this.build.jobRanks(job) }\n  jobRemove$(rank: number) { return this.build.jobRemove$(rank) }\n  jobUnlockAvailable$(job: ITOSJob) { return this.build.jobUnlockAvailable$(job) }\n\n  skillEffect$(skill: ITOSSkill, showFactors: boolean) { return this.build.skillEffect$(skill, showFactors) }\n  skillEffectFormula$(skill: ITOSSkill, prop: string) { return this.build.skillEffectFormula$(skill, prop) }\n  skillLevel(skill: ITOSSkill) { return this.build.skillLevel(skill) }\n  skillLevelIncrement$(skill: ITOSSkill, delta: number, force?: boolean, rollOver?: boolean) { return this.build.skillLevelIncrement$(skill, delta, force, rollOver) }\n  skillLevelIncrementAvailable$(skill: ITOSSkill, delta: number) { return this.build.skillLevelIncrementAvailable$(skill, delta) }\n  skillLevelMax$(skill: ITOSSkill) { return this.build.skillLevelMax$(skill) }\n  skillPoints(job: ITOSJob) { return this.build.skillPoints(job) }\n  skillPointsMax(job: ITOSJob) { return this.build.skillPointsMax(job) }\n  skillSP$(skill: ITOSSkill) { return this.build.skillSP$(skill) }\n\n  statsIncrementLevel(stat: string, delta: number) { this.build.statsIncrementLevel(stat, delta) }\n  statsIncrementLevelAvailable(stat: string, delta: number) { return this.build.statsIncrementLevelAvailable(stat, delta) }\n  statsPointsMax() { return this.build.statsPointsMax() }\n\n}\n\nexport class TOSSimulatorBuild implements ITOSBuild {\n  public readonly Tooltip: EventEmitter<ITOSEntity> = new EventEmitter();\n\n  static base64Decode(region: TOSRegion, text: string): Observable<TOSSimulatorBuild> {\n    return fromPromise((async () => {\n      let build: TOSSimulatorBuild = TOSSimulatorBuild.new(region);\n      let encoded: ITOSBuildEncoded = JSON.parse(atob(text));\n\n      if (build.Version == encoded.version) {\n        // Parse jobs\n        let jobs = await Promise.all(encoded.jobs.map(value => TOSDomainService.jobsByIdName(value).toPromise()));\n        for (let job of jobs) await build.jobAdd$(job);\n\n        // Parse skills\n        for (let skill$ID of Object.keys(encoded.skills || {})) {\n          let skill =\n            await TOSDomainService.skillsById(+skill$ID).toPromise();\n            await build.skillLevelIncrement$(skill, encoded.skills[skill$ID]);\n        }\n\n        // Parse stats\n        for (let stat of Object.keys(encoded.stats || {}))\n          build.statsIncrementLevel(stat, encoded.stats[stat]);\n      }\n\n      return build;\n    })());\n  }\n  static async base64Encode(build: TOSSimulatorBuild): Promise<string> {\n    let jobs = build.Jobs.map(value => value.$ID_NAME);\n    let skills = await Promise.all(build.Jobs.map(value => value.Link_Skills.toPromise()));\n    let skillLevels: { [key: number]: number } = {};\n        skills\n          .forEach(value => value\n            .filter(value => build.skillLevel(value) > 0)\n            .forEach(value => skillLevels[value.$ID] = build.skillLevel(value)))\n    ;\n\n    return jobs.length\n      ? btoa(JSON.stringify({ jobs, skills: skillLevels, stats: build.StatsBonus, version: build.Version }))\n      : '';\n  }\n\n  static new(region: TOSRegion): TOSSimulatorBuild {\n    let build = TOSRegionService.isRebuild(region)\n      ? new TOSBuild_20()\n      : new TOSBuild_10();\n\n    return new TOSSimulatorBuild(build);\n  }\n\n  private constructor(private build: TOSBuild) {}\n\n  get Job$() { return this.build.Job$ }\n  get Jobs() { return this.build.Jobs }\n  get JobTree() { return this.build.JobTree }\n  get Rank() { return this.build.Rank }\n  get Skill$() { return this.build.Skill$ }\n  get Stats() { return this.build.Stats }\n  get StatsBase() { return this.build.StatsBase }\n  get StatsBonus() { return this.build.StatsBonus }\n  get StatsPoints$() { return this.build.StatsPoints$ }\n  get Version() { return this.build.Version }\n\n  jobAdd$(job: ITOSJob) { return this.build.jobAdd$(job); }\n  jobCircle(job: ITOSJob) { return this.build.jobCircle(job) }\n  jobCircleMax(job:ITOSJob) { return this.build.jobCircleMax(job) }\n  jobRanks(job: ITOSJob) { return this.build.jobRanks(job) }\n  jobRemove$(rank: number) { return this.build.jobRemove$(rank); }\n  jobUnlockAvailable$(job: ITOSJob) { return this.build.jobUnlockAvailable$(job) }\n\n  skillEffect$(skill: ITOSSkill, showFactors: boolean) { return this.build.skillEffect$(skill, showFactors) }\n  skillEffectFormula$(skill: ITOSSkill, prop: string) { return this.build.skillEffectFormula$(skill, prop) }\n  skillLevel(skill: ITOSSkill) { return this.build.skillLevel(skill) }\n\n  skillLevelIncrement$(skill: ITOSSkill, delta: number, force?: boolean, rollOver?: boolean) { return this.build.skillLevelIncrement$(skill, delta, force, rollOver); }\n  skillLevelIncrementAvailable$(skill: ITOSSkill, delta: number) { return this.build.skillLevelIncrementAvailable$(skill, delta) }\n  skillLevelMax$(skill: ITOSSkill) { return this.build.skillLevelMax$(skill) }\n  skillPoints(job: ITOSJob) { return this.build.skillPoints(job) }\n  skillPointsMax(job: ITOSJob) { return this.build.skillPointsMax(job) }\n  skillSP$(skill: ITOSSkill) { return this.build.skillSP$(skill) }\n\n  statsIncrementLevel(stat: string, delta: number): void { this.build.statsIncrementLevel(stat, delta); }\n  statsIncrementLevelAvailable(stat: string, delta: number): boolean { return this.build.statsIncrementLevelAvailable(stat, delta) }\n  statsPointsMax(): number { return this.build.statsPointsMax() }\n\n  tooltip(entity: ITOSAttribute | ITOSJob | ITOSSkill, show: boolean) {\n    this.Tooltip.emit(show && entity)\n  }\n\n}\n","import {Injectable} from \"@angular/core\";\nimport {Observable, Subject} from \"rxjs\";\nimport {ITOSDomainRepository, TOSDataSet} from \"./tos-domain\";\nimport {TOSUrlService} from \"../../service/tos-url.service\";\nimport {TOSRegion, TOSRegionService} from \"../tos-region\";\nimport {CRUDPage, CRUDPageResult} from \"../../service/CRUD.resolver\";\nimport {map} from \"rxjs/operators\";\nimport {TOSAttribute} from \"./attribute/tos-attribute.model\";\nimport {TOSBook} from \"./item/book/tos-book.model\";\nimport {TOSCard} from \"./item/card/tos-card.model\";\nimport {TOSCollection} from \"./item/collection/tos-collection.model\";\nimport {TOSCube} from \"./item/cube/tos-cube.model\";\nimport {TOSEquipment, TOSEquipmentSet} from \"./item/equipment/tos-equipment.model\";\nimport {TOSGem} from \"./item/gem/tos-gem.model\";\nimport {TOSItem} from \"./item/tos-item.model\";\nimport {TOSJob} from \"./job/tos-job.model\";\nimport {TOSMap} from \"./map/tos-map.model\";\nimport {TOSMonster} from \"./monster/tos-monster.model\";\nimport {TOSRecipe} from \"./item/recipe/tos-recipe.model\";\nimport {TOSSkill} from \"./skill/tos-skill.model\";\nimport {TOSNPC} from \"./monster/tos-npc.model\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TOSDomainRepository implements ITOSDomainRepository {\n\n  public readonly config = {\n    'attributes': {\n      factory:            json => new TOSAttribute(json),\n      schema:             { primaryKey: '$ID', indexes: ['$ID_NAME'] },\n    },\n    'books': {\n      factory:            json => new TOSBook(json),\n      schema:             { primaryKey: '$ID' },\n    },\n    'cards': {\n      factory:            json => new TOSCard(json),\n      schema:             { primaryKey: '$ID' },\n    },\n    'collections': {\n      factory:            json => new TOSCollection(json),\n      schema:             { primaryKey: '$ID' },\n    },\n    'cubes': {\n      factory:            json => new TOSCube(json),\n      schema:             { primaryKey: '$ID' },\n    },\n    'equipment': {\n      factory:            json => new TOSEquipment(json),\n      schema:             { primaryKey: '$ID' },\n    },\n    'equipment-sets': {\n      factory:            json => new TOSEquipmentSet(json),\n      schema:             { primaryKey: '$ID' },\n    },\n    'gems': {\n      factory:            json => new TOSGem(json),\n      schema:             { primaryKey: '$ID' },\n    },\n    'items': {\n      factory:            json => new TOSItem(TOSDataSet.ITEMS, json),\n      schema:             { primaryKey: '$ID' },\n    },\n    'jobs': {\n      factory:            json => new TOSJob(json),\n      schema:             { primaryKey: '$ID', indexes: ['$ID_NAME', 'JobTree', 'IsStarter'] },\n    },\n    'maps': {\n      factory:            json => new TOSMap(json),\n      schema:             { primaryKey: '$ID' },\n    },\n    'monsters': {\n      factory:            json => new TOSMonster(TOSDataSet.MONSTERS, json),\n      schema:             { primaryKey: '$ID' },\n    },\n    'npcs': {\n      factory:            json => new TOSNPC(json),\n      schema:             { primaryKey: '$ID' },\n    },\n    'recipes': {\n      factory:            json => new TOSRecipe(json),\n      schema:             { primaryKey: '$ID' },\n    },\n    'skills': {\n      factory:            json => new TOSSkill(json),\n      schema:             { primaryKey: '$ID', indexes: ['$ID_NAME', 'Link_Job'] },\n    }\n  };\n\n  private WORKER_DEXIE_NONCE: number = 0;\n  private WORKER_PAPAPARSE_NONCE: number = 0;\n\n  // Note: we initialize workers later so the Service Worker can intercept the call\n  private workerDexie: Worker;\n  private workerPapaparse: Worker;\n  private readonly workerDexieHandler: { [key: number]: Subject<object> } = {};\n  private readonly workerPapaparseHandler: { [key: number]: Subject<object> } = {};\n\n  constructor() {\n    this.onPapaparseMessage = this.onPapaparseMessage.bind(this);\n    this.onDexieMessage = this.onDexieMessage.bind(this);\n  }\n\n  find(dataset: TOSDataSet, page: CRUDPage) {\n    return this\n      .postDexieMessage(WorkerDexieCommand.FIND, { dataset, region: TOSRegionService.get(), page })\n      .pipe(map((value: CRUDPageResult<any>) => {\n        return {\n          result: value.result.map(value => this.config[dataset].factory(value)),\n          size: value.size,\n        }\n      }));\n  }\n  findByIndex(dataset: TOSDataSet, key: string, value: number | string, forceSingle?: boolean) {\n    return this\n      .postDexieMessage(WorkerDexieCommand.FIND_BY_INDEX, { dataset, region: TOSRegionService.get(), key, value })\n      .pipe(\n        map((value: CRUDPageResult<any>) => value.result.map(value => this.config[dataset].factory(value))),\n        map((value) => forceSingle ? value[0] : value)\n      );\n  }\n  load(dataset: TOSDataSet, region: TOSRegion) {\n    return this.postPapaparseMessage(WorkerPapaparseCommand.LOAD, dataset, {\n        region,\n        schema: this.config[dataset].schema,\n      });\n  }\n\n  private onDexieMessage(event: MessageEvent) {\n    let message = event.data as WorkerDexieMessage;\n\n    let handler = this.workerDexieHandler[message.nonce] as Subject<object>;\n        handler.next(message.payload);\n        handler.complete();\n\n    delete this.workerDexieHandler[message.nonce];\n  }\n  private onPapaparseMessage(event: MessageEvent) {\n    let message = event.data as WorkerPapaparseMessage;\n\n    let handler = this.workerPapaparseHandler[message.nonce] as Subject<object>;\n        handler.next(message.payload);\n        handler.complete();\n\n    delete this.workerPapaparseHandler[message.nonce];\n  }\n\n  private postDexieMessage(cmd: WorkerDexieCommand, payload?: object) {\n    let nonce = this.WORKER_DEXIE_NONCE ++;\n    let message: WorkerDexieMessage = { cmd, nonce, payload };\n\n    let subject = this.workerDexieHandler[nonce] = new Subject();\n    let worker = this.workerDexie = this.workerDexie || new Worker(TOSUrlService.WORKER_DEXIE());\n        worker.onmessage = this.onDexieMessage;\n        worker.postMessage(message);\n\n    return subject.asObservable();\n  }\n  private postPapaparseMessage(cmd: WorkerPapaparseCommand, dataset: TOSDataSet, payload?: object): Observable<object> {\n    let nonce = this.WORKER_PAPAPARSE_NONCE ++;\n    let message: WorkerPapaparseMessage = { cmd, dataset, nonce, payload };\n\n    let subject = this.workerPapaparseHandler[nonce] = new Subject();\n    let worker = this.workerPapaparse = this.workerPapaparse || new Worker(TOSUrlService.WORKER_PAPAPARSE());\n        worker.onmessage = this.onPapaparseMessage;\n        worker.postMessage(message);\n\n    return subject.asObservable();\n  }\n\n}\n\nenum WorkerDexieCommand { FIND = 'find', FIND_BY_INDEX = 'findByIndex' }\ninterface WorkerDexieMessage {\n  cmd: WorkerDexieCommand;\n  nonce: number;\n  payload?: object;\n}\n\nenum WorkerPapaparseCommand { LOAD = 'load' }\ninterface WorkerPapaparseMessage {\n  cmd: WorkerPapaparseCommand;\n  dataset: string;\n  nonce: number;\n  payload?: object;\n}\n","import {\n  ITOSAttribute,\n  ITOSBook,\n  ITOSCard,\n  ITOSCollection,\n  ITOSCube,\n  ITOSDomainRepository,\n  ITOSEquipment,\n  ITOSEquipmentSet,\n  ITOSGem,\n  ITOSItem,\n  ITOSJob,\n  ITOSMap,\n  ITOSMonster,\n  ITOSRecipe,\n  ITOSSkill,\n  TOSDataSet,\n  TOSJobTree,\n  TOSJobTreeService,\n} from \"./tos-domain\";\nimport {CRUDPage, CRUDPageResult} from \"../../service/CRUD.resolver\";\nimport {Observable} from \"rxjs\";\nimport {fromPromise} from \"rxjs/internal-compatibility\";\nimport {Inject, Injectable} from \"@angular/core\";\nimport {TOSAttribute} from \"./attribute/tos-attribute.model\";\nimport {TOSRegion} from \"../tos-region\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TOSDomainService {\n\n  private static repository: ITOSDomainRepository;\n\n  constructor(@Inject('ITOSDomainRepository') private repository: ITOSDomainRepository) {\n    TOSDomainService.repository = repository;\n  }\n\n  public load(dataset: TOSDataSet, region: TOSRegion): Observable<object> {\n    return this.repository.load(dataset, region);\n  }\n\n  //---------------------------------------------------------------------------\n\n  public static attributes(page: CRUDPage): Observable<CRUDPageResult<TOSAttribute>>        { return this.repository.find(TOSDataSet.ATTRIBUTES, page) };\n  public static attributesById($ID: number): Observable<ITOSAttribute>                      { return this.repository.findByIndex(TOSDataSet.ATTRIBUTES, '$ID', $ID, true) };\n  public static attributesByIdName($ID_NAME: string): Observable<ITOSAttribute>             { return this.repository.findByIndex(TOSDataSet.ATTRIBUTES, '$ID_NAME', $ID_NAME, true) };\n\n  public static books(page: CRUDPage): Observable<CRUDPageResult<ITOSBook>>                 { return this.repository.find(TOSDataSet.BOOKS, page) };\n  public static booksById($ID: number): Observable<ITOSBook>                                { return this.repository.findByIndex(TOSDataSet.BOOKS, '$ID', $ID, true) };\n\n  public static cards(page: CRUDPage): Observable<CRUDPageResult<ITOSCard>>                 { return this.repository.find(TOSDataSet.CARDS, page) };\n  public static cardsById($ID: number): Observable<ITOSCard>                                { return this.repository.findByIndex(TOSDataSet.CARDS, '$ID', $ID, true) };\n\n  public static collections(page: CRUDPage): Observable<CRUDPageResult<ITOSCollection>>     { return this.repository.find(TOSDataSet.COLLECTIONS, page) };\n  public static collectionsById($ID: number): Observable<ITOSCollection>                    { return this.repository.findByIndex(TOSDataSet.COLLECTIONS, '$ID', $ID, true) };\n\n  public static cubes(page: CRUDPage): Observable<CRUDPageResult<ITOSCube>>                 { return this.repository.find(TOSDataSet.CUBES, page) };\n  public static cubesById($ID): Observable<ITOSCube>                                        { return this.repository.findByIndex(TOSDataSet.CUBES, '$ID', $ID, true) };\n\n  public static equipment(page: CRUDPage): Observable<CRUDPageResult<ITOSEquipment>>        { return this.repository.find(TOSDataSet.EQUIPMENT, page) };\n  public static equipmentById($ID): Observable<ITOSEquipment>                               { return this.repository.findByIndex(TOSDataSet.EQUIPMENT, '$ID', $ID, true) };\n\n  public static equipmentSets(page: CRUDPage): Observable<CRUDPageResult<ITOSEquipmentSet>> { return this.repository.find(TOSDataSet.EQUIPMENT_SETS, page) };\n  public static equipmentSetsById($ID): Observable<ITOSEquipmentSet>                        { return this.repository.findByIndex(TOSDataSet.EQUIPMENT_SETS, '$ID', $ID, true) };\n\n  public static gems(page: CRUDPage): Observable<CRUDPageResult<ITOSGem>>                   { return this.repository.find(TOSDataSet.GEMS, page) };\n  public static gemsById($ID: number): Observable<ITOSGem>                                  { return this.repository.findByIndex(TOSDataSet.GEMS, '$ID', $ID, true) };\n\n  public static items(page: CRUDPage): Observable<CRUDPageResult<ITOSItem>>                 { return this.repository.find(TOSDataSet.ITEMS, page) };\n  public static itemsById($ID): Observable<ITOSItem>                                        { return this.repository.findByIndex(TOSDataSet.ITEMS, '$ID', $ID, true) };\n  public static itemsByIdLink = ($ID: number) => {\n    return fromPromise((async () => {\n      return null\n        || await TOSDomainService.booksById($ID).toPromise()\n        || await TOSDomainService.cardsById($ID).toPromise()\n        || await TOSDomainService.collectionsById($ID).toPromise()\n        || await TOSDomainService.cubesById($ID).toPromise()\n        || await TOSDomainService.gemsById($ID).toPromise()\n        || await TOSDomainService.itemsById($ID).toPromise()\n        || await TOSDomainService.recipesById($ID).toPromise()\n        || await TOSDomainService.equipmentById($ID).toPromise() // Note: due to duplicate IDs, fashion items should be the last ones to be checked\n    })());\n  };\n\n  public static jobs(page: CRUDPage): Observable<CRUDPageResult<ITOSJob>>                   { return this.repository.find(TOSDataSet.JOBS, page) };\n  public static jobsById($ID: number): Observable<ITOSJob>                                  { return this.repository.findByIndex(TOSDataSet.JOBS, '$ID', $ID, true) };\n  public static jobsByIdName($ID_NAME: string): Observable<ITOSJob>                         { return this.repository.findByIndex(TOSDataSet.JOBS, '$ID_NAME', $ID_NAME, true) };\n  public static jobsByTree(jobTree: TOSJobTree): Observable<ITOSJob[]>                      { return this.repository.findByIndex(TOSDataSet.JOBS, 'JobTree', TOSJobTreeService.indexOf(jobTree)) };\n  public static jobsByStarter(isStarter: boolean): Observable<ITOSJob[]>                    { return this.repository.findByIndex(TOSDataSet.JOBS, 'IsStarter', isStarter ? 'True' : 'False') };\n\n  public static maps(page: CRUDPage): Observable<CRUDPageResult<ITOSMap>>                   { return this.repository.find(TOSDataSet.MAPS, page) };\n  public static mapsById($ID): Observable<ITOSMap>                                          { return this.repository.findByIndex(TOSDataSet.MAPS, '$ID', $ID, true) };\n\n  public static monsters(page: CRUDPage): Observable<CRUDPageResult<ITOSMonster>>           { return this.repository.find(TOSDataSet.MONSTERS, page) };\n  public static monstersById($ID): Observable<ITOSMonster>                                  { return this.repository.findByIndex(TOSDataSet.MONSTERS, '$ID', $ID, true) };\n\n  public static npcs(page: CRUDPage): Observable<CRUDPageResult<ITOSMonster>>               { return this.repository.find(TOSDataSet.NPCS, page) };\n  public static npcsById($ID): Observable<ITOSMonster>                                      { return this.repository.findByIndex(TOSDataSet.NPCS, '$ID', $ID, true) };\n\n  public static npcsByIdLink = ($ID: number) => {\n    return fromPromise((async () => {\n      return null\n        || await TOSDomainService.monstersById($ID).toPromise()\n        || await TOSDomainService.npcsById($ID).toPromise()\n    })());\n  };\n\n  public static recipes(page: CRUDPage): Observable<CRUDPageResult<ITOSRecipe>>             { return this.repository.find(TOSDataSet.RECIPES, page) };\n  public static recipesById($ID): Observable<ITOSRecipe>                                    { return this.repository.findByIndex(TOSDataSet.RECIPES, '$ID', $ID, true) };\n\n  public static skills(page: CRUDPage): Observable<CRUDPageResult<ITOSSkill>>               { return this.repository.find(TOSDataSet.SKILLS, page) };\n  public static skillsById($ID: number): Observable<ITOSSkill>                              { return this.repository.findByIndex(TOSDataSet.SKILLS, '$ID', $ID, true) };\n  public static skillsByIdName($ID_NAME: string): Observable<ITOSSkill>                     { return this.repository.findByIndex(TOSDataSet.SKILLS, '$ID_NAME', $ID_NAME,  true) };\n  public static skillsByJob(job: ITOSJob): Observable<ITOSSkill[]>                          { return this.repository.findByIndex(TOSDataSet.SKILLS, 'Link_Job', job.$ID) };\n\n}\n","import {Observable} from \"rxjs\";\nimport {TOSUrlService} from \"../../service/tos-url.service\";\nimport {TOSRegion} from \"../tos-region\";\nimport {CRUDPage, CRUDPageResult} from \"../../service/CRUD.resolver\";\n\n/*====================================================================================================================+\n | Enums\n *====================================================================================================================*/\ninterface EnumService<T> {\n  groupBy(): { header?: string, options: any[] }[];\n  indexOf(value: T): number;\n  toString(value: T): string;\n}\nfunction EnumServiceFactory<T>(enumeration: T): EnumService<any> {\n  return {\n    groupBy: () => [{ options: Object.values(enumeration) }],\n    indexOf: (value: T) => Object.values(enumeration).indexOf(value),\n    toString: (value: T) => Object.values(enumeration)[+value] + ''\n  }\n}\n\nexport enum TOSAttackType {\n  BUFF = 'Buff',\n  MAGIC = 'Magic',\n  MISSILE = 'Missile',\n  MISSILE_BOW = 'Missile: Bow',\n  MISSILE_CANNON = 'Missile: Cannon',\n  MISSILE_GUN = 'Missile: Gun',\n  MELEE = 'Melee',\n  MELEE_PIERCING = 'Piercing',\n  MELEE_SLASH = 'Slash',\n  MELEE_STRIKE = 'Strike',\n  MELEE_THRUST = 'Thrust',\n  TRUE = 'True Damage',\n  UNKNOWN = '',\n}\n\nexport enum TOSCardType {\n  ATTACK = 'Attack',\n  DEFENSE = 'Defense',\n  LEGENDARY = 'Legendary',\n  REINFORCE = 'Reinforce Cards',\n  STATS = 'Stats',\n  UTILITY = 'Utility'\n}\nexport const TOSCardTypeService = EnumServiceFactory(TOSCardType);\n\nexport enum TOSClassTree {\n  ARCHER = 'Archer',\n  CLERIC = 'Cleric',\n  SCOUT = 'Scout',\n  SWORDSMAN = 'Swordsman',\n  WIZARD = 'Wizard',\n}\n\nexport enum TOSDataSet {\n  ATTRIBUTES = 'attributes',\n  BOOKS = 'books',\n  CARDS = 'cards',\n  COLLECTIONS = 'collections',\n  CUBES = 'cubes',\n  EQUIPMENT = 'equipment',\n  EQUIPMENT_SETS = 'equipment-sets',\n  GEMS = 'gems',\n  ITEMS = 'items',\n  JOBS = 'jobs',\n  MAPS = 'maps',\n  MONSTERS = 'monsters',\n  NPCS = 'npcs',\n  RECIPES = 'recipes',\n  SKILLS = 'skills',\n}\nexport namespace TOSDataSetService {\n  export const VALUES: { label: string, options: TOSDataSet[] }[] = [\n    {\n      label: 'Character',\n      options: [\n        TOSDataSet.ATTRIBUTES,\n        TOSDataSet.JOBS,\n        TOSDataSet.SKILLS,\n      ],\n    },\n    {\n      label: 'Items',\n      options: [\n        TOSDataSet.BOOKS,\n        TOSDataSet.CARDS,\n        TOSDataSet.COLLECTIONS,\n        TOSDataSet.CUBES,\n        TOSDataSet.EQUIPMENT,\n        TOSDataSet.EQUIPMENT_SETS,\n        TOSDataSet.GEMS,\n        TOSDataSet.ITEMS,\n        TOSDataSet.RECIPES,\n      ],\n    },\n    {\n      label: 'World',\n      options: [\n        TOSDataSet.MAPS,\n        TOSDataSet.MONSTERS,\n      ],\n    }\n  ];\n\n  export function toLabel(value: TOSDataSet): string {\n    if (value == TOSDataSet.JOBS) return 'Classes';\n    if (value == null || (value + '') == '') return null;\n\n    return (value || '').toString() // Convert to Human Form\n      .split('-')\n      .map(value => value[0].toUpperCase() + value.slice(1))\n      .join(' ');\n  }\n  export function toProperty(value: TOSDataSet): string {\n    return (value || '').toString() // Convert to camelCase\n      .split('-')\n      .map((value, index) => index > 0 ? value[0].toUpperCase() + value.slice(1) : value)\n      .join('');\n  }\n  export function toUrl(value: TOSDataSet) {\n    if (value == TOSDataSet.JOBS) return 'classes';\n    return value.toString();\n  }\n}\n\nexport enum TOSElement {\n  DARK = 'Dark',\n  EARTH = 'Earth',\n  FIRE = 'Fire',\n  HOLY = 'Holy',\n  ICE = 'Ice',\n  LIGHTNING = 'Lightning',\n  MELEE = 'None',\n  POISON = 'Poison',\n  PSYCHOKINESIS = 'Psychokinesis',\n}\n\nexport const\n  TOSElementService = EnumServiceFactory(TOSElement) as EnumService<TOSElement> & {\n    icon(value: TOSElement): string\n  };\n  TOSElementService.icon = (value: TOSElement) => 'assets/images/element_' + value.toString().toLowerCase() + '.png';\n\nexport enum TOSEquipmentGrade {\n  LEGENDARY = 'Legendary',\n  MAGIC = 'Magic',\n  NORMAL = 'Normal',\n  RARE = 'Rare',\n  UNIQUE = 'Unique',\n}\nexport const\n  TOSEquipmentGradeService = EnumServiceFactory(TOSEquipmentGrade) as EnumService<TOSEquipmentGrade> & {\n    comparator(a: TOSEquipmentGrade, b: TOSEquipmentGrade): -1 | 0 | 1;\n    color(value: TOSEquipmentGrade): string;\n    order(value: TOSEquipmentGrade): number;\n  };\n  TOSEquipmentGradeService.comparator = (a: TOSEquipmentGrade, b: TOSEquipmentGrade) => {\n    let i = TOSEquipmentGradeService.order(a);\n    let j = TOSEquipmentGradeService.order(b);\n\n    return (i < j) ? -1 : (i > j) ? 1 : 0;\n  };\n  TOSEquipmentGradeService.color = (value: TOSEquipmentGrade) => {\n    if (value == TOSEquipmentGrade.NORMAL)    return '#999999';\n    if (value == TOSEquipmentGrade.MAGIC)     return '#42BAF7';\n    if (value == TOSEquipmentGrade.RARE)      return '#CE69EF';\n    if (value == TOSEquipmentGrade.UNIQUE)    return '#EF6900';\n    if (value == TOSEquipmentGrade.LEGENDARY) return '#F4E409';\n  };\n  TOSEquipmentGradeService.order = (value: TOSEquipmentGrade) => {\n    if (value == TOSEquipmentGrade.NORMAL)    return 0;\n    if (value == TOSEquipmentGrade.MAGIC)     return 1;\n    if (value == TOSEquipmentGrade.RARE)      return 2;\n    if (value == TOSEquipmentGrade.UNIQUE)    return 3;\n    if (value == TOSEquipmentGrade.LEGENDARY) return 4;\n  };\n\nexport enum TOSEquipmentMaterial {\n  CHAIN = 'Chain',\n  CLOTH = 'Cloth',\n  GHOST = 'Ghost',\n  LEATHER = 'Leather',\n  PLATE = 'Plate',\n  UNKNOWN = '',\n}\nexport const TOSEquipmentMaterialService = EnumServiceFactory(TOSEquipmentMaterial);\n\nexport enum TOSEquipmentType {\n  ARK = 'Ark',\n  BOTTOM = 'Pants',\n  BRACELET = 'Bracelets',\n  CANNON = 'Cannons',\n  CHARM = 'Charm',\n  COSTUME_ARMBAND = 'Armband',\n  COSTUME_DOLL = 'Doll',\n  COSTUME_EFFECT = 'Effect Costumes',\n  COSTUME_HAIR = 'Hair',\n  COSTUME_HAIR_ACCESSORY = 'Hair Accessories',\n  COSTUME_HELMET = 'Helmets',\n  COSTUME_LENS = 'Lens',\n  COSTUME_OUTFIT = 'Costume',\n  COSTUME_SPECIAL = 'Special Costume',\n  COSTUME_SPECIAL_SKIN = 'Special Costume Skin',\n  COSTUME_TOY = 'Toys',\n  COSTUME_WING = 'Wings',\n  DAGGER = 'Daggers',\n  GLOVES = 'Gloves',\n  NECKLACE = 'Necklaces',\n  ONE_HANDED_BOW = 'Crossbows',\n  ONE_HANDED_GUN = 'Pistols',\n  ONE_HANDED_MACE = 'Maces',\n  ONE_HANDED_SPEAR = 'Spears',\n  ONE_HANDED_STAFF = 'Rods',\n  ONE_HANDED_SWORD = 'Swords',\n  RAPIER = 'Rapiers',\n  SEAL = 'Seals',\n  SHIELD = 'Shields',\n  SHOES = 'Shoes',\n  TOP = 'Shirts',\n  TRINKET = 'Trinket',\n  TWO_HANDED_BOW = 'Bows',\n  TWO_HANDED_GUN = 'Muskets',\n  TWO_HANDED_MACE = '2H Maces',\n  TWO_HANDED_SPEAR = '2H Spears',\n  TWO_HANDED_STAFF = 'Staffs',\n  TWO_HANDED_SWORD = '2H Swords',\n}\nexport const\n  TOSEquipmentTypeService = EnumServiceFactory(TOSEquipmentType) as EnumService<TOSEquipmentType> & {\n    toStringHuman(value: TOSEquipmentType): string\n  };\n  TOSEquipmentTypeService.groupBy = () => [\n    {\n      header: 'Armor',\n      options: [\n        TOSEquipmentType.BRACELET,\n        TOSEquipmentType.GLOVES,\n        TOSEquipmentType.NECKLACE,\n        TOSEquipmentType.BOTTOM,\n        TOSEquipmentType.TOP,\n        TOSEquipmentType.SHOES,\n      ]\n    },\n    {\n      header: 'Fashion',\n      options: [\n        TOSEquipmentType.COSTUME_ARMBAND,\n        TOSEquipmentType.COSTUME_DOLL,\n        TOSEquipmentType.COSTUME_EFFECT,\n        TOSEquipmentType.COSTUME_HAIR,\n        TOSEquipmentType.COSTUME_HAIR_ACCESSORY,\n        TOSEquipmentType.COSTUME_HELMET,\n        TOSEquipmentType.COSTUME_LENS,\n        TOSEquipmentType.COSTUME_OUTFIT,\n        TOSEquipmentType.COSTUME_SPECIAL,\n        TOSEquipmentType.COSTUME_SPECIAL_SKIN,\n        TOSEquipmentType.COSTUME_TOY,\n        TOSEquipmentType.COSTUME_WING,\n      ]\n    },\n    {\n      header: '1-Handed Weapons',\n      options: [\n        TOSEquipmentType.ONE_HANDED_BOW,\n        TOSEquipmentType.ONE_HANDED_MACE,\n        TOSEquipmentType.RAPIER,\n        TOSEquipmentType.ONE_HANDED_STAFF,\n        TOSEquipmentType.ONE_HANDED_SPEAR,\n        TOSEquipmentType.ONE_HANDED_SWORD,\n      ]\n    },\n    {\n      header: '2-Handed Weapons',\n      options: [\n        TOSEquipmentType.TWO_HANDED_BOW,\n        TOSEquipmentType.CANNON,\n        TOSEquipmentType.TWO_HANDED_MACE,\n        TOSEquipmentType.TWO_HANDED_GUN,\n        TOSEquipmentType.TWO_HANDED_SPEAR,\n        TOSEquipmentType.TWO_HANDED_STAFF,\n        TOSEquipmentType.TWO_HANDED_SWORD,\n      ]\n    },\n    {\n      header: 'Sub Weapons',\n      options: [\n        TOSEquipmentType.DAGGER,\n        TOSEquipmentType.ONE_HANDED_GUN,\n        TOSEquipmentType.SHIELD,\n      ]\n    },\n    {\n      header: 'Others',\n      options: [\n        TOSEquipmentType.ARK,\n        TOSEquipmentType.SEAL,\n        TOSEquipmentType.TRINKET,\n      ]\n    },\n  ];\n  TOSEquipmentTypeService.toStringHuman = (value: TOSEquipmentType) => {\n    if (value == TOSEquipmentType.COSTUME_LENS)           return 'Lens';\n    if (value == TOSEquipmentType.COSTUME_HAIR_ACCESSORY) return 'Hair Accessory';\n\n    let result = (value + '');\n    result = result.replace('2H', 'Two-Handed');\n    result = result.endsWith('s') ? result.substr(0, result.length - 1) : result;\n\n    return result;\n  };\n\nexport enum TOSGemType {\n  SKILL = 'Skill',\n  STATS = 'Stats',\n}\nexport const TOSGemTypeService = EnumServiceFactory(TOSGemType);\n\nexport enum TOSGemSlot {\n  BOOTS = 'Boots',\n  GLOVES = 'Gloves',\n  SUBWEAPON = 'SubWeapon',\n  TOPBOTTOM = 'TopAndBottom',\n  WEAPON = 'Weapon'\n}\nexport const TOSGemSlotService = EnumServiceFactory(TOSGemSlot);\n\nexport enum TOSItemTradability {\n  MARKET = 'Market',\n  PLAYER = 'Players',\n  SHOP = 'NPC Shops',\n  TEAM = 'Team Storage'\n}\nexport const TOSItemTradabilityService = EnumServiceFactory(TOSItemTradability);\n\nexport enum TOSItemType {\n  ARMBAND = 'Arm Band',\n  ARMOR = 'Armor',\n  ARK = 'Ark',\n  BOOK = 'Books',\n  CARD = 'Card',\n  COLLECTION = 'Collection',\n  CUBE = 'Cubes',\n  DRUG = 'Consumables',\n  EQUIPMENT = 'Equipment',\n  EVENT = 'Event',\n  EXPORB = 'Experience Orb',\n  FISHINGROD = 'Fishing Rod',\n  GEM = 'Gem',\n  HELMET = 'Helmet',\n  HIDDENABILITY = 'Hidden Ability',\n  ICOR = 'Icor',\n  LEGENDMATERIAL = 'Legendary Material',\n  MAGICAMULET = 'Magic Amulet',\n  MATERIAL = 'Material',\n  MISC = 'Miscellaneous',\n  PASTEBAIT = 'Paste Bait',\n  PETARMOR = 'Companion Armor',\n  PETWEAPON = 'Companion Weapon',\n  PREMIUM = 'Premium',\n  QUEST = 'Quest',\n  RECIPE = 'Recipe',\n  SEAL = 'Seal',\n  SPECIALMATERIAL = 'Special Material',\n  SUBEXPORB = 'Sub Experience Orb',\n  SUBWEAPON = 'Sub Weapon',\n  UNUSED = 'Unused',\n  WEAPON = 'Weapon',\n}\nexport const\n  TOSItemTypeService = EnumServiceFactory(TOSItemType);\n  TOSItemTypeService.groupBy = () => [\n    {\n      options: [\n        TOSItemType.ARK,\n        TOSItemType.DRUG,\n        TOSItemType.EXPORB,\n        TOSItemType.HIDDENABILITY,\n        TOSItemType.EVENT,\n        TOSItemType.LEGENDMATERIAL,\n        TOSItemType.MATERIAL,\n        TOSItemType.MISC,\n        TOSItemType.PREMIUM,\n        TOSItemType.QUEST,\n        TOSItemType.SPECIALMATERIAL,\n        TOSItemType.SUBEXPORB,\n      ]\n    },\n  ];\n\nexport enum TOSJobDifficulty {\n  EASY = 'Easy',\n  HARD = 'Hard',\n  NORMAL = 'Normal',\n}\nexport const TOSJobDifficultyService = EnumServiceFactory(TOSJobDifficulty);\n\nexport enum TOSJobTree {\n  ARCHER = 'Archer',\n  CLERIC = 'Cleric',\n  SCOUT = 'Scout',\n  WARRIOR = 'Warrior',\n  WIZARD = 'Wizard',\n}\nexport const TOSJobTreeService = EnumServiceFactory(TOSJobTree);\n\nexport enum TOSJobType {\n  ATTACK = 'Attack',\n  ATTACK_INSTALL = 'Attack with Installations',\n  ATTACK_MANEUVERING = 'Attack with Mobility',\n  ATTACK_SUMMON = 'Attack with Summons',\n  CRAFTING = 'Crafting',\n  DEFENSE = 'Defense',\n  DEFENSE_PROVOKE = 'Defense with Provoke',\n  SUPPORT = 'Support',\n  SUPPORT_CONTROL = 'Support with Control',\n  SUPPORT_PARTY = 'Support with Party',\n}\nexport const TOSJobTypeService = EnumServiceFactory(TOSJobType);\n\nexport enum TOSMapType {\n  BARRACK = 'Barrack',\n  CITY = 'City',\n  DUNGEON = 'Dungeon',\n  FIELD = 'Field',\n  INSTANCE = 'Instance',\n  LOGIN = 'Login',\n}\nexport const TOSMapTypeService = EnumServiceFactory(TOSMapType);\n\nexport enum TOSMonsterRace {\n  BEAST = 'Beast',\n  DEMON = 'Demon',\n  INSECT = 'Insect',\n  ITEM = 'Item',\n  MUTANT = 'Mutant',\n  PLANT = 'Plant',\n  VELNAIS = 'Velnais',\n}\nexport const\n  TOSMonsterRaceService = EnumServiceFactory(TOSMonsterRace) as EnumService<TOSMonsterRace> & {\n    icon(value: TOSMonsterRace): string\n  };\n  TOSMonsterRaceService.icon = (value: TOSMonsterRace) => {\n    return 'assets/images/monster_race_' + value.toString().toLowerCase() + '.png';\n  };\n\nexport enum TOSMonsterRank {\n  BOSS = 'Boss',\n  ELITE = 'Elite',\n  MATERIAL = 'Material',\n  MISC = 'Misc',\n  NEUTRAL = 'Neutral',\n  NORMAL = 'Normal',\n  NPC = 'NPC',\n  SPECIAL = 'Special',\n}\nexport const\n  TOSMonsterRankService = EnumServiceFactory(TOSMonsterRank) as EnumService<TOSMonsterRank> & {\n    comparator(a: TOSMonsterRank, b: TOSMonsterRank): -1 | 0 | 1;\n    order(value: TOSMonsterRank): number;\n  };\n  TOSMonsterRankService.comparator = (a: TOSMonsterRank, b: TOSMonsterRank) => {\n    let i = TOSMonsterRankService.order(a);\n    let j = TOSMonsterRankService.order(b);\n\n    return (i < j) ? -1 : (i > j) ? 1 : 0;\n  };\n  TOSMonsterRankService.order = (value: TOSMonsterRank) => {\n    if (value == TOSMonsterRank.NORMAL) return 0;\n    if (value == TOSMonsterRank.ELITE)  return 1;\n    if (value == TOSMonsterRank.BOSS)   return 2;\n  };\n\nexport enum TOSMonsterSize {\n  S = 'S',\n  M = 'M',\n  L = 'L',\n  XL = 'XL',\n  XXL = 'XXL',\n  HIDDEN = 'Hidden',\n}\nexport const\n  TOSMonsterSizeService = EnumServiceFactory(TOSMonsterSize) as EnumService<TOSMonsterSize> & {\n    comparator(a: TOSMonsterSize, b: TOSMonsterSize): -1 | 0 | 1;\n    order(value: TOSMonsterSize): number;\n  };\n  TOSMonsterSizeService.comparator = (a: TOSMonsterSize, b: TOSMonsterSize) => {\n    let i = TOSMonsterSizeService.order(a);\n    let j = TOSMonsterSizeService.order(b);\n\n    return (i < j) ? -1 : (i > j) ? 1 : 0;\n  };\n  TOSMonsterSizeService.order = (value: TOSMonsterSize) => {\n    if (value == TOSMonsterSize.S)  return 0;\n    if (value == TOSMonsterSize.M)  return 1;\n    if (value == TOSMonsterSize.L)  return 2;\n    if (value == TOSMonsterSize.XL) return 3;\n  };\nexport enum TOSMonsterType {\n  MONSTER = 'Monster',\n  NEUTRAL = 'Neutral',\n  NPC = 'NPC',\n  SIGN = 'Sign',\n}\nexport const TOSMonsterTypeService = EnumServiceFactory(TOSMonsterType);\n\nexport enum TOSSkillRequiredStanceCompanion {\n  BOTH = 'Yes',\n  NO = 'No',\n  SELF = 'Self',\n  YES = 'Exclusive',\n}\nexport const TOSSkillRequiredStanceCompanionService = EnumServiceFactory(TOSSkillRequiredStanceCompanion);\n\nexport enum TOSStat {\n  CON = 'CON',\n  DEX = 'DEX',\n  INT = 'INT',\n  SPR = 'SPR',\n  STR = 'STR',\n  HP = 'Maximum HP',\n  HP_RECOVERY = 'HP Recovery',\n  SP = 'Maximum SP',\n  SP_RECOVERY = 'SP Recovery',\n  SP_RECOVERY_TIME = 'SP Recovery Time',\n  ATTACK_ELEMENT_DARK = 'Dark Property Attack',\n  ATTACK_ELEMENT_EARTH = 'Earth Property Attack',\n  ATTACK_ELEMENT_FIRE = 'Fire Property Attack',\n  ATTACK_ELEMENT_HOLY = 'Holy Property Attack',\n  ATTACK_ELEMENT_ICE = 'Ice Property Attack',\n  ATTACK_ELEMENT_LIGHTNING = 'Lightning Property Attack',\n  ATTACK_ELEMENT_POISON = 'Poison Property Attack',\n  ATTACK_ELEMENT_PSYCHOKINESIS = 'Psychokinesis Property Attack',\n  ATTACK_LIMIT_MAX = 'Maximum Attack',\n  ATTACK_LIMIT_MIN = 'Minimum Attack',\n  ATTACK_MATERIAL_CHAIN = 'Attack against Chain Armored Targets',\n  ATTACK_MATERIAL_CLOTH = 'Attack against Cloth Armored Targets',\n  ATTACK_MATERIAL_LEATHER = 'Attack against Leather-armor Targets',\n  ATTACK_MATERIAL_GHOST = 'Attack against Ghost-armor Targets',\n  ATTACK_MATERIAL_PLATE = 'Attack against Plate-armor Targets',\n  ATTACK_RACE_BEAST = 'Attack against Beast-type Targets',\n  ATTACK_RACE_DEVIL = 'Attack against Devil-type Targets',\n  ATTACK_RACE_INSECT = 'Attack against Insect-type Targets',\n  ATTACK_RACE_MUTANT = 'Attack against Mutant-type Targets',\n  ATTACK_RACE_PLANT = 'Attack against Plant-type Targets',\n  ATTACK_SIZE_SMALL = 'Attack against Small-size Targets',\n  ATTACK_SIZE_MEDIUM = 'Attack against Medium-size Targets',\n  ATTACK_SIZE_LARGE = 'Attack against Large-size Targets',\n  ATTACK_TYPE_PIERCING = 'Piercing-type Attack',\n  ATTACK_TYPE_SLASH = 'Slash-type Attack',\n  ATTACK_TYPE_STRIKE = 'Strike-type Attack',\n  ATTACK_MAGICAL = 'Magic Attack',\n  ATTACK_MAGICAL_AMPLIFICATION = 'Magic Amplification',\n  ATTACK_PHYSICAL = 'Physical Attack',\n  ATTACK_ANGLE = 'Attack Angle',\n  ATTACK_RANGE = 'Attack Range',\n  DEFENSE_ELEMENT_DARK = 'Dark Property Resistance',\n  DEFENSE_ELEMENT_EARTH = 'Earth Property Resistance',\n  DEFENSE_ELEMENT_FIRE = 'Fire Property Resistance',\n  DEFENSE_ELEMENT_HOLY = 'Holy Property Resistance',\n  DEFENSE_ELEMENT_ICE = 'Ice Property Resistance',\n  DEFENSE_ELEMENT_LIGHTNING = 'Lightning Property Resistance',\n  DEFENSE_ELEMENT_POISON = 'Poison Property Resistance',\n  DEFENSE_ELEMENT_PSYCHOKINESIS = 'Psychokinesis Property Resistance',\n  DEFENSE_TYPE_PIERCING = 'Piercing Defense',\n  DEFENSE_TYPE_SLASH = 'Slash Defense',\n  DEFENSE_TYPE_STRIKE = 'Strike Defense',\n  DEFENSE_MAGICAL = 'Magic Defense',\n  DEFENSE_PHYSICAL = 'Physical Defense',\n  ACCURACY = 'Accuracy',\n  EVASION = 'Evasion',\n  BLOCK = 'Block',\n  BLOCK_PENETRATION = 'Block Penetration',\n  BLOCK_RATE = 'Block Rate',\n  BLOCK_RATE_FINAL = 'Final Block Rate',\n  CRITICAL_ATTACK = 'Critical Attack',\n  CRITICAL_ATTACK_MAGICAL = 'Critical Magic Attack',\n  CRITICAL_DEFENSE = 'Critical Resistance',\n  CRITICAL_RATE = 'Critical Rate',\n  AOE_ATTACK_RATIO = 'AoE Attack Ratio',\n  AOE_DEFENSE_RATIO = 'AoE Defense Ratio',\n  MOVEMENT_SPEED = 'Movement Speed',\n  LOOTING_CHANCE = 'Looting Chance',\n  STAMINA = 'Stamina',\n  STAMINA_RECOVERY = 'Stamina Recovery',\n  UNKNOWN = ''\n}\nexport const\n  TOSStatService = EnumServiceFactory(TOSStat) as EnumService<TOSStat> & {\n    comparator(a: TOSStat, b: TOSStat): -1 | 0 | 1;\n    icon(stat: TOSStat): string;\n  };\n  TOSStatService.comparator = (a: TOSStat, b: TOSStat) => {\n    let i = Object.values(TOSStat).indexOf(a);\n    let j = Object.values(TOSStat).indexOf(b);\n\n    return (i < j) ? -1 : (i > j) ? 1 : 0;\n  };\n  TOSStatService.icon = (stat: TOSStat) => {\n    return TOSUrlService.Asset('assets/images/simulator_stat_' + stat.toLowerCase() + '.png');\n  };\n\n/*====================================================================================================================+\n | Interfaces\n *====================================================================================================================*/\nexport interface ITOSBuild {\n  Job$: Observable<ITOSJob>;\n  Jobs: ITOSJob[];\n  JobTree: TOSJobTree;\n  Rank: number;\n  Skill$: Observable<ITOSSkill>;\n  Stats: ITOSBuildStats;\n  StatsBase: ITOSBuildStats;\n  StatsBonus: ITOSBuildStats;\n  StatsPoints$: Observable<number>;\n  Version: number;\n\n  jobAdd$(job: ITOSJob): Promise<void>;\n  jobCircle(job: ITOSJob): number; // TODO: Remove after Re:Build releases globally\n  jobCircleMax(job: ITOSJob): number;\n  jobRanks(job: ITOSJob): number[]; // TODO: Remove after Re:Build releases globally\n  jobRemove$(rank: number): Promise<void>;\n  jobUnlockAvailable$(job: ITOSJob): Observable<boolean>;\n\n  skillEffect$(skill: ITOSSkill, showFactors: boolean): Observable<string>;\n  skillEffectFormula$(skill: ITOSSkill, prop: string): Observable<string>;\n  skillLevel(skill: ITOSSkill): number;\n  skillLevelIncrement$(skill: ITOSSkill, delta: number, force?: boolean, rollOver?: boolean): Promise<void>;\n  skillLevelIncrementAvailable$(skill: ITOSSkill, delta: number): Observable<boolean>;\n  skillLevelMax$(skill: ITOSSkill): Observable<number>;\n  skillPoints(job: ITOSJob): number;\n  skillPointsMax(job: ITOSJob) : number;\n  skillSP$(skill: ITOSSkill): Observable<number>;\n\n  statsIncrementLevel(stat: string, delta: number): void;\n  statsIncrementLevelAvailable(stat: string, delta: number): boolean;\n  statsPointsMax(): number;\n}\nexport interface ITOSBuildEncoded {\n  jobs: string[],\n  skills: { [key: number]: number },\n  stats: ITOSBuildStats,\n  version: number,\n}\nexport interface ITOSBuildStats {\n  CON: number,\n  DEX: number,\n  INT: number,\n  SPR: number,\n  STR: number,\n}\n\nexport interface ITOSEntity {\n  $ID: number;\n  $ID_NAME: string;\n  Dataset: TOSDataSet;\n  Description: string;\n  Icon: string;\n  Name: string;\n  Selected: boolean;\n  Url: string;\n}\nexport interface ITOSEntityLink<LINK extends ITOSEntity> {\n  Link: LINK;\n}\n\nexport interface ITOSItem extends ITOSEntity {\n  Price: number;\n  TimeCoolDown: number;\n  TimeLifeTime: number;\n  Tradability: string;\n  Type: string;\n  Weight: number;\n  Link_Collections: Observable<ITOSCollection[]>;\n  Link_Cubes: Observable<ITOSCube[]>;\n  Link_Maps: Observable<ITOSItemLinkMap[]>;\n  Link_Maps_Exploration: Observable<ITOSItemLinkMap[]>;\n  Link_Monsters: Observable<ITOSItemLinkMonster[]>;\n  Link_RecipeMaterial: Observable<ITOSRecipe>;\n  Link_RecipeTarget: Observable<ITOSRecipe>;\n\n  isTradable(tradable: TOSItemTradability): boolean;\n}\nexport interface ITOSItemLinkMap extends ITOSEntityLink<ITOSMap> {\n  Chance: number;\n  Quantity_MAX: number;\n  Quantity_MIN: number;\n}\nexport interface ITOSItemLinkMonster extends ITOSEntityLink<ITOSMonster> {\n  Chance: number;\n  Quantity_MAX: number;\n  Quantity_MIN: number;\n}\n\nexport interface ITOSAttribute extends ITOSEntity {\n  DescriptionRequired: string;\n  IsToggleable: boolean;\n  LevelMax: number;\n  Unlock: string[];\n  UnlockArgs: { [key: number]: ITOSAttributeUnlockArg };\n\n  Link_Jobs: Observable<ITOSJob[]>;\n  Link_Skills: Observable<ITOSSkill[]>;\n\n  Price(level: number): number;\n  PriceTotal(level: number): number;\n\n  unlockAvailable(build: ITOSBuild): Observable<boolean>;\n  unlockAvailableCheck(args: string[]): boolean;\n}\nexport interface ITOSAttributeUnlockArg {\n  UnlockArgStr: string;\n  UnlockArgNum: number;\n}\n\nexport interface ITOSBook extends ITOSItem {\n  Pages: string;\n}\n\nexport interface ITOSCard extends ITOSItem {\n  IconTooltip: string;\n  MonsterElement: TOSElement;\n  MonsterRace: TOSMonsterRace;\n  Stat_Height: number;\n  Stat_Legs: number;\n  Stat_Weight: number;\n  TypeCard: TOSCardType;\n}\n\nexport interface ITOSCollection extends ITOSItem {\n  Bonus: ITOSCollectionBonus[];\n  Link_Items: Observable<ITOSItem[]>;\n}\nexport interface ITOSCollectionBonus {\n  Stat: string;\n  Value: number;\n}\n\nexport interface ITOSCube extends ITOSItem {\n  Link_Items: Observable<ITOSItem[]>;\n}\n\nexport interface ITOSEquipment extends ITOSItem {\n  Bonus: ITOSEquipmentBonus[];\n  Durability: number;\n  Grade: TOSEquipmentGrade;\n  Level: number;\n  Material: TOSEquipmentMaterial;\n  Potential: number;\n  RequiredLevel: number;\n  Sockets: number;\n  SocketsLimit: number;\n  Stars: number;\n  Stat_ATTACK_MAGICAL: number;\n  Stat_ATTACK_PHYSICAL_MAX: number;\n  Stat_ATTACK_PHYSICAL_MIN: number;\n  Stat_DEFENSE_MAGICAL: number;\n  Stat_DEFENSE_PHYSICAL: number;\n  TypeAttack: TOSAttackType;\n  TypeEquipment: TOSEquipmentType;\n  Unidentified: boolean;\n  UnidentifiedRandom: boolean;\n\n  IsAnvilAvailable: boolean;\n  IsTranscendAvailable: boolean;\n  Link_Set: Observable<ITOSEquipmentSet>;\n\n  AnvilATK(level: number): number;\n  AnvilDEF(level: number): number;\n  AnvilPrice(level: number): number;\n  AnvilPriceTotal(level: number): number;\n\n  IsUsableBy(tree: TOSClassTree): boolean;\n\n  TranscendATKRatio(level: number): number;\n  TranscendMDEFRatio(level: number): number;\n  TranscendPDEFRatio(level: number): number;\n  TranscendPrice(level: number): number;\n  TranscendPriceTotal(level: number): number;\n}\nexport interface ITOSEquipmentBonus {\n  Stat: TOSStat;\n  Value: number;\n  ValueHTML: string;\n}\n\nexport interface ITOSEquipmentSet extends ITOSEntity {\n  Bonus: { [key:number]: ITOSEquipmentBonus[] }\n  Icon$: Observable<string>;\n  Url$: Observable<string>;\n\n  Link_Items: Observable<ITOSItem[]>;\n}\n\nexport interface ITOSGem extends ITOSItem {\n  TypeGem: TOSGemType;\n  Link_Skill: Observable<ITOSSkill>;\n\n  Bonus(level: number): { [key:string]: ITOSGemBonus[]};\n}\nexport interface ITOSGemBonus {\n  Stat: string | TOSStat;\n  Value: number;\n}\n\nexport interface ITOSJob extends ITOSEntity {\n  CircleAvailable: number[];\n  CircleMax: number;\n  IconAnimations: string[];\n  IsHidden: boolean;\n  IsSecret: boolean;\n  IsStarter: boolean;\n  JobDifficulty: TOSJobDifficulty;\n  JobTree: TOSJobTree;\n  JobType: TOSJobType[];\n  Rank: number;\n  Stat_CON: number;\n  Stat_DEX: number;\n  Stat_INT: number;\n  Stat_SPR: number;\n  Stat_STR: number;\n  StatBase_CON: number;\n  StatBase_DEX: number;\n  StatBase_INT: number;\n  StatBase_SPR: number;\n  StatBase_STR: number;\n\n  Link_Attributes: Observable<ITOSAttribute[]>;\n  Link_Skills: Observable<ITOSSkill[]>;\n  Link_Skills$ID: number[];\n}\n\nexport interface ITOSMap extends ITOSEntity {\n  HasChallengeMode: boolean;\n  HasWarp: boolean;\n  Layout: string;\n  Level: number;\n  Prop_EliteMonsterCapacity: number;\n  Prop_MaxHateCount: number;\n  Prop_RewardEXPBM: number;\n  Stars: number;\n  Type: TOSMapType;\n  Warp: number;\n  WorldMap: number[];\n\n  Link_Collections: Observable<ITOSCollection[]>;\n  Link_Items: Observable<ITOSMapLinkItem[]>;\n  Link_Items_Exploration: Observable<ITOSMapLinkItem[]>;\n  Link_Maps: Observable<ITOSMap[]>;\n  Link_Maps_Floors: Observable<ITOSMap[]>;\n  Link_NPCs: Observable<ITOSMapLinkNPC[]>;\n\n}\nexport interface ITOSMapLinkItem extends ITOSEntityLink<ITOSItem> {\n  Chance: number;\n  Quantity_MAX: number;\n  Quantity_MIN: number;\n}\nexport interface ITOSMapLinkNPC extends ITOSEntityLink<ITOSItem | ITOSNPC> {\n  Population: number;\n  Positions: number[][];\n  TimeRespawn: number;\n}\n\nexport interface ITOSMonster extends ITOSEntity {\n  Armor: TOSEquipmentMaterial;\n  Element: TOSElement;\n  Level: number;\n  Race: TOSMonsterRace;\n  Rank: TOSMonsterRank;\n  Size: TOSMonsterSize;\n  EXP: number;\n  EXPClass: number;\n  Stat_CON: number;\n  Stat_DEX: number;\n  Stat_INT: number;\n  Stat_SPR: number;\n  Stat_STR: number;\n  Stat_HP: number;\n  Stat_SP: number;\n  Stat_ATTACK_MAGICAL_MAX: number;\n  Stat_ATTACK_MAGICAL_MIN: number;\n  Stat_DEFENSE_MAGICAL: number;\n  Stat_ATTACK_PHYSICAL_MAX: number;\n  Stat_ATTACK_PHYSICAL_MIN: number;\n  Stat_DEFENSE_PHYSICAL: number;\n  Stat_Accuracy: number;\n  Stat_Evasion: number;\n  Stat_CriticalDamage: number;\n  Stat_CriticalDefense: number;\n  Stat_CriticalRate: number;\n  Stat_BlockPenetration: number;\n  Stat_BlockRate: number;\n  Type: TOSMonsterType;\n\n  Link_Items: Observable<ITOSMonsterLinkItem[]>;\n  Link_Maps: Observable<ITOSMonsterLinkMap[]>;\n}\nexport interface ITOSMonsterLinkItem extends ITOSEntityLink<ITOSEntity> {\n  Chance: number;\n  Quantity_MAX: number;\n  Quantity_MIN: number;\n  Url: string;\n}\nexport interface ITOSMonsterLinkMap extends ITOSEntityLink<ITOSMap> {\n  Population: number;\n  TimeRespawn: number;\n  Url: string;\n}\n\nexport interface ITOSNPC extends ITOSMonster {}\n\nexport interface ITOSRecipe extends ITOSItem {\n  Link_Materials: Observable<ITOSRecipeLinkItem[]>;\n  Link_Target: Observable<ITOSItem>;\n}\nexport interface ITOSRecipeLinkItem extends ITOSEntityLink<ITOSItem> {\n  Quantity: number;\n  Url: string;\n}\n\nexport interface ITOSSkill extends ITOSEntity {\n  CoolDown: string[];\n  Element: TOSElement;\n  IsEnchanter: boolean;\n  IsPardoner: boolean;\n  IsRunecaster: boolean;\n  IsShinobi: boolean;\n  OverHeat: number;\n  Prop_LevelPerGrade: number;\n  Prop_MaxLevel: number;\n  Prop_UnlockGrade: number;\n  Prop_UnlockClassLevel: number;\n  RequiredStance: ITOSSkillRequiredStance[];\n  RequiredStanceCompanion: TOSSkillRequiredStanceCompanion;\n  RequiredSubWeapon: boolean;\n  SP: string[];\n  TypeAttack: TOSAttackType;\n\n  Link_Attributes: Observable<ITOSAttribute[]>;\n  Link_Gem: Observable<ITOSGem>;\n  Link_Job: Observable<ITOSJob>;\n  Link_Job$ID: number;\n\n  BuildCoolDown(build: ITOSBuild): Observable<number>;\n  BuildSP(build: ITOSBuild): Observable<number>;\n  EffectDescription(build: ITOSBuild, showFactors: boolean): Observable<string>;\n  EffectFormula(prop: string, build: ITOSBuild): Observable<string>;\n}\nexport interface ITOSSkillRequiredStance {\n  Icon: string;\n  Name: string;\n}\n\n/*====================================================================================================================+\n | Extras\n *====================================================================================================================*/\nexport interface ITOSDomainRepository {\n  config: { [key in TOSDataSet]: ITOSDomainRepositoryConfiguration };\n\n  load(dataset: TOSDataSet, region: TOSRegion): Observable<object>;\n  find(dataset: TOSDataSet, page: CRUDPage): Observable<CRUDPageResult<any>>;\n  findByIndex(dataset: TOSDataSet, key: string, value: boolean | number | string, forceSingle?: boolean): Observable<any | any[]>;\n}\ninterface ITOSDomainRepositoryConfiguration {\n  factory: (json: any) => any;\n  schema: ITOSDomainRepositorySchema;\n}\ninterface ITOSDomainRepositorySchema {\n  primaryKey: string,\n  indexes?: string[],\n}\n","import {TOSUrlService} from \"../../service/tos-url.service\";\nimport {ITOSEntity, ITOSEntityLink, TOSDataSet, TOSDataSetService} from \"./tos-domain\";\nimport {forkJoin, isObservable, Observable, ReplaySubject} from \"rxjs\";\n\nconst COMPARATOR_ID = (a: number, b: number) => {\n  let i = +a;\n  let j = +b;\n\n  return (i < j) ? -1 : (i > j) ? 1 : 0;\n};\n\nconst STRING_INITIALIZED = '\\u200B';\n\nexport abstract class Comparable {\n  $comparators: { [key: string]: (a, b) => -1 | 0 | 1; } = {}\n}\n\nexport abstract class TOSEntity extends Comparable implements ITOSEntity {\n\n  public Selected: boolean;\n\n  private url: string;\n\n  protected constructor(readonly Dataset: TOSDataSet, protected $json: TOSEntity) {\n    super();\n\n    this.$comparators['$ID'] = COMPARATOR_ID;\n  }\n\n  get $ID(): number { return this.$lazyPropertyNumber('$ID'); }\n  get $ID_NAME(): string { return this.$lazyPropertyString('$ID_NAME'); }\n  get Description(): string { return this.$lazyPropertyStringMultiline('Description'); }\n  get Icon(): string {\n    let icon = this.$lazyPropertyString('Icon');\n\n    return icon\n      ? TOSUrlService.Asset('assets/icons/' + icon + '.png')\n      : null;\n  }\n  get Name(): string { return this.$lazyPropertyString('Name'); }\n  get Url(): string {\n    return this.url = this.url\n      ? this.url\n      : this.Dataset\n        ? TOSUrlService.Route('/database/' + TOSDataSetService.toUrl(this.Dataset) + '/' + this.$ID)\n        : null;\n  }\n\n  static trackBy(index: number, entity: TOSEntity) { return entity.$ID; }\n\n  protected $lazyPropertyBoolean(prop: string): boolean {\n    return this.$json[prop] = typeof this.$json[prop] == 'boolean'\n      ? this.$json[prop]\n      : this.$json[prop] == 'True';\n  }\n\n  protected $lazyPropertyEnum<T>(prop: string, enumeration: T): T[keyof T] {\n    return this.$json[prop] = isNaN(+this.$json[prop])\n      ? this.$json[prop]\n      : this.$json[prop] != undefined\n        ? Object.values(enumeration)[+this.$json[prop]]\n        : null;\n  }\n\n  protected $lazyPropertyJSONArray<T>(prop: string, mapper?: (value: any) => T, sorter?: (a: T, b: T) => -1 | 0 | 1): T[] {\n    let first = this.$json[prop] && this.$json[prop][0];\n\n    if (first && isNaN(first) && !Array.isArray(first) && first.constructor != Object.prototype.constructor)\n      return this.$json[prop];\n\n    this.$json[prop] = this.$json[prop] && mapper && this.$json[prop].map(mapper) || this.$json[prop];\n    this.$json[prop] = this.$json[prop] && sorter && this.$json[prop].sort(sorter) || this.$json[prop];\n    this.$json[prop] = this.$json[prop] && this.$json[prop].filter(value => !!value);\n\n    return this.$json[prop];\n  }\n\n  protected $lazyPropertyJSONObject<T>(prop: string, mapper?: (value: any) => T): { [key: number]: T } {\n    if (typeof this.$json[prop] == 'object')\n      return this.$json[prop];\n\n    this.$json[prop] = this.$json[prop] && JSON.parse(this.$json[prop]);\n    this.$json[prop] && Object\n      .keys(this.$json[prop])\n      .forEach((key) => this.$json[prop][key] = mapper && mapper(this.$json[prop][key]) || this.$json[prop][key]);\n\n    return this.$json[prop];\n  }\n\n  protected $lazyPropertyLink<T>(prop: string, mapper: (value: any) => Observable<T>): Observable<T> | Observable<T[]> {\n    if (isObservable(this.$json[prop]))\n      return this.$json[prop] as Observable<T>;\n\n    if (this.$json[prop]) {\n      let subject = new ReplaySubject<T>(1);\n      let observable = /* typeof this.$json[prop] == 'string' && JSON.parse(this.$json[prop]) || */this.$json[prop];\n          observable = this.$json[prop + '$original'] = observable;\n          observable = Array.isArray(observable) && observable.map(mapper) || mapper(observable);\n          observable = Array.isArray(observable) && forkJoin(observable) || observable;\n          observable.subscribe(value => {\n            subject.next(value);\n            subject.complete();\n          });\n\n      return this.$json[prop] = subject.asObservable();\n    }\n\n    return null;\n  }\n\n  protected $lazyPropertyLinkOriginal(propOriginal: string) : number | number[] {\n    let prop = propOriginal + '$original';\n    return this.$json[prop] = this.$json[prop] || this.$json[propOriginal];\n\n    // Note: we now store the parsed JSON in the IndexedDB\n    /*\n    if (this.$json[prop] && typeof this.$json[prop] != 'string')\n      return this.$json[prop];\n\n    this.$json[prop] = this.$json[prop] || this.$json[propOriginal];\n    this.$json[prop] = typeof this.$json[prop] == 'string' && JSON.parse(this.$json[prop]) || this.$json[prop + '$original'];\n\n    return this.$json[prop];\n    */\n  }\n\n  protected $lazyPropertyNumber(prop: string, mapper = (value) => value): number {\n    return this.$json[prop] = typeof this.$json[prop] == 'number'\n      ? this.$json[prop]\n      : this.$json[prop] != undefined\n        ? mapper(+this.$json[prop])\n        : null;\n  }\n\n  protected $lazyPropertyString(prop: string): string {\n    return this.$json[prop] = typeof this.$json[prop] == 'string'\n      ? this.$json[prop]\n      : this.$json[prop] + '';\n  }\n  protected $lazyPropertyStringMultiline(prop: string, mapper = (value) => value): string {\n    return this.$json[prop] = this.$json[prop] && this.$json[prop][0] == STRING_INITIALIZED\n      ? this.$json[prop]\n      : this.$json[prop]\n        ? STRING_INITIALIZED + mapper(this.$json[prop])\n        .replace(/{nl}/g, '\\n')\n        .replace(/{b}?(.*){b}/g, '<b>$1</b>')\n        .trim()\n        : null;\n  }\n\n}\n\nexport abstract class TOSEntityLink<LINK extends ITOSEntity> extends TOSEntity implements ITOSEntityLink<LINK> {\n\n  protected constructor() {\n    super(null, null);\n  }\n\n  abstract get Link(): LINK;\n\n  get $ID() {         return this.Link && this.Link.$ID }\n  get $ID_NAME() {    return this.Link && this.Link.$ID_NAME }\n  get Description() { return this.Link && this.Link.Description }\n  get Icon() {        return this.Link && this.Link.Icon }\n  get Name() {        return this.Link && this.Link.Name }\n  get Url() {         return this.Link && this.Link.Url }\n\n  get Selected() {    return this.Link && this.Link.Selected }\n  set Selected(value: boolean) { if (this.Link) this.Link.Selected = value }\n\n}\n","import {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from \"@angular/router\";\nimport {Observable} from \"rxjs\";\nimport {TOSEntity} from \"../domain/tos/tos-entity.model\";\nimport {TOSDataSet, TOSDataSetService} from \"../domain/tos/tos-domain\";\nimport {TOSDomainService} from \"../domain/tos/tos-domain.service\";\n\nexport abstract class CRUDResolver<T extends TOSEntity> implements Resolve<T> {\n\n  public static readonly PAGE_SIZE: number = 15;\n\n  public static readonly PARAM_ID: string = 'id';\n  public static readonly PARAM_FILTER: string = 'filter';\n  public static readonly PARAM_PAGE: string = 'page';\n  public static readonly PARAM_SORT: string = 'sort';\n\n  protected constructor(private dataset: TOSDataSet) {}\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<any> | Promise<any> | T {\n    let dataset = TOSDataSetService.toProperty(this.dataset);\n\n    if (route.params[CRUDResolver.PARAM_ID])\n      return TOSDomainService[dataset + 'ById'](+route.params[CRUDResolver.PARAM_ID]);\n\n    let page: CRUDPage = {\n      filter: route.queryParams[CRUDResolver.PARAM_FILTER],\n      pageNumber: +route.queryParams[CRUDResolver.PARAM_PAGE] || 1,\n      pageSize: CRUDResolver.PAGE_SIZE,\n      sort: route.queryParams[CRUDResolver.PARAM_SORT],\n    };\n\n    return TOSDomainService[dataset](page);\n  }\n\n}\n\nexport interface CRUDPageResult<T> {\n  size: number,\n  result: T[],\n}\nexport interface CRUDPage {\n  filter: string;\n  pageNumber: number;\n  pageSize: number;\n  sort: string;\n}\n","import {Injectable} from '@angular/core';\nimport {NavigationEnd, Router} from \"@angular/router\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AnalyticsService {\n\n  private page: string;\n\n  constructor(private router: Router) {\n    this.router.events.subscribe(event => {\n      if (event instanceof NavigationEnd) {\n        // Track page views with Google Analytics\n        let pageOld = this.page;\n        let pageNew = this.page = event.urlAfterRedirects.split('?')[0];\n\n        if (pageOld != pageNew)\n          window['dataLayer'].push({event: 'pageview', page: {path: pageNew }});\n      }\n    });\n  }\n}\n","import {Injectable} from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ClipboardService {\n\n  constructor() { }\n\n  // Thanks to https://stackoverflow.com/a/49121680\n  write(text: string): void {\n    let selBox = document.createElement('textarea');\n    selBox.style.position = 'fixed';\n    selBox.style.left = '0';\n    selBox.style.top = '0';\n    selBox.style.opacity = '0';\n    selBox.value = text;\n    document.body.appendChild(selBox);\n    selBox.focus();\n    selBox.select();\n    document.execCommand('copy');\n    document.body.removeChild(selBox);\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from \"@angular/common/http\";\nimport {Observable} from \"rxjs\";\nimport {map} from \"rxjs/operators\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TinyUrlService {\n\n  constructor(private http: HttpClient) { }\n\n  create(url: string): Observable<string> {\n    return this.http\n      .post('/api/tinyurl/create', { url }, { responseType: 'text' })\n      .pipe(map(value => (value + '').split('http://tinyurl.com/')[1]));\n  }\n\n  parse(id: string): Observable<any> {\n    return this.http\n      .get('/api/tinyurl/get', { params: { id }, responseType: 'text' });\n  }\n\n}\n","import {Injectable} from \"@angular/core\";\nimport {TOSSimulatorBuild} from \"../../domain/tos/tos-build\";\nimport {ITOSJob} from \"../../domain/tos/tos-domain\";\nimport {TOSDomainService} from \"../../domain/tos/tos-domain.service\";\nimport {Observable} from \"rxjs\";\nimport {fromPromise} from \"rxjs/internal-compatibility\";\nimport {TOSRegionService} from \"../../domain/tos-region\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TosNeetService {\n\n  constructor() {}\n\n  decode(encoded: string): Observable<TOSSimulatorBuild> {\n    return fromPromise((async () => {\n      let build: TOSSimulatorBuild = TOSSimulatorBuild.new(TOSRegionService.get());\n\n      let partsEncoded = encoded.split('.');\n      let jobsDecoded: ITOSJob[] = [];\n      let ranksEncoded = partsEncoded[0];\n\n      // Decode ranks\n      for (let i = 1; i < ranksEncoded.length; i ++) {\n        let jobTree = ranksEncoded[0];\n        let jobClassName = 'Char' + jobTree + \"_\" + parseInt(ranksEncoded[i], 36);\n\n        let job = await TOSDomainService.jobsByIdName(jobClassName).toPromise();\n        if (job) { // HotFix: for example tos-th has the wrong ClassID for some classes\n          if (!jobsDecoded.find(value => value.$ID == job.$ID))\n            jobsDecoded.push(job);\n\n          await build.jobAdd$(job);\n        }\n      }\n\n      // Decode skills\n      for (let i = 1; i < partsEncoded.length; i ++) {\n        let skillsEncoded = partsEncoded[i];\n\n        for (let j = 0; j < skillsEncoded.length; j += 2) {\n          let job = jobsDecoded[i - 1];\n\n          let skills = await TOSDomainService.skillsByJob(job).toPromise();\n          let skillClassID = skills[0].$ID;\n              skillClassID = parseInt(skillsEncoded[j], 36) + (skillClassID - skillClassID % 100);\n          let skillLevel = parseInt(skillsEncoded[j + 1], 36);\n\n          let skill = await TOSDomainService.skillsById(skillClassID).toPromise();\n          let skillsIDs = skills.map(value => value.$ID);\n\n          if (skill && skillsIDs.indexOf(skill.$ID) > -1)\n            await build.skillLevelIncrement$(skill, skillLevel);\n        }\n      }\n\n      return build;\n    })());\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {ITOSBuild, TOSStat} from \"../domain/tos/tos-domain\";\nimport {TOSDomainService} from \"../domain/tos/tos-domain.service\";\nimport {LEVEL_LIMIT} from \"../domain/tos/tos-build\";\nimport {Observable} from \"rxjs\";\nimport {fromPromise} from \"rxjs/internal-compatibility\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LUAService {\n\n  // Some global functions used by IMC\n  private static readonly LUA_CONTEXT: string[] = [\n    '// LUA CONTEXT BEGIN ---------------------------',\n    'var PARTY_NORMAL = 0;',\n    'var GetAbility = (a, b) => null;',\n    'var GetClassList = (a) => null;',\n    'var GetClassByNameFromList = (a) => null;',\n    'var GetExProp = (a, b) => null;',\n    'var GetJobHistoryString = (a) => null;',\n    'var GetJobHistoryList = (pc) => pc.JobHistoryList;',\n    'var GetMyJobHistoryString = (a) => null;',\n    'var GetSumOfEquipItem = (a, b) => 0;',\n    'var GetZoneName = (a) => null;',\n    'var TryGetProp = (a, b, c) => a && a[b] || c;',\n    'var IsBuffApplied = (a, b) => null;',\n    'var IsRaidField = (a) => 0;',\n    'var IsPVPField = (a) => 0;',\n    'var IsPVPServer = (a) => 0;',\n    'var IsServerSection = (a) => 0;',\n    'var IsServerObj = (a) => 0;',\n    'var SCR_COMMON_COOLDOWN_DECREASE = (pc, basicCooldown) => basicCooldown;',\n    'var string = { find: (a, b) => a.indexOf(b) != -1 ? a.indexOf(b) : null };',\n    'var StringSplit = (a, b) => a.split(b);',\n    'var tonumber = (a) => +a;',\n    'var i = 0;',\n    'var owner = pc;',\n    'var session = { party: {' +\n    '   GetMyPartyObj: (a) => null,' +\n    '   GetPartyMemberList: (a) => null,' +\n    '} };',\n    'var skillOwner = pc;',\n    'var value = 0;',\n    'var zone = null;',\n    '// LUA CONTEXT END ---------------------------',\n  ];\n\n  // Some player stats used by the formulas\n  private static readonly STATS_RUNTIME = {\n    'CON': TOSStat.CON,\n    'DEX': TOSStat.DEX,\n    'INT': TOSStat.INT,\n    'MNA': TOSStat.SPR,\n    'STR': TOSStat.STR,\n    'Lv': 'Level',\n    'HR': TOSStat.ACCURACY,\n    'MHP': TOSStat.HP,\n    'MSP': TOSStat.SP,\n    'SR': TOSStat.AOE_ATTACK_RATIO,\n    'MSPD': TOSStat.MOVEMENT_SPEED,\n    'MDEF': TOSStat.DEFENSE_MAGICAL,\n    'DEF': TOSStat.DEFENSE_PHYSICAL,\n    'PATK': TOSStat.ATTACK_PHYSICAL,\n    'MATK': TOSStat.ATTACK_MAGICAL,\n    'MAXATK': TOSStat.ATTACK_LIMIT_MAX,\n    'MAXMATK': 'Maximum Magic Attack',\n    'MAXPATK': 'Minimum Physical Attack',\n    'MAXPATK_SUB': 'Maximum Physical Attack (Sub-Weapon)',\n    'MINATK': TOSStat.ATTACK_LIMIT_MIN,\n    'MINMATK': 'Minimum Magic Attack',\n    'MINPATK': 'Minimum Physical Attack',\n    'MINPATK_SUB': 'Minimum Physical Attack (Sub-Weapon)',\n  };\n\n  constructor() { }\n\n  static eval(build: ITOSBuild, source: string[], context?: object): Observable<string | number> {\n    return fromPromise((async () => {\n      let func = (await this.parse(build, source, context).toPromise()).func;\n      return eval(func.join('\\n'));\n    })())\n  }\n\n  static human(build: ITOSBuild, source: string[], context?: object): Observable<string> {\n    return fromPromise((async () => {\n      let func = (await this.parse(build, source, context, true).toPromise()).func;\n          func = await Promise.all(func.map(async (line) => {\n            // Note: we need to reset these on every new line so it doesn't skip matches\n            let lineOriginal = line;\n            let regexGetProp = /TryGetProp\\((\\w+), \"(\\w+)\"\\)/g;\n            let regexAbility = /GetAbility\\(pc, [\"'](.+)[\"']\\)/g;\n            let match: RegExpExecArray;\n\n            line = line.replace(/\\/\\*{b}\\*\\/(.+?)\\/\\*{b}\\*\\//g, '<b>$1</b>');  // Apply bolds\n            line = line.replace(/(?:pc\\.(\\w+))+/g, 'player.$1');              // Rename pc to player\n            line = line.replace(/!=/g, 'not');\n            line = line.replace(/&&/g, 'and');\n            line = line.replace(/null/g, 'Null');\n\n            // TryGetProp(a, b) - return the 'b' property of the 'a' object\n            while (match = regexGetProp.exec(lineOriginal)) {\n              line = line.replace(match[0], match[1] + '.' + match[2]);\n            }\n\n            // GetAbility(pc, ability) - replace with attribute name\n            while (match = regexAbility.exec(lineOriginal)) {\n              let attribute = await TOSDomainService.attributesByIdName(match[1]).toPromise();\n              if (attribute)\n                line = line.replace(match[0], '<b>[' + attribute.Name + ']</b>');\n              else\n                line = line.replace(match[0], 'Null');\n            }\n\n            return line;\n          }));\n\n      return func\n        .slice(1, -1)\n        .join('\\n');\n    })());\n  }\n\n  static parse(build: ITOSBuild, source: string[], context?: object, human?: boolean): Observable<{ dependencies: string[], func: string[] }> {\n    return fromPromise((async () => {\n      let dependencies: string[] = [];\n      let skill = context && context['skill'] || {};\n      let player = context && context['player'] || {};\n          player.ClassName = 'PC';\n          player.JobHistoryList = build.Jobs && build.Jobs.map(value => value.$ID);\n          player.Lv = LEVEL_LIMIT; // TODO: get level from build\n\n      context && delete context['skill'];\n      context && delete context['player'];\n\n      // Process source code\n      source = await Promise.all(source.map(async line => {\n        // Note: we need to reset these on every new line so it doesn't skip matches\n        let lineOriginal = line;\n        let regexGetJobGrade = /GetJobGradeByName\\(pc, (.+)\\)/g;\n        let regexGetJobLevelByName = /GetJobLevelByName\\(pc, curJobClsName\\)/g;\n        let regexGetSkill = /GetSkill\\(pc, (.+)\\)/g;\n        let regexPlayer = /(?:pc\\.(\\w+))+/g;\n        let regexSkill = /(?:skill\\.(\\w+))+/g;\n        let match: RegExpExecArray;\n\n        // GetJobLevelByName(pc, curJobClsName);\n\n        line = line.replace('GetTotalJobCount(pc)', build.Rank + '');\n\n        // GetJobGrade(pc, job) - return the circle of the requested job\n        while (match = regexGetJobGrade.exec(lineOriginal)) {\n          let jobName = (['\"', \"'\"].indexOf(match[1][0]) > -1 ? match[1] : context[match[1]]).slice(1, -1);\n          let job = await TOSDomainService.jobsByIdName(jobName).toPromise();\n\n          line = line.replace(match[0], build.jobCircle(job) + '');\n        }\n\n        // GetJobGradeByName(pc, curJobClsName) - return the circle for the current job\n        while (match = regexGetJobLevelByName.exec(lineOriginal)) {\n          let jobName = player['JobName'].slice(1, -1);\n          let job = await TOSDomainService.jobsByIdName(jobName).toPromise();\n\n          line = line.replace(match[0], build.jobCircle(job) + '');\n        }\n\n        // GetSkill(pc, skill) - return a reference of the requested skill (with level)\n        while (match = regexGetSkill.exec(lineOriginal)) {\n          let skillName = (['\"', \"'\"].indexOf(match[1][0]) > -1 ? match[1] : context[match[1]]).slice(1, -1);\n          let skill = await TOSDomainService.skillsByIdName(skillName).toPromise();\n\n          line = line.replace(match[0], JSON.stringify({ LevelByDB: build.skillLevel(skill) }));\n        }\n\n        // Player properties - replace available properties in-place, make remaining ones bold\n        while (match = regexPlayer.exec(lineOriginal)) {\n          let prop: string = match[1];\n\n          // Hotfix: Ignore in case we're the left operand (e.g. skill.SklSr = 17)\n          if (lineOriginal.indexOf('=') > lineOriginal.indexOf(prop))\n            continue;\n\n          if (player[prop] != undefined && prop != 'Lv') {\n            line = line.replace(match[0], player[prop]);\n          } else {\n            // Note: we need to slice in case there are multiple occurrences on the string (as we replace with the same matched value)\n            line =\n              line.slice(0, match.index) +\n              line.slice(match.index).replace(match[0], '/*{b}*/' + match[0] + '/*{b}*/')\n          }\n\n          player[prop] = player[prop] || 1;\n\n          // Note: some stats are runtime only (e.g. MINPATK)\n          dependencies.push(LUAService.STATS_RUNTIME[prop] + '');\n        }\n\n        // Skill properties - replace available properties in-place, make remaining ones bold\n        while (match = regexSkill.exec(lineOriginal)) {\n          let prop: string = match[1];\n\n          // Hotfix: Ignore in case we're the left operand (e.g. skill.SklSr = 17)\n          if (lineOriginal.indexOf('=') > lineOriginal.indexOf(prop))\n            continue;\n\n          if (skill[prop] != undefined && prop != 'Level')\n            line = line.replace(match[0], skill[prop]);\n          else\n            // Note: we need to slice in case there are multiple occurrences on the string (as we replace with the same matched value)\n            line =\n              line.slice(0, match.index) +\n              line.slice(match.index).replace(match[0], '/*{b}*/' + match[0] + '/*{b}*/')\n        }\n\n        return line;\n      }));\n\n      let func: string[] = [];\n          func.push('(function () {');\n\n      // Initialize context\n      if (!human) {\n        func.push('var pc = ' + JSON.stringify(player) + ';');\n        func.push('var skill = ' + JSON.stringify(skill) + ';');\n        func = func.concat(LUAService.LUA_CONTEXT);\n\n        Object\n          .keys(context)\n          .forEach(key => {\n            let value = typeof context[key] == 'object' ? JSON.parse(context[key]) : context[key];\n            func.push('var ' + key + ' = ' + value + ';')\n          });\n      }\n\n      // Execute\n      func = func.concat(source);\n      func.push('}())');\n\n      //console.log('eval', func.join('\\n'));\n      return { dependencies, func };\n    })())\n  }\n\n}\n","import {\n  ActivatedRouteSnapshot,\n  CanActivate,\n  CanDeactivate,\n  Route,\n  RouterStateSnapshot,\n  UrlMatchResult,\n  UrlSegment,\n  UrlSegmentGroup\n} from \"@angular/router\";\nimport {Injectable} from \"@angular/core\";\nimport {Observable} from \"rxjs\";\nimport {TOSRegionService} from \"../domain/tos-region\";\nimport {switchMap} from \"rxjs/operators\";\nimport {TOSDomainService} from \"../domain/tos/tos-domain.service\";\nimport {LoadingService} from \"../../shell/loading/loading.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RouteService implements CanActivate, CanDeactivate<any> {\n\n  static UrlMatcher(segments: UrlSegment[], group: UrlSegmentGroup, route: Route): UrlMatchResult {\n    let region = segments.length\n      ? TOSRegionService.valueOf(segments[0].path)\n      : null;\n\n    //console.log('UrlMatcher region', region, TOSRegionService.region)\n    return region == null && segments\n      ? { consumed: [segments[0]], posParams: { redirect: segments[0] }}\n      : null;\n  }\n\n  constructor(\n    private domain: TOSDomainService,\n    private loading: LoadingService,\n  ) {}\n\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n    return this.loading.installComplete$.pipe(switchMap(() => this.loading.updateComplete$));\n  }\n\n  canDeactivate(component: any, currentRoute: ActivatedRouteSnapshot, currentState: RouterStateSnapshot, nextState?: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n    return this.loading.updateComplete$;\n  }\n\n}\n","import {ApplicationRef, Injectable} from '@angular/core';\nimport {NavigationEnd, Router} from \"@angular/router\";\nimport {TOSDataSet, TOSDataSetService} from \"../domain/tos/tos-domain\";\nimport {TOSDomainService} from \"../domain/tos/tos-domain.service\";\nimport {TOSEntity} from \"../domain/tos/tos-entity.model\";\nimport {Meta, Title} from \"@angular/platform-browser\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SEOService {\n\n  constructor(private application: ApplicationRef, private meta: Meta, private router: Router, private title: Title) {\n    this.router.events.subscribe(async event => {\n      if (event instanceof NavigationEnd) {\n        let url = event.urlAfterRedirects;\n            url = url.indexOf('?') > 0 ? url.slice(0, url.indexOf('?')) : url;\n        let urlTitle = 'Tree of Savior - Open-source Database and Skill Simulator';\n        let urlDescription = `\n          A fan-made and open-source Database & Simulator for Tree of Savior.\n          Includes iTOS, jTOS, kTOS and kTEST regions.\n        `;\n\n        if (url.indexOf('/simulator') > 0) {\n          urlTitle = 'Skill Simulator - Tree of Savior';\n          urlDescription = `Plan your builds and share with other players.`;\n        }\n        if (url.indexOf('/database') > 0) {\n          let parts = url.slice(url.indexOf('/database')).split('/').slice(2);\n          let dataset = Object.values(TOSDataSet).find(value => TOSDataSetService.toUrl(value) == parts[0]);\n          let id = parts.length > 1 ? +parts[1] : null;\n\n          if (id) {\n            let entity = await TOSDomainService[TOSDataSetService.toProperty(dataset) + 'ById'](id).toPromise() as TOSEntity;\n\n            urlTitle = entity.Name + ' - ' + TOSDataSetService.toLabel(dataset) + ' - Tree of Savior';\n            urlDescription = entity.Description;\n          } else {\n            urlTitle = TOSDataSetService.toLabel(dataset) + ' - Tree of Savior';\n            urlDescription = 'List of ' + TOSDataSetService.toLabel(dataset) + ', with advanced filtering and sorting';\n          }\n\n        }\n\n        this.meta.updateTag({ name: 'description', content: urlDescription });\n        this.title.setTitle(urlTitle);\n      }\n    });\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {TOSUrlService} from \"./tos-url.service\";\nimport {environment} from \"../../../environments/environment\";\nimport {Observable, Subject} from \"rxjs\";\nimport {map} from \"rxjs/operators\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SWService {\n\n  private WORKER_NONCE: number = 0;\n  private readonly workerHandler: { [key: number]: Subject<object> } = {};\n\n  private workerRegistration: ServiceWorkerRegistration;\n\n  constructor() {\n    this.enabled && navigator.serviceWorker\n      .register(TOSUrlService.WORKER_SW())\n      .then(value => this.workerRegistration = value);\n  }\n\n  get enabled(): boolean { return environment.production && 'serviceWorker' in navigator }\n\n  installComplete(): boolean {\n    return this.workerRegistration && !!this.workerRegistration.active;\n  }\n\n  updateCheck$(): Observable<boolean> {\n    return this\n      .postMessage(WorkerCommand.UPDATE_CHECK)\n      .pipe(map(value => !!value));\n  }\n  updateInstall() {\n    this.postMessage(WorkerCommand.UPDATE_INSTALL);\n  }\n\n  private postMessage(cmd: WorkerCommand, payload?: object) {\n    let nonce = this.WORKER_NONCE ++;\n    let message: WorkerMessage = { cmd, nonce, payload };\n\n    let subject = this.workerHandler[nonce] = new Subject();\n    let worker = navigator.serviceWorker;\n        worker.onmessage = (event) => this.onMessage(event);\n        worker.controller && worker.controller.postMessage(message);\n\n    return subject.asObservable();\n  }\n\n  private onMessage(event: MessageEvent) {\n    let message = event.data as WorkerMessage;\n\n    let handler = this.workerHandler[message.nonce];\n        handler.next(message.payload);\n        handler.complete();\n\n    if (message.cmd == WorkerCommand.UPDATE_INSTALL)\n      location.reload();\n  }\n\n}\n\nenum WorkerCommand {\n  UPDATE_CHECK = 'UPDATE_CHECK',\n  UPDATE_INSTALL = 'UPDATE_INSTALL',\n}\ninterface WorkerMessage {\n  cmd: WorkerCommand;\n  nonce: number;\n  payload?: object;\n}\n","import {EventEmitter, Injectable} from '@angular/core';\n\nconst KEY_THEME = 'theme';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ThemeService {\n\n  private style: Element;\n  private theme: Theme;\n  private themeChange: EventEmitter<Theme> = new EventEmitter();\n\n  constructor() {\n    this.style = document.getElementById('bootstrap-theme');\n    this.set((+localStorage.getItem(KEY_THEME) as Theme) || Theme.LIGHT);\n  }\n\n  is(theme: Theme) { return this.theme == theme }\n  subscribe(handler: (theme: Theme) => void) { handler(this.theme); return this.themeChange.subscribe(handler); }\n  toggle() { this.set(this.theme == Theme.LIGHT ? Theme.DARK : Theme.LIGHT) }\n\n  private set(theme: Theme) {\n    let href: string = this.style.getAttribute('href');\n\n    if (theme == Theme.LIGHT) href = 'assets/themes/flatly.min.css';\n    if (theme == Theme.DARK)  href = 'assets/themes/darkly.min.css';\n\n    this.theme = theme;\n    this.themeChange.emit(this.theme);\n    this.style.setAttribute('href', href);\n\n    localStorage.setItem(KEY_THEME, theme + '');\n  }\n\n}\n\nexport enum Theme {\n  UNKNOWN, // Workaround due to 0 being considered false\n  DARK,\n  LIGHT\n}\n","import {Injectable} from '@angular/core';\nimport {BehaviorSubject, forkJoin, Observable, of, Subject, Subscription} from \"rxjs\";\nimport {TOSEntity} from \"../domain/tos/tos-entity.model\";\nimport {TOSDomainService} from \"../domain/tos/tos-domain.service\";\nimport {TOSRegionService} from \"../domain/tos-region\";\nimport {TOSDataSet, TOSDataSetService} from \"../domain/tos/tos-domain\";\nimport {map, switchMap} from \"rxjs/operators\";\nimport {TOSUrlService} from \"./tos-url.service\";\nimport {LoadingService} from \"../../shell/loading/loading.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TOSSearchService {\n\n  private MESSAGE_ID: number = 0;\n\n  private static instance: TOSSearchService;\n  static get Instance(): TOSSearchService { return TOSSearchService.instance; }\n\n  private isLoaded: BehaviorSubject<boolean> = new BehaviorSubject(false);\n\n  private worker: Worker; // Note: we initialize it later so the Service Worker can intercept the call\n  private readonly workerHandlers: { [key: number]: Subject<any> } = {};\n\n  private subscriptionLoad: Subscription;\n\n  constructor(private loading: LoadingService) {\n    TOSSearchService.instance = this;\n\n    this.onWorkerMessage = this.onWorkerMessage.bind(this);\n\n    this.loading.installComplete$.subscribe((value) => this.onInstallComplete(value));\n  }\n\n  get isLoaded$(): Observable<boolean> { return this.isLoaded.asObservable(); }\n\n  public search(dataset: TOSDataSet, query: string, page: number): Observable<TOSSearchResult> {\n    return this\n      .postMessage(WorkerCommand.QUERY, { dataset, page, query }).pipe(\n        switchMap((result: object[]) => result && result.length && forkJoin(\n          result.map(value => {\n            let file = value['ref'].split('#')[0];\n            let id = +value['ref'].split('#')[1];\n            let dataset = Object.values(TOSDataSet).find(value2 => file == value2);\n\n            return TOSDomainService[TOSDataSetService.toProperty(dataset) + 'ById'](id) as Observable<TOSEntity>;\n          })\n        ) || of([])), // Read more: https://github.com/ReactiveX/rxjs/issues/2816\n        map(value => ({ page, response: value }))\n      );\n  }\n\n  private onInstallComplete(value: boolean) {\n    this.isLoaded.next(false);\n\n    this.subscriptionLoad && this.subscriptionLoad.unsubscribe();\n    this.subscriptionLoad = this\n      .postMessage(WorkerCommand.LOAD, { region: TOSRegionService.get() })\n      .subscribe(value => this.isLoaded.next(true));\n  }\n\n  private onWorkerMessage(event: MessageEvent) {\n    let message = event.data as WorkerMessage;\n    let subject = this.workerHandlers[message.id];\n    //console.log('onWorkerMessage', this.dataset, message);\n\n    subject.next(message.payload);\n    subject.complete();\n\n    this.workerHandlers[message.id] = null;\n  }\n\n  private postMessage(cmd: WorkerCommand, payload?: object): Observable<any> {\n    //console.trace('postMessage', this.dataset, cmd);\n    let message = {\n      cmd,\n      id: this.MESSAGE_ID++,\n      payload\n    };\n\n    let subject = this.workerHandlers[message.id] = new Subject();\n    let worker = this.worker = this.worker || new Worker(TOSUrlService.WORKER_LUNR());\n        worker.onmessage = this.onWorkerMessage;\n        worker.postMessage(message);\n\n    return subject.asObservable();\n  }\n\n}\n\nexport interface TOSSearchResult {\n  page: number;\n  response: TOSEntity[];\n}\n\nenum WorkerCommand {\n  LOAD = 'load',\n  QUERY = 'query',\n}\ninterface WorkerMessage {\n  cmd: WorkerCommand,\n  id: number,\n  payload?: any\n}\n","import {TOSRegionService} from \"../domain/tos-region\";\n\nexport abstract class TOSUrlService {\n\n  static readonly WORKER_DEXIE = () => TOSUrlService.Asset('assets/js/dexie.worker.js');\n  static readonly WORKER_LUNR = () => TOSUrlService.Asset('assets/js/lunr.worker.js');\n  static readonly WORKER_PAPAPARSE = () => TOSUrlService.Asset('assets/js/papaparse.worker.js');\n  static readonly WORKER_SW = () => TOSUrlService.Asset('tos-sw.worker.js');\n\n  static Asset(url: string): string {\n    if (url.indexOf('data/') > -1)\n      url = url.replace('data/', 'data/' + TOSRegionService.getUrl() + '/');\n\n    return this.join(this.origin, url);\n  }\n\n  static Route(url: string): string {\n    return this.join('', this.join(TOSRegionService.getUrl(), url));\n  }\n\n  private static join(url1: string, url2: string) {\n    return url1 + ((url1.endsWith('/') || url2.startsWith('/')) ? '' : '/') + url2;\n  }\n\n  private static get origin(): string {\n    let origin = location.origin + '/';\n        origin = origin + (origin.indexOf('github.io') > 0 ? 'tos-database/' : '');\n\n    return origin;\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {TOSRegion, TOSRegionService, VERSIONS} from \"../domain/tos-region\";\n\nconst KEY_VERSION = 'version';\nconst VERSION_HOTFIX = 2;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UpdateService {\n\n  private readonly region: TOSRegion = TOSRegionService.get();\n\n  constructor() {}\n\n  updateAvailable(): boolean { return this.versionNew != this.versionOld }\n  updateVersion(clear?: boolean) {\n    let version = JSON.parse(localStorage.getItem(KEY_VERSION) || '{}');\n        version[this.region] = clear ? '' : this.versionNew;\n\n    localStorage.setItem(KEY_VERSION, JSON.stringify(version));\n  }\n\n  get versionNew() { return VERSIONS[this.region].version + (VERSION_HOTFIX ? '_hotfix_' + VERSION_HOTFIX : '') }\n  get versionHuman() { return this.region && (this.region.toString() + ' • ' + this.versionNew) }\n\n  private get versionOld(): string { return JSON.parse(localStorage.getItem(KEY_VERSION) || '{}')[this.region]; }\n\n}\n","import {ModuleWithProviders, NgModule} from '@angular/core';\nimport {CommonModule, DecimalPipe, PercentPipe} from '@angular/common';\nimport {SortDirective, SortGroupDirective} from './directives/sort.directive';\nimport {FilterDirective, FilterGroupDirective} from \"./directives/filter.directive\";\nimport {TimePipe} from './directives/time.pipe';\nimport {TOSItemResolver} from \"./domain/tos/item/tos-item.resolver\";\nimport {TOSEquipmentResolver} from \"./domain/tos/item/equipment/tos-equipment.resolver\";\nimport {TOSBookResolver} from \"./domain/tos/item/book/tos-book.resolver\";\nimport {TOSCollectionResolver} from \"./domain/tos/item/collection/tos-collection.resolver\";\nimport {TOSMonsterResolver} from \"./domain/tos/monster/tos-monster.resolver\";\nimport {TOSRecipeResolver} from \"./domain/tos/item/recipe/tos-recipe.resolver\";\nimport {TOSCubeResolver} from \"./domain/tos/item/cube/tos-cube.resolver\";\nimport {TOSEquipmentSetResolver} from \"./domain/tos/item/equipment/tos-equipment-set.resolver\";\nimport {TOSCardResolver} from \"./domain/tos/item/card/tos-card.resolver\";\nimport {TOSGemResolver} from \"./domain/tos/item/gem/tos-gem.resolver\";\nimport {InputNumberComponent} from './components/input-number/input-number.component';\nimport {ClickOutsideModule} from \"ng-click-outside\";\nimport {FormsModule} from \"@angular/forms\";\nimport {TOSAttributeResolver} from \"./domain/tos/attribute/tos-attribute.resolver\";\nimport {TOSJobResolver} from \"./domain/tos/job/tos-job.resolver\";\nimport {TOSSkillResolver} from \"./domain/tos/skill/tos-skill.resolver\";\nimport {EntityDetailAttackDefenseComponent} from \"./components/entity-detail/entity-detail-AttackDefense/entity-detail-AttackDefense.component\";\nimport {EntityDetailBookComponent} from \"./components/entity-detail/entity-detail-Book/entity-detail-Book.component\";\nimport {EntityDetailCardComponent} from \"./components/entity-detail/entity-detail-Card/entity-detail-Card.component\";\nimport {EntityDetailClassIconGradeComponent} from \"./components/entity-detail/entity-detail-ClassIconGrade/entity-detail-ClassIconGrade.component\";\nimport {EntityDetailDescriptionComponent} from \"./components/entity-detail/entity-detail-Description/entity-detail-Description.component\";\nimport {EntityDetailDurabilityPotentialSocketsComponent} from \"./components/entity-detail/entity-detail-DurabilityPotentialSockets/entity-detail-DurabilityPotentialSockets.component\";\nimport {EntityDetailEnhancementComponent} from \"./components/entity-detail/entity-detail-Enhancement/entity-detail-Enhancement.component\";\nimport {EntityDetailGemComponent} from \"./components/entity-detail/entity-detail-Gem/entity-detail-Gem.component\";\nimport {EntityDetailInformationComponent} from \"./components/entity-detail/entity-detail-Information/entity-detail-Information.component\";\nimport {EntityDetailBonusStatsUnidentifiedComponent} from \"./components/entity-detail/entity-detail-BonusStatsUnidentified/entity-detail-BonusStatsUnidentified.component\";\nimport {EntityDetailHeaderComponent} from \"./components/entity-detail/entity-detail-Header/entity-detail-header.component\";\nimport {EntityDetailStatsComponent} from \"./components/entity-detail/entity-detail-Stats/entity-detail-Stats.component\";\nimport {EntityDetailTableComponent} from \"./components/entity-detail/entity-detail-Table/entity-detail-Table.component\";\nimport {EntityTooltipComponent} from \"./components/entity-tooltip/entity-tooltip.component\";\nimport {EntityDetailChildComponent} from \"./components/entity-detail/entity-detail-child.component\";\nimport {NgbModule} from \"@ng-bootstrap/ng-bootstrap\";\nimport {FontAwesomeModule} from \"@fortawesome/angular-fontawesome\";\nimport {RouterModule} from \"@angular/router\";\nimport {SanitizeCSSPipe} from \"./directives/sanitize-css.pipe\";\nimport {SanitizeHTMLPipe} from \"./directives/sanitize-html.pipe\";\nimport {EntityDetailSkillComponent} from \"./components/entity-detail/entity-detail-Skill/entity-detail-Skill.component\";\nimport {EntityDetailSkillFormulaComponent} from \"./components/entity-detail/entity-detail-SkillFormula/entity-detail-SkillFormula.component\";\nimport {EntityDetailJobIconComponent} from \"./components/entity-detail/entity-detail-JobIcon/skill-builder-job-icon.component\";\nimport {EntityDetailJobAnimationComponent} from \"./components/entity-detail/entity-detail-JobAnimation/entity-detail-JobAnimation.component\";\nimport {EntityTableComponent} from './components/entity-table/entity-table.component';\nimport {TableCellPipe} from \"./components/entity-table/pipes/table-cell.pipe\";\nimport {TableCellNumberPipe} from \"./components/entity-table/pipes/table-cell-number.pipe\";\nimport {TableCellTextPipe} from './components/entity-table/pipes/table-cell-text.pipe';\nimport {TableCellIconPipe} from \"./components/entity-table/pipes/table-cell-icon.pipe\";\nimport {TableCellLinkPipe} from \"./components/entity-table/pipes/table-cell-link.pipe\";\nimport {TableCellBadgePipe} from \"./components/entity-table/pipes/table-cell-badge.pipe\";\nimport {TOSDomainRepository} from \"./domain/tos/tos-domain.repository\";\nimport {SEOService} from \"./service/seo.service\";\nimport {SWService} from \"./service/sw.service\";\nimport {AnalyticsService} from \"./service/analytics.service\";\nimport {TOSMapResolver} from \"./domain/tos/map/tos-map.resolver\";\nimport {CssMaxHeightDirective} from './directives/css-max-height.directive';\nimport {TOSNPCResolver} from \"./domain/tos/monster/tos-npc.resolver\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ClickOutsideModule,\n    FontAwesomeModule,\n    NgbModule,\n    FormsModule,\n    RouterModule,\n  ],\n  declarations: [\n    // Components\n    EntityDetailAttackDefenseComponent,\n    EntityDetailBonusStatsUnidentifiedComponent,\n    EntityDetailBookComponent,\n    EntityDetailCardComponent,\n    EntityDetailChildComponent,\n    EntityDetailClassIconGradeComponent,\n    EntityDetailDescriptionComponent,\n    EntityDetailDurabilityPotentialSocketsComponent,\n    EntityDetailEnhancementComponent,\n    EntityDetailGemComponent,\n    EntityDetailInformationComponent,\n    EntityDetailJobAnimationComponent,\n    EntityDetailJobIconComponent,\n    EntityDetailHeaderComponent,\n    EntityDetailSkillComponent,\n    EntityDetailSkillFormulaComponent,\n    EntityDetailStatsComponent,\n    EntityDetailTableComponent,\n    EntityTableComponent,\n    EntityTooltipComponent,\n    InputNumberComponent,\n\n    // Directives\n    CssMaxHeightDirective,\n    FilterDirective,\n    FilterGroupDirective,\n    SortDirective,\n    SortGroupDirective,\n\n    // Pipes\n    SanitizeCSSPipe,\n    SanitizeHTMLPipe,\n    TableCellPipe,\n    TableCellBadgePipe,\n    TableCellIconPipe,\n    TableCellLinkPipe,\n    TableCellNumberPipe,\n    TableCellTextPipe,\n    TimePipe,\n    CssMaxHeightDirective,\n  ],\n  exports: [\n    // Components\n    EntityDetailAttackDefenseComponent,\n    EntityDetailBonusStatsUnidentifiedComponent,\n    EntityDetailBookComponent,\n    EntityDetailCardComponent,\n    EntityDetailChildComponent,\n    EntityDetailClassIconGradeComponent,\n    EntityDetailDescriptionComponent,\n    EntityDetailDurabilityPotentialSocketsComponent,\n    EntityDetailEnhancementComponent,\n    EntityDetailGemComponent,\n    EntityDetailInformationComponent,\n    EntityDetailJobAnimationComponent,\n    EntityDetailJobIconComponent,\n    EntityDetailHeaderComponent,\n    EntityDetailSkillComponent,\n    EntityDetailSkillFormulaComponent,\n    EntityDetailStatsComponent,\n    EntityDetailTableComponent,\n    EntityTableComponent,\n    EntityTooltipComponent,\n    InputNumberComponent,\n\n    // Directives\n    CssMaxHeightDirective,\n    FilterDirective,\n    FilterGroupDirective,\n    SortDirective,\n    SortGroupDirective,\n\n    // Modules\n    CommonModule,\n    ClickOutsideModule,\n    FontAwesomeModule,\n    FormsModule,\n    NgbModule,\n    RouterModule,\n\n    // Pipes\n    SanitizeCSSPipe,\n    SanitizeHTMLPipe,\n    TableCellBadgePipe,\n    TableCellIconPipe,\n    TableCellLinkPipe,\n    TableCellNumberPipe,\n    TableCellTextPipe,\n    TimePipe,\n  ],\n})\nexport class SharedModule {\n  // Read more: https://medium.com/@chrishouse/when-to-use-angulars-forroot-method-400094a0ebb7\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: SharedModule,\n      providers: [\n        DecimalPipe,\n        PercentPipe,\n        TimePipe,\n        TableCellBadgePipe,\n        TableCellIconPipe,\n        TableCellLinkPipe,\n        TableCellNumberPipe,\n        TableCellTextPipe,\n        TOSAttributeResolver,\n        TOSBookResolver,\n        TOSCardResolver,\n        TOSCollectionResolver,\n        TOSCubeResolver,\n        TOSEquipmentResolver,\n        TOSEquipmentSetResolver,\n        TOSGemResolver,\n        TOSItemResolver,\n        TOSJobResolver,\n        TOSMapResolver,\n        TOSMonsterResolver,\n        TOSNPCResolver,\n        TOSRecipeResolver,\n        TOSSkillResolver,\n        { provide: 'ITOSDomainRepository', useClass: TOSDomainRepository },\n      ]\n    }\n  }\n\n  constructor(\n    private analytics: AnalyticsService,\n    private seo: SEOService,\n    private sw: SWService,\n  ) {}\n}\n","export abstract class ArrayUtils {\n\n  public static get sort() {\n    return (a, b) => a < b ? -1 : a > b ? 1 : 0;\n  }\n\n  public static reduce(data, key: number | string, array: boolean = false) {\n    let keys = typeof key == 'string' ? key.split('.') : [key];\n    let keyParent = keys[0];\n    let keyChild = keys[Math.min(1, keys.length - 1)];\n\n    let populate = (accumulator, key, value) => {\n      if (key == null || value == null)\n        return;\n\n      if (typeof key == 'object')\n        key = key[keyChild];\n\n      if (array) {\n        accumulator[key] = accumulator[key] || [];\n        accumulator[key].push(value);\n      } else {\n        accumulator[key] = value;\n      }\n    };\n\n    return data.reduce((accumulator, entry) => {\n\n      if (Array.isArray(entry[keyParent]))  entry[keyParent].map(key => populate(accumulator, key, entry));\n      else                                  populate(accumulator, entry[keyParent], entry);\n\n      return accumulator;\n    }, {})\n  }\n\n}\n","module.exports = \"<div class=\\\"container text-muted mb-3 mb-xl-0 pb-5 pb-xl-3\\\" style=\\\"border-top-width: 2px\\\">\\n  <hr>\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-6 col-lg-3 order-0 text-left\\\">\\n      <a href=\\\"http://imc.co.kr/?mid=IMC_EN\\\" target=\\\"_blank\\\" ngbTooltip=\\\"© IMCGAMES CO. LTD.\\\">\\n        <img height=\\\"32\\\" [src]=\\\"'assets/images/logo_imc' + (isLightTheme ? '.png' : '_white.png')\\\" />\\n      </a>\\n    </div>\\n    <a class=\\\"col-12 col-lg-6 order-2 text-center order-lg-1 d-flex\\\" ngbTooltip=\\\"Clear cache\\\" href=\\\"#clearCache\\\"\\n       (click)=\\\"onClearCacheClick($event)\\\">\\n      <div class=\\\"align-self-center flex-grow-1 text-muted\\\">{{ updateVersion }}</div>\\n    </a>\\n    <div class=\\\"col-6 col-lg-3 order-1 text-right order-lg-2 mb-3 mb-lg-0\\\">\\n      <a href=\\\"https://discord.gg/8g76NAA\\\" target=\\\"_blank\\\" ngbTooltip=\\\"Thanks @Crevox, @Jiyuu, @KriLanze, @Palemoon, @Tekguel and more!\\\">\\n        <img class=\\\"align-self-center mr-2\\\" height=\\\"32\\\" src=\\\"assets/images/logo_discord.png\\\" />\\n      </a>\\n      <a href=\\\"https://github.com/rjgtav/tos-database\\\" target=\\\"_blank\\\" ngbTooltip=\\\"Open-source!\\\">\\n        <img class=\\\"align-self-center mr-2\\\" height=\\\"32\\\" [src]=\\\"'assets/images/logo_github' + (isLightTheme ? '.png' : '_white.png')\\\" />\\n      </a>\\n      <a href=\\\"https://patreon.com/rjgtav\\\" target=\\\"_blank\\\" ngbTooltip=\\\"Support the website\\\">\\n        <img class=\\\"align-self-center mr-2\\\" height=\\\"32\\\" src=\\\"assets/images/logo_patreon.png\\\" />\\n      </a>\\n      <a href=\\\"https://www.twitch.tv/rjgtav\\\" target=\\\"_blank\\\" ngbTooltip=\\\"Follow the development\\\" container=\\\"body\\\">\\n        <img class=\\\"align-self-center mr-2\\\" height=\\\"32\\\" src=\\\"assets/images/logo_twitch.png\\\" />\\n      </a>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \":host {\\n  position: absolute;\\n  bottom: 0;\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9zaGVsbC9mb290ZXIvZm9vdGVyLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zaGVsbC9mb290ZXIvZm9vdGVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsbUJBQUE7RUFDQSxVQUFBO0VBQ0EsWUFBQTtDQ0NEIiwiZmlsZSI6InNyYy9hcHAvc2hlbGwvZm9vdGVyL2Zvb3Rlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDA7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4iLCI6aG9zdCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm90dG9tOiAwO1xuICB3aWR0aDogMTAwJTtcbn0iXX0= */\"","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, OnDestroy} from '@angular/core';\nimport {Theme, ThemeService} from \"../../shared/service/theme.service\";\nimport {Subscription} from \"rxjs\";\nimport {UpdateService} from \"../../shared/service/update.service\";\nimport {LoadingService} from \"../loading/loading.service\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'tos-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.scss']\n})\nexport class FooterComponent implements OnDestroy {\n\n  isLightTheme: boolean;\n  updateVersion: string;\n\n  subscriptionTheme: Subscription;\n\n  constructor(\n    private changeDetector: ChangeDetectorRef,\n    private loading: LoadingService,\n    private theme: ThemeService,\n    private update: UpdateService,\n  ) {\n    this.loading.updateComplete$.subscribe(value => this.onUpdateComplete());\n    this.subscriptionTheme = theme.subscribe(this.onThemeChange.bind(this));\n  }\n\n  onClearCacheClick(event: MouseEvent) {\n    event.preventDefault();\n    this.loading.clear();\n  }\n\n  onThemeChange(theme: Theme) {\n    this.isLightTheme = theme == Theme.LIGHT;\n    this.changeDetector.markForCheck();\n  }\n\n  onUpdateComplete() {\n    this.updateVersion = this.update.versionHuman;\n    this.changeDetector.markForCheck();\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptionTheme.unsubscribe();\n  }\n\n}\n","module.exports = \"<!-- Query -->\\n<div class=\\\"input-group align-items-center position-relative\\\">\\n  <input type=\\\"text\\\" class=\\\"border-0 form-control\\\" #input\\n         [attachOutsideOnClick]=\\\"true\\\"\\n         [(ngModel)]=\\\"query\\\"\\n         [disabled]=\\\"!isLoadedSearch\\\"\\n         [placeholder]=\\\"!isLoadedSearch ? 'Loading search...' : 'ClassID, ClassName, Name'\\\"\\n         (clickOutside)=\\\"onFocus(false)\\\"\\n         (focus)=\\\"onFocus(true)\\\"\\n         (keyup.arrowup)=\\\"onKeyboardSelect(-1)\\\"\\n         (keyup.arrowdown)=\\\"onKeyboardSelect(1)\\\"\\n         (keyup.enter)=\\\"onKeyboardNavigate(keyboardSelected)\\\"\\n         (keyup.esc)=\\\"onFocus(false)\\\">\\n\\n  <div class=\\\"d-flex flex-row align-items-center position-absolute\\\" style=\\\"right: 0; z-index: 4\\\">\\n    <a class=\\\"pl-3 pr-3 text-white-50\\\"\\n       [href]=\\\"query ? '#clear' : '#'\\\"\\n       (click)=\\\"$event.preventDefault(); query && onClear()\\\">\\n      <fa-icon [icon]=\\\"query ? faTimes : faSearch\\\"></fa-icon>\\n    </a>\\n\\n    <button class=\\\"btn dropdown-toggle text-white-50\\\"\\n            type=\\\"button\\\"\\n            [attachOutsideOnClick]=\\\"true\\\"\\n            (click)=\\\"isOpenDataset = !isOpenDataset\\\"\\n            (clickOutside)=\\\"isOpenDataset = false\\\">\\n      {{ queryDataset ? TOSDataSetService.toLabel(queryDataset) : 'All' }}\\n    </button>\\n    <div class=\\\"dropdown-menu dropdown-menu-right\\\" [ngClass]=\\\"{ 'show': isOpenDataset }\\\">\\n      <a class=\\\"dropdown-item\\\" href=\\\"#all\\\"\\n         [ngClass]=\\\"{'active': queryDataset == null }\\\"\\n         (click)=\\\"onDatasetChange($event, null)\\\">All</a>\\n\\n      <div *ngFor=\\\"let group of TOSDataSetService.VALUES; index as i\\\">\\n        <div class=\\\"dropdown-header\\\">{{ group.label }}</div>\\n        <a class=\\\"dropdown-item\\\" *ngFor=\\\"let option of group.options\\\" [href]=\\\"'#' + option\\\"\\n           [ngClass]=\\\"{'active': queryDataset == option }\\\"\\n           (click)=\\\"onDatasetChange($event, option)\\\">{{ TOSDataSetService.toLabel(option) }}</a>\\n        <div class=\\\"dropdown-divider\\\" *ngIf=\\\"i < TOSDataSetService.VALUES.length - 1\\\"></div>\\n      </div>\\n    </div>\\n  </div>\\n\\n</div>\\n\\n<!-- Results -->\\n<div class=\\\"card position-absolute shadow w-100\\\" style=\\\"max-height: calc(100vh - 9rem); overflow-y: auto; z-index: 3\\\"\\n     *ngIf=\\\"isOpen && results && results.length > 0\\\">\\n  <div class=\\\"card-body\\\">\\n    <table class=\\\"table table-hover mb-0\\\">\\n      <tbody>\\n        <a *ngFor=\\\"let entity of results; index as i\\\" class=\\\"d-table-row\\\"\\n           [ngClass]=\\\"{'bg-secondary': keyboardSelected == i }\\\"\\n           [routerLink]=\\\"entity && (entity['Url$'] ? (entity['Url$'] | async) : entity.Url)\\\"\\n           (mouseenter)=\\\"tooltip = entity\\\"\\n           (mouseleave)=\\\"tooltip = null\\\">\\n\\n          <!-- Icon -->\\n          <td width=\\\"1\\\" class=\\\"p-1\\\">\\n            <div class=\\\"text-center\\\">\\n              <img height=\\\"40\\\" width=\\\"40\\\" [src]=\\\"entity['Icon$'] ? (entity['Icon$'] | async) : entity.Icon\\\" />\\n            </div>\\n          </td>\\n\\n          <!-- Name -->\\n          <td class=\\\"align-middle\\\">{{ entity.Name }}</td>\\n\\n          <!-- Dataset -->\\n          <td width=\\\"1\\\" class=\\\"align-middle text-right\\\">\\n            <span class=\\\"badge badge-primary\\\">{{ TOSDataSetService.toLabel(entity.Dataset).toUpperCase() }}</span>\\n          </td>\\n        </a>\\n      </tbody>\\n    </table>\\n\\n    <div *ngIf=\\\"isLoadMore\\\" class=\\\"d-flex flex-row justify-content-center mt-3\\\"\\n         (click)=\\\"onLoadMore()\\\">\\n      <button class=\\\"btn btn-primary\\\">Load more</button>\\n    </div>\\n  </div>\\n</div>\\n\\n<!-- Tooltip -->\\n<app-entity-tooltip class=\\\"d-none d-md-block\\\"\\n                    [debug]=\\\"false\\\"\\n                    [tooltip]=\\\"tooltip\\\"></app-entity-tooltip>\\n\"","module.exports = \":host {\\n  position: relative;\\n  display: block;\\n  background: rgba(0, 0, 0, 0.25);\\n  max-width: 640px;\\n  min-width: 320px;\\n}\\n\\nbutton.dropdown-toggle {\\n  background: transparent;\\n}\\n\\nbutton.dropdown-toggle:focus {\\n  background: rgba(0, 0, 0, 0.25);\\n  box-shadow: none;\\n}\\n\\nbutton.dropdown-toggle:hover {\\n  background: rgba(0, 0, 0, 0.25);\\n}\\n\\ninput {\\n  background: transparent;\\n  color: white;\\n}\\n\\ninput:focus {\\n  background: rgba(0, 0, 0, 0.25);\\n  box-shadow: initial;\\n  color: white;\\n}\\n\\ninput:disabled {\\n  background: transparent;\\n}\\n\\ntbody > *:first-child td {\\n  border-top: none;\\n}\\n\\n.dropdown-item:hover {\\n  color: white !important;\\n}\\n\\n.text-white-50:focus,\\n.text-white-50:hover {\\n  color: white !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9zaGVsbC9oZWFkZXIvaGVhZGVyLXNlYXJjaC9oZWFkZXItc2VhcmNoLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zaGVsbC9oZWFkZXIvaGVhZGVyLXNlYXJjaC9oZWFkZXItc2VhcmNoLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0UsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsZ0NBTFc7RUFNWCxpQkFBQTtFQUNBLGlCQUFBO0NDREQ7O0FESUQ7RUFBeUIsd0JBQUE7Q0NBeEI7O0FEQ0Q7RUFBK0IsZ0NBWGxCO0VBVzJDLGlCQUFBO0NDSXZEOztBREhEO0VBQStCLGdDQVpsQjtDQ21CWjs7QURMRDtFQUNFLHdCQUFBO0VBQ0EsYUFBQTtDQ1FEOztBRExEO0VBQ0UsZ0NBcEJXO0VBcUJYLG9CQUFBO0VBQ0EsYUFBQTtDQ1FEOztBRE5EO0VBQ0Usd0JBQUE7Q0NTRDs7QURORDtFQUNFLGlCQUFBO0NDU0Q7O0FETkQ7RUFBdUIsd0JBQUE7Q0NVdEI7O0FEVEQ7O0VBQ3VCLHdCQUFBO0NDYXRCIiwiZmlsZSI6InNyYy9hcHAvc2hlbGwvaGVhZGVyL2hlYWRlci1zZWFyY2gvaGVhZGVyLXNlYXJjaC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiRiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMjUpO1xuXG46aG9zdCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGJhY2tncm91bmQ6ICRiYWNrZ3JvdW5kO1xuICBtYXgtd2lkdGg6IDY0MHB4O1xuICBtaW4td2lkdGg6IDMyMHB4O1xufVxuXG5idXR0b24uZHJvcGRvd24tdG9nZ2xlIHsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IH1cbmJ1dHRvbi5kcm9wZG93bi10b2dnbGU6Zm9jdXMgeyBiYWNrZ3JvdW5kOiAkYmFja2dyb3VuZDsgYm94LXNoYWRvdzogbm9uZTsgfVxuYnV0dG9uLmRyb3Bkb3duLXRvZ2dsZTpob3ZlciB7IGJhY2tncm91bmQ6ICRiYWNrZ3JvdW5kOyB9XG5cbmlucHV0IHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuaW5wdXQ6Zm9jdXMge1xuICBiYWNrZ3JvdW5kOiAkYmFja2dyb3VuZDtcbiAgYm94LXNoYWRvdzogaW5pdGlhbDtcbiAgY29sb3I6IHdoaXRlO1xufVxuaW5wdXQ6ZGlzYWJsZWQge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cblxudGJvZHkgPiAqOmZpcnN0LWNoaWxkIHRkIHtcbiAgYm9yZGVyLXRvcDogbm9uZTtcbn1cblxuLmRyb3Bkb3duLWl0ZW06aG92ZXIgeyBjb2xvcjogd2hpdGUgIWltcG9ydGFudDsgfVxuLnRleHQtd2hpdGUtNTA6Zm9jdXMsXG4udGV4dC13aGl0ZS01MDpob3ZlciB7IGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50OyB9XG4iLCI6aG9zdCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4gIG1heC13aWR0aDogNjQwcHg7XG4gIG1pbi13aWR0aDogMzIwcHg7XG59XG5cbmJ1dHRvbi5kcm9wZG93bi10b2dnbGUge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cblxuYnV0dG9uLmRyb3Bkb3duLXRvZ2dsZTpmb2N1cyB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4gIGJveC1zaGFkb3c6IG5vbmU7XG59XG5cbmJ1dHRvbi5kcm9wZG93bi10b2dnbGU6aG92ZXIge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMjUpO1xufVxuXG5pbnB1dCB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBjb2xvcjogd2hpdGU7XG59XG5cbmlucHV0OmZvY3VzIHtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjI1KTtcbiAgYm94LXNoYWRvdzogaW5pdGlhbDtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG5pbnB1dDpkaXNhYmxlZCB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufVxuXG50Ym9keSA+ICo6Zmlyc3QtY2hpbGQgdGQge1xuICBib3JkZXItdG9wOiBub25lO1xufVxuXG4uZHJvcGRvd24taXRlbTpob3ZlciB7XG4gIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xufVxuXG4udGV4dC13aGl0ZS01MDpmb2N1cyxcbi50ZXh0LXdoaXRlLTUwOmhvdmVyIHtcbiAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG59Il19 */\"","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  OnDestroy,\n  OnInit,\n  ViewChild\n} from '@angular/core';\nimport {faSearch, faTimes} from \"@fortawesome/free-solid-svg-icons\";\nimport {TOSSearchResult, TOSSearchService} from \"../../../shared/service/tos-search.service\";\nimport {TOSEntity} from \"../../../shared/domain/tos/tos-entity.model\";\nimport {Router} from \"@angular/router\";\nimport {TOSDataSet, TOSDataSetService} from \"../../../shared/domain/tos/tos-domain\";\nimport {fromEvent, Observable, Subscription} from \"rxjs\";\nimport {debounceTime} from \"rxjs/operators\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'tos-header-search',\n  templateUrl: './header-search.component.html',\n  styleUrls: ['./header-search.component.scss']\n})\nexport class HeaderSearchComponent implements OnDestroy, OnInit {\n\n  faSearch = faSearch;\n  faTimes = faTimes;\n\n  TOSDataSetService = TOSDataSetService;\n\n  isLoadedSearch: boolean;\n\n  isLoadMore: boolean;\n  isOpen: boolean;\n  isOpenDataset: boolean;\n  keyboardSelected: number;\n  query: string;\n  queryDataset: TOSDataSet;\n  queryPage: number;\n  queryPrevious: string;\n  queryPreviousDataset: TOSDataSet;\n  queryPreviousPage: number;\n  results: TOSEntity[];\n  tooltip: TOSEntity;\n\n  input$: Observable<any>;\n  @ViewChild('input') input: ElementRef;\n\n  subscriptionInput: Subscription;\n  subscriptionLoad: Subscription;\n\n  constructor(\n    private changeDetector: ChangeDetectorRef,\n    private router: Router,\n    private search: TOSSearchService\n  ) {\n    this.subscriptionLoad = search.isLoaded$.subscribe(value => this.onLoad(value));\n  }\n\n  ngOnInit(): void {\n    this.input$ = fromEvent(this.input.nativeElement, 'keyup').pipe(debounceTime(200));\n    this.subscriptionInput = this.input$.subscribe(value => this.onInputChange());\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptionInput && this.subscriptionInput.unsubscribe();\n    this.subscriptionLoad && this.subscriptionLoad.unsubscribe();\n  }\n\n  onClear() {\n    this.isOpen = false;\n    this.query = null;\n    this.queryDataset = null;\n    this.queryPage = 0;\n    this.queryPrevious = null;\n    this.queryPreviousDataset = null;\n    this.results = null;\n    this.tooltip = null;\n  }\n\n  onDatasetChange(event: MouseEvent, dataset: TOSDataSet) {\n    event && event.preventDefault();\n\n    this.queryDataset = dataset;\n    this.onFocus(false);\n    this.onInputChange();\n  }\n\n  onFocus(value: boolean) {\n    this.keyboardSelected = -1;\n    this.isOpen = value;\n    this.tooltip = null;\n\n    value && this.input.nativeElement.focus();\n  }\n\n  onKeyboardNavigate(i: number) {\n    document.activeElement && document.activeElement['blur']();\n    this.onFocus(false);\n    this.router.navigate([this.results[i].Url]);\n  }\n  onKeyboardSelect(direction: number) {\n    if (this.results && this.results.length) {\n      this.keyboardSelected = this.keyboardSelected + direction;\n      this.keyboardSelected = Math.max(0, Math.min(this.keyboardSelected, this.results.length - 1));\n    }\n  }\n\n  onLoad(loaded: boolean) {\n    this.isLoadedSearch = loaded;\n    if (!loaded) this.onClear();\n\n    this.changeDetector.markForCheck();\n  }\n  onLoadMore() {\n    this.queryPage ++;\n    this.onFocus(true);\n    this.onInputChange();\n  }\n\n  onInputChange() {\n    // Ignore empty and duplicate queries\n    if (this.query == null || this.query == '' || this.query.length <= 2) return this.onQueryResult({ page: 0, response: []});\n    if (this.query == this.queryPrevious && this.queryPage == this.queryPreviousPage) return;\n\n    if (this.query != this.queryPrevious || this.queryDataset != this.queryPreviousDataset) {\n      this.isLoadMore = true;\n      this.queryPage = 0;\n      this.results = [];\n    }\n\n    this.query = this.query.replace(/[~*+]/g, '');\n    this.queryPrevious = this.query;\n    this.queryPreviousDataset = this.queryDataset;\n    this.queryPreviousPage = this.queryPage;\n\n    // Hotfix: deal with incomplete queries and make sure multi word queries use an AND\n    let query = this.query.trim();\n    let words = query.split(' ');\n        query = words\n          .map((value, index) => index == words.length - 1 ? '+' + value + '*' : '+' + value)\n          .join(' ');\n\n    this.search\n      .search(this.queryDataset, query, this.queryPage)\n      .subscribe(value => this.onQueryResult(value));\n  }\n  onQueryResult(result: TOSSearchResult) {\n    if (result) {\n      this.results = result.page == 0 ? result.response : this.results.concat(result.response);\n      this.isLoadMore = result.response.length > 0; // Disable 'Load more' in case no more results are being returned\n    }\n\n    this.tooltip = null;\n\n    this.onFocus(true);\n    this.changeDetector.detectChanges();\n  }\n\n}\n","module.exports = \"<nav class=\\\"navbar navbar-dark\\\" style=\\\"background: #002A3A;\\\">\\n  <a class=\\\"navbar-brand mr-4 p-0 order-0\\\" [routerLink]=\\\"routerLink('')\\\">\\n    <img src=\\\"assets/images/logo_tos.png\\\" height=\\\"47\\\" style=\\\"transform: scale(1.25)\\\" />\\n  </a>\\n  <div class=\\\"navbar-expand m-auto m-md-0 order-3 order-md-1 pb-2 pb-md-0 pt-3 pt-md-0\\\">\\n    <ul class=\\\"navbar-nav\\\">\\n      <!--\\n        <a class=\\\"dropdown-item\\\" style=\\\"color: grey\\\" routerLink=\\\"game/achievements\\\">Achievements</a>\\n        <a class=\\\"dropdown-item\\\" style=\\\"color: grey\\\" routerLink=\\\"game/treasures\\\">Treasure Chests</a>\\n        <a class=\\\"dropdown-item\\\" style=\\\"color: grey\\\" routerLink=\\\"game/exp\\\">EXP Tables</a>\\n        <a class=\\\"dropdown-item\\\" style=\\\"color: grey\\\" routerLink=\\\"game/npcs\\\">NPCs</a>\\n        <a class=\\\"dropdown-item\\\" style=\\\"color: grey\\\" routerLink=\\\"game/quests\\\">Quests</a>\\n        <a class=\\\"dropdown-item\\\" style=\\\"color: grey\\\" routerLink=\\\"game/world\\\">World Map</a>\\n      -->\\n\\n      <li class=\\\"nav-item dropdown\\\">\\n        <a class=\\\"nav-link dropdown-toggle tos-link\\\" href=\\\"javascript:void(0);\\\" routerLinkActive=\\\"active\\\">\\n          Database <span class=\\\"badge badge-danger\\\">New</span>\\n          <div class=\\\"dropdown-menu\\\">\\n            <div *ngFor=\\\"let group of TOSDataSetService.VALUES; index as i\\\">\\n              <div class=\\\"dropdown-header\\\">{{ group.label }}</div>\\n              <a *ngFor=\\\"let option of group.options\\\" class=\\\"dropdown-item\\\" routerLinkActive=\\\"active\\\"\\n                 [routerLink]=\\\"routerLink('database/' + TOSDataSetService.toUrl(option))\\\">\\n                {{ TOSDataSetService.toLabel(option) }}&nbsp;\\n                <span class=\\\"badge badge-danger\\\" *ngIf=\\\"option == TOSDataSet.MAPS\\\">New</span>\\n              </a>\\n              <div class=\\\"dropdown-divider\\\" *ngIf=\\\"i < TOSDataSetService.VALUES.length - 1\\\"></div>\\n            </div>\\n          </div>\\n        </a>\\n\\n      </li>\\n\\n      <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link tos-link\\\" [routerLink]=\\\"routerLink('simulator')\\\" routerLinkActive=\\\"active\\\">Skill Simulator</a>\\n      </li>\\n\\n      <li class=\\\"nav-item d-lg-none\\\">\\n        <a class=\\\"nav-link tos-link\\\" (click)=\\\"isOpenSearch = !isOpenSearch\\\">\\n          &nbsp;<fa-icon [icon]=\\\"faSearch\\\"></fa-icon>&nbsp;\\n        </a>\\n      </li>\\n\\n    </ul>\\n  </div>\\n\\n  <div class=\\\"d-none d-lg-block flex-grow-1 justify-content-center mt-3 mt-lg-0 order-5 order-lg-3\\\"\\n       [ngClass]=\\\"{ 'd-flex': isOpenSearch }\\\">\\n      <tos-header-search class=\\\"flex-grow-1 ml-lg-3 mr-lg-3\\\"></tos-header-search>\\n  </div>\\n\\n  <div class=\\\"order-2 w-100 d-md-none\\\"></div>\\n  <div class=\\\"order-4 w-100 d-lg-none\\\"></div>\\n\\n  <div class=\\\"navbar-expand order-1 order-md-3\\\">\\n    <ul class=\\\"navbar-nav align-items-center\\\">\\n      <!-- Region selector -->\\n      <li class=\\\"nav-item dropdown\\\">\\n        <a class=\\\"nav-link dropdown-toggle tos-link\\\" href=\\\"javascript:void(0);\\\" style=\\\"text-transform: initial;\\\">\\n          {{ TOSRegionService.get() }}\\n          <div class=\\\"dropdown-menu dropdown-menu-right\\\">\\n            <a *ngFor=\\\"let region of REGION\\\" class=\\\"dropdown-item\\\" style=\\\"text-transform: initial;\\\"\\n               [href]=\\\"'#' + region\\\"\\n               [ngClass]=\\\"{ 'active': TOSRegionService.get() == region }\\\"\\n               (click)=\\\"regionSelect(region)\\\">\\n              {{ region }}&nbsp;\\n              <span class=\\\"badge badge-success\\\" *ngIf=\\\"TOSRegionService.isRebuild(region)\\\">Re:Build</span>\\n            </a>\\n          </div>\\n        </a>\\n      </li>\\n      <!-- Check for updates (manually) -->\\n      <a class=\\\"nav-item nav-link ml-1 mr-1\\\" (click)=\\\"updateCheck(true)\\\" ngbTooltip=\\\"Check for updates\\\" placement=\\\"bottom\\\">\\n        <fa-icon [icon]=\\\"faSync\\\"></fa-icon>\\n      </a>\\n      <!-- Theme selector -->\\n      <a class=\\\"nav-item nav-link ml-1 mr-1\\\" (click)=\\\"theme.toggle()\\\" [ngbTooltip]=\\\"(theme.is(Theme.LIGHT) ? 'Dark' : 'Light') + ' Theme'\\\" placement=\\\"bottom\\\">\\n        <fa-icon [icon]=\\\"theme.is(Theme.LIGHT) ? faMoon : faSun\\\"></fa-icon>\\n      </a>\\n    </ul>\\n  </div>\\n\\n</nav>\\n\\n<!-- Patreon -->\\n<div class=\\\"d-flex text-left pl-4 pr-4 pt-1 pb-1 mb-0 w-100\\\" style=\\\"background: #f96854\\\" *ngIf=\\\"patrons\\\">\\n  <a class=\\\"flex-grow-1 text-white\\\" [routerLink]=\\\"routerLink('patreon')\\\">\\n    <span>Thanks &nbsp;</span>\\n    <span *ngFor=\\\"let patron of patrons; index as i\\\"><b>{{ patron }}</b><span *ngIf=\\\"i < patrons.length - 1\\\">,</span>&nbsp;</span>\\n    <span><span *ngIf=\\\"patronsCount > 0\\\">and <b>{{ patronsCount }}&nbsp;</b></span>other patrons for supporting tos.guru!</span>\\n  </a>\\n  <div class=\\\"d-flex align-items-center text-white\\\" style=\\\"cursor: pointer\\\" (click)=\\\"patreonDismiss()\\\">\\n    <span class=\\\"d-none d-sm-inline pl-1\\\">Dismiss</span>&nbsp;\\n    <fa-icon class=\\\"pl-3\\\" [icon]=\\\"faTimes\\\"></fa-icon>\\n  </div>\\n</div>\\n\\n<!-- Update status -->\\n<div class=\\\"text-center text-white text-sm-left pl-4 pr-4 pt-1 pb-1 mb-0 w-100 bg-secondary\\\" *ngIf=\\\"isUpdateCheck && isUpdateCheckManual && !isUpdateAvailable\\\">\\n  Checking for updates...\\n</div>\\n<div class=\\\"text-center text-white text-sm-left pl-4 pr-4 pt-1 pb-1 mb-0 w-100 bg-info\\\" *ngIf=\\\"isUpdateInstall\\\">\\n  Updating... The page will automatically refresh when it finishes\\n</div>\\n<a class=\\\"text-center text-white text-sm-left pl-4 pr-4 pt-1 pb-1 mb-0 w-100 bg-info d-block\\\" *ngIf=\\\"isUpdateAvailable && !isUpdateInstall\\\"\\n   href=\\\"#update\\\" (click)=\\\"updateInstall($event)\\\">\\n  A new update is available. Click to install\\n</a>\\n\\n\"","module.exports = \":host {\\n  display: block;\\n  position: relative;\\n}\\n\\n.dropdown:hover .dropdown-menu {\\n  display: block;\\n}\\n\\n.dropdown-header {\\n  text-transform: initial !important;\\n}\\n\\n.navbar-nav .nav-item {\\n  position: relative;\\n  margin-left: 0.5rem;\\n  margin-right: 0.5rem;\\n}\\n\\n.nav-link {\\n  cursor: pointer;\\n  transition: none;\\n}\\n\\n.navbar-nav .nav-link:hover {\\n  color: #006bbe;\\n}\\n\\n.tos-link {\\n  color: white !important;\\n  padding: 0 !important;\\n  text-transform: uppercase;\\n}\\n\\n.tos-link:before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  left: 0;\\n  bottom: -6px;\\n  background: #006bbe;\\n  width: 0;\\n  height: 2.6px;\\n  transition: all 0.2s ease-in;\\n}\\n\\n.tos-link:hover.tos-link:before,\\n.tos-link.active.tos-link:before {\\n  width: 100%;\\n}\\n\\n.bg-info {\\n  background-color: #006bbe !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9zaGVsbC9oZWFkZXIvaGVhZGVyLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zaGVsbC9oZWFkZXIvaGVhZGVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0UsZUFBQTtFQUNBLG1CQUFBO0NDREQ7O0FESUQ7RUFBaUMsZUFBQTtDQ0FoQzs7QURDRDtFQUFtQixtQ0FBQTtDQ0dsQjs7QURERDtFQUNFLG1CQUFBO0VBQ0Esb0JBQUE7RUFDQSxxQkFBQTtDQ0lEOztBREZEO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtDQ0tEOztBREhEO0VBQ0UsZUFwQlc7Q0MwQlo7O0FESEQ7RUFDRSx3QkFBQTtFQUNBLHNCQUFBO0VBQ0EsMEJBQUE7Q0NNRDs7QURKRDtFQUNFLFlBQUE7RUFDQSxtQkFBQTtFQUNBLFFBQUE7RUFDQSxhQUFBO0VBQ0Esb0JBakNXO0VBa0NYLFNBQUE7RUFDQSxjQUFBO0VBQ0EsNkJBQUE7Q0NPRDs7QURKRDs7RUFFRSxZQUFBO0NDT0Q7O0FESkQ7RUFBVyxxQ0FBQTtDQ1FWIiwiZmlsZSI6InNyYy9hcHAvc2hlbGwvaGVhZGVyL2hlYWRlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiRjb2xvci1pbmZvOiAjMDA2YmJlO1xuXG46aG9zdCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5kcm9wZG93bjpob3ZlciAuZHJvcGRvd24tbWVudSB7IGRpc3BsYXk6IGJsb2NrOyB9XG4uZHJvcGRvd24taGVhZGVyIHsgdGV4dC10cmFuc2Zvcm06IGluaXRpYWwgIWltcG9ydGFudDsgfVxuXG4ubmF2YmFyLW5hdiAubmF2LWl0ZW0ge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIG1hcmdpbi1sZWZ0OiAwLjVyZW07XG4gIG1hcmdpbi1yaWdodDogMC41cmVtO1xufVxuLm5hdi1saW5rIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uOiBub25lO1xufVxuLm5hdmJhci1uYXYgLm5hdi1saW5rOmhvdmVyIHtcbiAgY29sb3I6ICRjb2xvci1pbmZvO1xufVxuXG4udG9zLWxpbmsge1xuICBjb2xvcjogd2hpdGUgIWltcG9ydGFudDtcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuLnRvcy1saW5rOmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMDtcbiAgYm90dG9tOiAtNnB4O1xuICBiYWNrZ3JvdW5kOiAkY29sb3ItaW5mbztcbiAgd2lkdGg6IDA7XG4gIGhlaWdodDogMi42cHg7XG4gIHRyYW5zaXRpb246IGFsbCAuMnMgZWFzZS1pbjtcbn1cblxuLnRvcy1saW5rOmhvdmVyLnRvcy1saW5rOmJlZm9yZSxcbi50b3MtbGluay5hY3RpdmUudG9zLWxpbms6YmVmb3JlIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5iZy1pbmZvIHsgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9yLWluZm8gIWltcG9ydGFudDsgfVxuIiwiOmhvc3Qge1xuICBkaXNwbGF5OiBibG9jaztcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uZHJvcGRvd246aG92ZXIgLmRyb3Bkb3duLW1lbnUge1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxuLmRyb3Bkb3duLWhlYWRlciB7XG4gIHRleHQtdHJhbnNmb3JtOiBpbml0aWFsICFpbXBvcnRhbnQ7XG59XG5cbi5uYXZiYXItbmF2IC5uYXYtaXRlbSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgbWFyZ2luLWxlZnQ6IDAuNXJlbTtcbiAgbWFyZ2luLXJpZ2h0OiAwLjVyZW07XG59XG5cbi5uYXYtbGluayB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdHJhbnNpdGlvbjogbm9uZTtcbn1cblxuLm5hdmJhci1uYXYgLm5hdi1saW5rOmhvdmVyIHtcbiAgY29sb3I6ICMwMDZiYmU7XG59XG5cbi50b3MtbGluayB7XG4gIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5cbi50b3MtbGluazpiZWZvcmUge1xuICBjb250ZW50OiBcIlwiO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIGJvdHRvbTogLTZweDtcbiAgYmFja2dyb3VuZDogIzAwNmJiZTtcbiAgd2lkdGg6IDA7XG4gIGhlaWdodDogMi42cHg7XG4gIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2UtaW47XG59XG5cbi50b3MtbGluazpob3Zlci50b3MtbGluazpiZWZvcmUsXG4udG9zLWxpbmsuYWN0aXZlLnRvcy1saW5rOmJlZm9yZSB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uYmctaW5mbyB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDZiYmUgIWltcG9ydGFudDtcbn0iXX0= */\"","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, NgZone, OnDestroy, OnInit} from '@angular/core';\nimport {Theme, ThemeService} from \"../../shared/service/theme.service\";\nimport {faMoon, faSearch, faSync, faTimes} from \"@fortawesome/free-solid-svg-icons\";\nimport {faSun} from \"@fortawesome/free-solid-svg-icons/faSun\";\nimport {TOSUrlService} from \"../../shared/service/tos-url.service\";\nimport {TOSDataSet, TOSDataSetService} from \"../../shared/domain/tos/tos-domain\";\nimport {TOSRegion, TOSRegionService} from \"../../shared/domain/tos-region\";\nimport {PatreonService} from \"../../home/patreon/patreon.service\";\nimport {SWService} from \"../../shared/service/sw.service\";\n\nconst UPDATE_KEY = 'update';\nconst UPDATE_INTERVAL = 60 * 60 * 1000;\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'tos-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements OnInit, OnDestroy {\n  readonly REGION = Object.values(TOSRegion);\n\n  readonly Theme = Theme;\n  readonly TOSDataSet = TOSDataSet;\n  readonly TOSDataSetService = TOSDataSetService;\n  readonly TOSRegion = TOSRegion;\n  readonly TOSRegionService = TOSRegionService;\n\n  readonly faMoon = faMoon;\n  readonly faSearch = faSearch;\n  readonly faSun = faSun;\n  readonly faTimes = faTimes;\n  readonly faSync = faSync;\n\n  patrons: string[];\n  patronsCount: number;\n\n  isUpdateAvailable: boolean;\n  isUpdateCheck: boolean;\n  isUpdateCheckManual: boolean;\n  isUpdateCheckTimeout: number;\n  isUpdateInstall: boolean;\n  isOpenSearch: boolean;\n\n  constructor(\n    private changeDetector: ChangeDetectorRef,\n    private sw: SWService,\n    public theme: ThemeService,\n    private zone: NgZone,\n  ) {\n    if (PatreonService.show) {\n      this.patrons = PatreonService.random(3);\n      this.patronsCount = PatreonService.count - 3;\n    }\n  }\n\n  ngOnInit(): void {\n    this.updateCheck();\n  }\n\n  ngOnDestroy(): void {\n    clearTimeout(this.isUpdateCheckTimeout);\n  }\n\n  patreonDismiss() {\n    PatreonService.dismiss();\n\n    this.patrons = null;\n    this.patronsCount = -1;\n  }\n\n  routerLink(url: string): string {\n    return TOSUrlService.Route(url);\n  }\n\n  regionSelect(region: any): boolean {\n    TOSRegionService.select(region);\n    return false;\n  }\n\n  updateInstall(event: MouseEvent) {\n    event.preventDefault();\n\n    this.isUpdateInstall = true;\n    this.changeDetector.markForCheck();\n\n    this.sw.updateInstall();\n  }\n  updateCheck(updateManual: boolean = false) {\n    this.isUpdateCheckManual = updateManual;\n    this.changeDetector.markForCheck();\n\n    let now = new Date();\n    let updateNext = localStorage.getItem(UPDATE_KEY) && new Date(localStorage.getItem(UPDATE_KEY));\n        updateNext && updateNext.setTime(updateNext.getTime() + UPDATE_INTERVAL);\n        updateNext = updateNext || now;\n\n    // If the time has come, check for updates\n    if (updateNext.getTime() <= new Date().getTime() || (this.isUpdateCheckManual && !this.isUpdateAvailable && !this.isUpdateCheck)) {\n      localStorage.setItem(UPDATE_KEY, now.toISOString());\n\n      this.isUpdateCheck = true;\n      this.changeDetector.markForCheck();\n\n      this.sw.updateCheck$().subscribe(value => {\n        this.isUpdateCheck = false;\n        this.isUpdateCheckManual = false;\n        this.isUpdateAvailable = value;\n\n        this.changeDetector.detectChanges();\n        this.updateCheck();\n      });\n    }\n\n    // In case there is no update available, schedule to check again in the future\n    if (!this.isUpdateAvailable)\n      this.zone.runOutsideAngular(() =>\n        this.isUpdateCheckTimeout = setTimeout(() => this.updateCheck(), UPDATE_INTERVAL));\n  }\n\n}\n","module.exports = \"<div class=\\\"d-flex align-items-center justify-content-center h-100 w-100\\\" style=\\\"background: #002A3A;\\\"\\n     [ngClass]=\\\"{ 'show': updateAvailable && !updateComplete }\\\"\\n     [style.pointerEvents]=\\\"updateAvailable && !updateComplete ? 'initial' : 'none'\\\"\\n     [style.transitionDuration]=\\\"updateAvailable ? '0.25s' : '1s'\\\">\\n  <div class=\\\"position-relative text-center text-white\\\">\\n    <div *ngIf=\\\"installSupported\\\">\\n      <img class=\\\"mb-4 mb-sm-5\\\" src=\\\"assets/images/logo_tos.png\\\" />\\n\\n      <div *ngIf=\\\"!installComplete\\\">\\n        <div class=\\\"progress\\\"><div class=\\\"progress-bar progress-bar-animated progress-bar-striped w-100\\\"></div></div>\\n        <div class=\\\"mt-2\\\">Loading tos.guru...</div>\\n      </div>\\n      <div *ngIf=\\\"installComplete\\\">\\n        <div class=\\\"progress\\\">\\n          <div class=\\\"progress-bar progress-bar-animated progress-bar-striped\\\"\\n               [style.width]=\\\"(updateProgress * 100 / updateTotal) + '%'\\\"></div>\\n        </div>\\n        <div class=\\\"mt-2\\\">\\n          Updating to the latest patch... <span *ngIf=\\\"updateProgress\\\">{{ updateProgress }}/{{ updateTotal }}</span><br/>\\n          <span class=\\\"font-italic text-muted\\\">{{ updateVersion }}</span>\\n        </div>\\n      </div>\\n    </div>\\n    <div *ngIf=\\\"!installSupported\\\">\\n      <img class=\\\"mb-4 mb-sm-5\\\" src=\\\"assets/images/emoticons/emoticon_0003.png\\\" />\\n      <div>It seems your browser doesn't support tos.guru</div>\\n      <hr class=\\\"border-white mt-4 mt-sm-5\\\" />\\n      <div class=\\\"text-left\\\">\\n        <b>Troubleshooting:</b>\\n        <ul>\\n          <li>Please make sure you aren't using Incognito/Private mode</li>\\n          <li>Alternatively, you can use one of the following browsers:\\n          </li>\\n        </ul>\\n        <div class=\\\"d-flex justify-content-around font-weight-bold text-center text-white mt-3\\\">\\n          <a href=\\\"https://www.microsoft.com/en-us/windows/microsoft-edge\\\" target=\\\"_blank\\\" class=\\\"d-flex flex-column\\\">\\n            <img class=\\\"align-self-center\\\" src=\\\"https://raw.githubusercontent.com/alrra/browser-logos/master/src/edge/edge_48x48.png\\\" />\\n            <span class=\\\"mt-1\\\">Edge</span>\\n          </a>\\n          <a href=\\\"https://www.mozilla.org/\\\" target=\\\"_blank\\\" class=\\\"d-flex flex-column\\\">\\n            <img class=\\\"align-self-center\\\" src=\\\"https://raw.githubusercontent.com/alrra/browser-logos/master/src/firefox/firefox_48x48.png\\\" />\\n            <span class=\\\"mt-1\\\">Firefox</span>\\n          </a>\\n          <a href=\\\"https://www.google.com/chrome/\\\" target=\\\"_blank\\\" class=\\\"d-flex flex-column\\\">\\n            <img class=\\\"align-self-center\\\" src=\\\"https://raw.githubusercontent.com/alrra/browser-logos/master/src/chrome/chrome_48x48.png\\\" />\\n            <span class=\\\"mt-1\\\">Chrome</span>\\n          </a>\\n          <a href=\\\"https://www.apple.com/safari/\\\" target=\\\"_blank\\\" class=\\\"d-flex flex-column\\\">\\n            <img class=\\\"align-self-center\\\" src=\\\"https://raw.githubusercontent.com/alrra/browser-logos/master/src/safari/safari_48x48.png\\\" />\\n            <span class=\\\"mt-1\\\">Safari</span>\\n          </a>\\n          <a href=\\\"https://www.opera.com/\\\" target=\\\"_blank\\\" class=\\\"d-flex flex-column\\\">\\n            <img class=\\\"align-self-center\\\" src=\\\"https://raw.githubusercontent.com/alrra/browser-logos/master/src/opera/opera_48x48.png\\\" />\\n            <span class=\\\"mt-1\\\">Opera</span>\\n          </a>\\n        </div>\\n      </div>\\n      <hr class=\\\"border-white\\\" />\\n    </div>\\n\\n    <div class=\\\"d-flex justify-content-around font-weight-bold text-center text-white mt-4 mt-sm-5\\\">\\n      <a href=\\\"https://discord.gg/8g76NAA\\\" target=\\\"_blank\\\" class=\\\"d-flex flex-column\\\">\\n        <img class=\\\"align-self-center\\\" src=\\\"assets/images/logo_discord.png\\\" />\\n        <span class=\\\"mt-1\\\">Discord</span>\\n      </a>\\n      <a href=\\\"https://github.com/rjgtav/tos-database\\\" target=\\\"_blank\\\" class=\\\"d-flex flex-column\\\">\\n        <img class=\\\"align-self-center\\\" src=\\\"assets/images/logo_github_white.png\\\" />\\n        <span class=\\\"mt-1\\\">GitHub</span>\\n      </a>\\n      <a href=\\\"https://patreon.com/rjgtav\\\" target=\\\"_blank\\\" class=\\\"d-flex flex-column\\\">\\n        <img class=\\\"align-self-center\\\" src=\\\"assets/images/logo_patreon.png\\\" />\\n        <span class=\\\"mt-1\\\">Patreon</span>\\n      </a>\\n      <a href=\\\"https://www.twitch.tv/rjgtav\\\" target=\\\"_blank\\\" class=\\\"d-flex flex-column\\\">\\n        <img class=\\\"align-self-center\\\" src=\\\"assets/images/logo_twitch.png\\\" />\\n        <span class=\\\"mt-1\\\">Twitch</span>\\n      </a>\\n    </div>\\n\\n    <div class=\\\"position-absolute mt-4 mt-sm-5 text-center w-100\\\" *ngIf=\\\"isClearCacheAvailable\\\">\\n      <div>Installation stuck?</div>\\n      <button type=\\\"button\\\" class=\\\"btn btn-danger mt-2\\\" (click)=\\\"onClearCacheClick()\\\">Clear cache</button>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \":host > div {\\n  position: fixed;\\n  bottom: 0;\\n  top: 0;\\n  height: 100%;\\n  width: 100%;\\n  z-index: 99999;\\n  opacity: 0;\\n  transition: opacity 1s ease-in;\\n}\\n\\n:host > div.show {\\n  opacity: 1;\\n}\\n\\na {\\n  color: white;\\n}\\n\\n.progress-bar {\\n  background-color: #006bbe;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9zaGVsbC9sb2FkaW5nL2xvYWRpbmcuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3NoZWxsL2xvYWRpbmcvbG9hZGluZy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFBO0VBQ0EsVUFBQTtFQUNBLE9BQUE7RUFFQSxhQUFBO0VBQ0EsWUFBQTtFQUVBLGVBQUE7RUFFQSxXQUFBO0VBQ0EsK0JBQUE7Q0NGRDs7QURJRDtFQUNFLFdBQUE7Q0NERDs7QURJRDtFQUFJLGFBQUE7Q0NBSDs7QURFRDtFQUFnQiwwQkFBQTtDQ0VmIiwiZmlsZSI6InNyYy9hcHAvc2hlbGwvbG9hZGluZy9sb2FkaW5nLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3QgPiBkaXYge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIGJvdHRvbTogMDtcbiAgdG9wOiAwO1xuXG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG5cbiAgei1pbmRleDogOTk5OTk7XG5cbiAgb3BhY2l0eTogMDtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAxcyBlYXNlLWluO1xufVxuOmhvc3QgPiBkaXYuc2hvdyB7XG4gIG9wYWNpdHk6IDE7XG59XG5cbmEgeyBjb2xvcjogd2hpdGUgfVxuXG4ucHJvZ3Jlc3MtYmFyIHsgYmFja2dyb3VuZC1jb2xvcjogIzAwNmJiZSB9XG4iLCI6aG9zdCA+IGRpdiB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgYm90dG9tOiAwO1xuICB0b3A6IDA7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIHotaW5kZXg6IDk5OTk5O1xuICBvcGFjaXR5OiAwO1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDFzIGVhc2UtaW47XG59XG5cbjpob3N0ID4gZGl2LnNob3cge1xuICBvcGFjaXR5OiAxO1xufVxuXG5hIHtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4ucHJvZ3Jlc3MtYmFyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNmJiZTtcbn0iXX0= */\"","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, NgZone, OnDestroy, OnInit} from '@angular/core';\nimport {UpdateService} from \"../../shared/service/update.service\";\nimport {LoadingService} from \"./loading.service\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'tos-loading',\n  templateUrl: './loading.component.html',\n  styleUrls: ['./loading.component.scss']\n})\nexport class LoadingComponent implements OnInit, OnDestroy {\n\n  isClearCacheAvailable: boolean;\n  isClearCacheAvailableTimeout: number;\n\n  installComplete: boolean;\n  installSupported: boolean;\n\n  updateAvailable: boolean;\n  updateComplete: boolean;\n  updateProgress: number = 0;\n  updateTotal: number = 0;\n  updateVersion: string;\n\n  constructor(\n    private changeDetector: ChangeDetectorRef,\n    private loading: LoadingService,\n    private update: UpdateService,\n    private zone: NgZone,\n  ) {\n    this.loading.updateProgress$.subscribe(value => this.onUpdateProgress(value));\n    this.loading.updateComplete$.subscribe(value => this.onUpdateComplete());\n    this.loading.installComplete$.subscribe(value => this.onInstallComplete());\n\n    this.installSupported = this.loading.installSupported;\n    this.onUpdateAvailable();\n  }\n\n  ngOnInit(): void {\n    this.zone.runOutsideAngular(() => this.isClearCacheAvailableTimeout = setTimeout(() => {\n        this.isClearCacheAvailable = true;\n        this.changeDetector.detectChanges();\n      }, 5 * 1000\n    ));\n  }\n\n  ngOnDestroy(): void {\n    clearTimeout(this.isClearCacheAvailableTimeout);\n  }\n\n  onClearCacheClick() {\n    this.loading.clear();\n  }\n\n  onInstallComplete() {\n    this.installComplete = true;\n    this.changeDetector.markForCheck();\n  }\n\n  onUpdateAvailable() {\n    this.updateAvailable = this.update.updateAvailable();\n    this.updateAvailable && this.changeDetector.markForCheck();\n    this.updateVersion = this.update.versionHuman;\n  }\n  onUpdateComplete() {\n    this.updateComplete = true;\n    this.changeDetector.markForCheck();\n  }\n  onUpdateProgress(value: number) {\n    if (!this.updateAvailable) return;\n\n    this.updateProgress = Math.max(value, 0);\n    this.updateTotal = this.loading.updateTotal;\n    this.changeDetector.markForCheck();\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from \"@angular/common/http\";\nimport {BehaviorSubject, ReplaySubject} from \"rxjs\";\nimport {UpdateService} from \"../../shared/service/update.service\";\nimport {TOSDataSet, TOSDataSetService} from \"../../shared/domain/tos/tos-domain\";\nimport {take} from \"rxjs/operators\";\nimport {TOSRegionService} from \"../../shared/domain/tos-region\";\nimport {TOSDomainService} from \"../../shared/domain/tos/tos-domain.service\";\nimport {SWService} from \"../../shared/service/sw.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoadingService {\n\n  private installComplete: ReplaySubject<boolean> = new ReplaySubject(1);\n  private updateComplete: ReplaySubject<boolean> = new ReplaySubject(1);\n  private updateProgress: BehaviorSubject<number> = new BehaviorSubject(-1);\n\n  constructor(\n    private domain: TOSDomainService,\n    private http: HttpClient,\n    private sw: SWService,\n    private update: UpdateService,\n  ) {\n    this.sw.enabled\n      ? this.installCheck()\n      : this.onInstallComplete();\n  }\n\n  get installComplete$() { return this.installComplete.pipe(take(1)) }\n  get installSupported() { return !!navigator.serviceWorker && !!window.indexedDB }\n\n  get updateComplete$() { return this.updateComplete.pipe(take(1)) }\n  get updateProgress$() { return this.updateProgress.asObservable() }\n  get updateTotal() { return Object.values(TOSDataSet).length }\n\n  async clear() {\n    let confirm = `\n      =====================================\n       Please close all other tos.guru tabs before proceeding\n      =====================================\n      \n      Are you sure you want to clear the cache?\n      This process will take a couple of minutes\n    `;\n\n    if (window.confirm(confirm)) {\n      if (window.caches) {\n        // Clear cache\n        console.log('Clearing cache...');\n        await Promise\n          .all((await window.caches.keys())\n            .map(value => window.caches.delete(value)));\n      }\n\n      // Clear IndexedDB for the current region\n      console.log('Clearing IndexedDB...');\n      await Promise\n        .all(Object.values(TOSDataSet)\n          .map(value => new Promise((resolve) => {\n            let request = window.indexedDB.deleteDatabase(TOSRegionService.getUrl() + '/' + TOSDataSetService.toUrl(value));\n            request.onsuccess = () => resolve();\n          })));\n\n      // Clear version\n      console.log('Clearing version...');\n      this.update.updateVersion(true);\n\n      // Unregister service worker\n      console.log('Unregistering service worker...');\n      await Promise.all((await navigator.serviceWorker.getRegistrations()).map(value => value.unregister()));\n\n      location.reload(true);\n    }\n  }\n\n  private installCheck() {\n    this.sw.installComplete()\n      ? this.onInstallComplete()\n      : setTimeout(() => this.installCheck(), 250);\n  }\n\n  private async updateCheck() {\n    let region = TOSRegionService.get();\n    //console.log('updateCheck', region);\n\n    if (!this.update.updateAvailable())\n      return this.onUpdateComplete();\n\n    this.updateProgress.next(0);\n\n    // Load one at a time, for reliability\n    for (let dataset of Object.values(TOSDataSet)) {\n      await this.domain.load(dataset, region).toPromise();\n\n      //console.log('updateProgress', this.updateProgress.getValue() + 1);\n      this.updateProgress.next(this.updateProgress.getValue() + 1);\n      this.updateProgress.getValue() == this.updateTotal && this.onUpdateComplete();\n    }\n\n    this.update.updateVersion();\n  }\n\n  private onInstallComplete() {\n    //console.log('onInstallComplete');\n    this.installComplete.next(this.installSupported);\n    this.updateCheck();\n  }\n\n  private onUpdateComplete() {\n    //console.log('onUpdateComplete');\n    this.updateComplete.next(true);\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {NgbModule} from \"@ng-bootstrap/ng-bootstrap\";\nimport {HeaderComponent} from './header/header.component';\nimport {FooterComponent} from './footer/footer.component';\nimport {RouterModule} from \"@angular/router\";\nimport {FontAwesomeModule} from \"@fortawesome/angular-fontawesome\";\nimport {ClickOutsideModule} from \"ng-click-outside\";\nimport {HeaderSearchComponent} from './header/header-search/header-search.component';\nimport {FormsModule} from \"@angular/forms\";\nimport {SharedModule} from \"../shared/shared.module\";\nimport {ShellComponent} from \"./shell/shell.component\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ClickOutsideModule,\n    FontAwesomeModule,\n    FormsModule,\n    NgbModule,\n    RouterModule,\n    SharedModule\n  ],\n  declarations: [ShellComponent, HeaderComponent, FooterComponent, HeaderSearchComponent],\n  exports: [ShellComponent]\n})\nexport class ShellModule { }\n","module.exports = \"<tos-header class=\\\"mb-3 mb-sm-5\\\"></tos-header>\\n\\n<div class=\\\"container\\\" style=\\\"min-height: calc(100% - 80px)\\\">\\n  <ng-content></ng-content>\\n</div>\\n\\n<tos-footer></tos-footer>\\n\\n<a class=\\\"position-fixed btn mb-3 mr-3 text-white\\\"\\n   style=\\\"background: #006bbe; bottom: 0; right: 0; z-index: 1\\\"\\n   href=\\\"http://feedback.userreport.com/e23e275c-deb8-4560-9434-070fc22b6208\\\" target=\\\"_blank\\\">\\n  <fa-icon [icon]=\\\"faCommentAlt\\\"></fa-icon>\\n  <span class=\\\"ml-1\\\">Feedback</span>\\n</a>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoZWxsL3NoZWxsL3NoZWxsLmNvbXBvbmVudC5zY3NzIn0= */\"","import {ChangeDetectionStrategy, Component} from '@angular/core';\nimport {faCommentAlt} from \"@fortawesome/free-solid-svg-icons\";\nimport {faPatreon} from \"@fortawesome/free-brands-svg-icons\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'tos-shell',\n  templateUrl: './shell.component.html',\n  styleUrls: ['./shell.component.scss']\n})\nexport class ShellComponent {\n\n  faCommentAlt = faCommentAlt;\n  faPatreon = faPatreon;\n\n  constructor() { }\n\n}\n","module.exports = \"<div class=\\\"row justify-content-center\\\">\\n  <div *ngFor=\\\"let job of jobs; let i = index\\\" class=\\\"position-relative\\\" style=\\\"width: 4rem\\\"\\n       (mouseenter)=\\\"jobsHover[i] = true; build.tooltip(job, true)\\\"\\n       (mouseleave)=\\\"jobsHover[i] = false; build.tooltip(job, false)\\\">\\n\\n    <!-- Icon -->\\n    <tos-entity-detail-JobIcon class=\\\"w-100\\\" style=\\\"height: 4rem;\\\"\\n                                [circle]=\\\"jobsCircle[i]\\\"\\n                                [job]=\\\"job\\\"\\n                                [size]=\\\"'xs'\\\"></tos-entity-detail-JobIcon>\\n\\n    <!-- Delete -->\\n    <a *ngIf=\\\"jobsHover[i]\\\" href=\\\"#remove\\\"\\n       class=\\\"d-flex align-items-center rounded-circle justify-content-center position-absolute text-white\\\"\\n       style=\\\"background: rgba(0, 0, 0, 0.5); height: 3rem; width: 3rem; left: 0.5rem; top: 0.5rem\\\"\\n       (click)=\\\"onRemoveClick($event, i + 1)\\\">\\n      <fa-icon [icon]=\\\"faTrashAlt\\\"></fa-icon>\\n    </a>\\n  </div>\\n\\n  <!-- Next rank -->\\n  <app-skill-builder-job-rank *ngIf=\\\"build.Rank < RANK_LIMIT\\\" class=\\\"mb-3\\\"\\n                              [rank]=\\\"build.Rank + 1\\\"></app-skill-builder-job-rank>\\n\\n</div>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NraWxsLXNpbXVsYXRvci9za2lsbC1idWlsZGVyL3NraWxsLWJ1aWxkZXItam9iLXJhbmstbGlzdC9za2lsbC1idWlsZGVyLWpvYi1yYW5rLWxpc3QuY29tcG9uZW50LnNjc3MifQ== */\"","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  SimpleChanges\n} from '@angular/core';\nimport {RANK_LIMIT, TOSSimulatorBuild} from \"../../../shared/domain/tos/tos-build\";\nimport {Subscription} from \"rxjs\";\nimport {faTrashAlt} from \"@fortawesome/free-solid-svg-icons\";\nimport {ITOSJob} from \"../../../shared/domain/tos/tos-domain\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'app-skill-builder-job-rank-list',\n  templateUrl: './skill-builder-job-rank-list.component.html',\n  styleUrls: ['./skill-builder-job-rank-list.component.scss']\n})\nexport class SkillBuilderJobRankListComponent implements OnChanges, OnDestroy {\n\n  faTrashAlt = faTrashAlt;\n  RANK_LIMIT = RANK_LIMIT;\n\n  @Input() build: TOSSimulatorBuild;\n\n  jobs: ITOSJob[];\n  jobsCircle: number[];\n  jobsHover: boolean[];\n\n  subscriptionJobs: Subscription;\n\n  constructor(private changeDetector: ChangeDetectorRef) { }\n\n  onRemoveClick(event: MouseEvent, rank: number) {\n    event.preventDefault();\n    this.build.jobRemove$(rank);\n  }\n\n  onJobChange() {\n    this.jobs = this.build.Jobs;\n    this.jobsCircle = [];\n    this.jobsHover = [];\n\n    this.jobs.reduce((accumulator, value) => {\n      if (accumulator[value.$ID]) this.jobsCircle.push(accumulator[value.$ID] = accumulator[value.$ID] + 1);\n      else                        this.jobsCircle.push(accumulator[value.$ID] = 1);\n\n      return accumulator;\n    }, {});\n\n    this.changeDetector.markForCheck();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.build) {\n      this.subscriptionJobs && this.subscriptionJobs.unsubscribe();\n      this.subscriptionJobs = this.build.Job$.subscribe(value => this.onJobChange());\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.changeDetector.detach();\n    this.subscriptionJobs && this.subscriptionJobs.unsubscribe();\n  }\n\n}\n","module.exports = \"<div class=\\\"position-absolute h-100 w-100 bg-primary\\\" style=\\\"border-radius: 50%; transform: scale(0.85);\\\"></div>\\n<div class=\\\"position-absolute h-100 w-100\\\" style=\\\"border: 2px dashed #bbb; border-radius: 50%;\\\"></div>\\n<div class=\\\"position-absolute d-flex justify-content-center align-items-center h-100 w-100\\\">\\n  <h5 class=\\\"text-white mb-0\\\">{{ rank }}</h5>\\n</div>\\n\"","module.exports = \":host {\\n  position: relative;\\n  width: 3.75rem;\\n  height: 3.75rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9za2lsbC1zaW11bGF0b3Ivc2tpbGwtYnVpbGRlci9za2lsbC1idWlsZGVyLWpvYi1yYW5rL3NraWxsLWJ1aWxkZXItam9iLXJhbmsuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3NraWxsLXNpbXVsYXRvci9za2lsbC1idWlsZGVyL3NraWxsLWJ1aWxkZXItam9iLXJhbmsvc2tpbGwtYnVpbGRlci1qb2ItcmFuay5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0NDQ0QiLCJmaWxlIjoic3JjL2FwcC9za2lsbC1zaW11bGF0b3Ivc2tpbGwtYnVpbGRlci9za2lsbC1idWlsZGVyLWpvYi1yYW5rL3NraWxsLWJ1aWxkZXItam9iLXJhbmsuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDMuNzVyZW07XG4gIGhlaWdodDogMy43NXJlbTtcbn1cbiIsIjpob3N0IHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMy43NXJlbTtcbiAgaGVpZ2h0OiAzLjc1cmVtO1xufSJdfQ== */\"","import {ChangeDetectionStrategy, Component, Input} from '@angular/core';\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'app-skill-builder-job-rank',\n  templateUrl: './skill-builder-job-rank.component.html',\n  styleUrls: ['./skill-builder-job-rank.component.scss']\n})\nexport class SkillBuilderJobRankComponent {\n\n  @Input() rank: number;\n\n  constructor() { }\n\n}\n","module.exports = \"<div class=\\\"card mb-3 shadow\\\" *ngIf=\\\"jobsAvailable && jobsAvailable.length\\\">\\n  <div class=\\\"card-body\\\">\\n\\n    <!-- Choose a class -->\\n    <div class=\\\"row align-items-center mb-3\\\">\\n\\n      <app-skill-builder-job-rank class=\\\"ml-3\\\" [rank]=\\\"rank\\\"></app-skill-builder-job-rank>\\n      <h4 class=\\\"col mb-0\\\"><span>Choose a Class</span></h4>\\n\\n    </div>\\n\\n    <!-- Class list -->\\n    <div class=\\\"row\\\" [style.justifyContent]=\\\"rank == 1 ? 'center' : ''\\\">\\n      <a *ngFor=\\\"let job of jobsAvailable; let i = index\\\" class=\\\"col-4 col-sm-3 col-md-2 mb-3 tos-job\\\"\\n         [href]=\\\"'#' + job.Name\\\"\\n         (click)=\\\"onJobClick($event, job)\\\"\\n         (mouseenter)=\\\"build.tooltip(job, true)\\\"\\n         (mouseleave)=\\\"build.tooltip(job, false)\\\">\\n        <tos-entity-detail-JobIcon class=\\\"m-auto\\\"\\n                                   [circle]=\\\"build.jobCircle(job) + 1\\\"\\n                                   [job]=\\\"job\\\"\\n                                   [size]=\\\"'xs'\\\"></tos-entity-detail-JobIcon>\\n        <div class=\\\"text-center w-100\\\">{{ job.Name }}</div>\\n      </a>\\n    </div>\\n\\n  </div>\\n</div>\\n\"","module.exports = \".tos-job img {\\n  transition: all 0.4s ease;\\n}\\n\\n.tos-job:hover img {\\n  transform: translateY(-8px);\\n}\\n\\n.tos-job fa-icon {\\n  color: #bbb;\\n  filter: drop-shadow(0 0 1px #666);\\n  stroke: white;\\n  stroke-width: 3rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9za2lsbC1zaW11bGF0b3Ivc2tpbGwtYnVpbGRlci9za2lsbC1idWlsZGVyLWpvYi1zZWxlY3Rvci9za2lsbC1idWlsZGVyLWpvYi1zZWxlY3Rvci5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvc2tpbGwtc2ltdWxhdG9yL3NraWxsLWJ1aWxkZXIvc2tpbGwtYnVpbGRlci1qb2Itc2VsZWN0b3Ivc2tpbGwtYnVpbGRlci1qb2Itc2VsZWN0b3IuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSwwQkFBQTtDQ0NEOztBRENEO0VBQ0UsNEJBQUE7Q0NFRDs7QURDRDtFQUNFLFlBQUE7RUFDQSxrQ0FBQTtFQUNBLGNBQUE7RUFDQSxtQkFBQTtDQ0VEIiwiZmlsZSI6InNyYy9hcHAvc2tpbGwtc2ltdWxhdG9yL3NraWxsLWJ1aWxkZXIvc2tpbGwtYnVpbGRlci1qb2Itc2VsZWN0b3Ivc2tpbGwtYnVpbGRlci1qb2Itc2VsZWN0b3IuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudG9zLWpvYiBpbWcge1xuICB0cmFuc2l0aW9uOiBhbGwgLjRzIGVhc2U7XG59XG4udG9zLWpvYjpob3ZlciBpbWcge1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLThweCk7XG59XG5cbi50b3Mtam9iIGZhLWljb24ge1xuICBjb2xvcjogI2JiYjtcbiAgZmlsdGVyOiBkcm9wLXNoYWRvdyggMCAwIDFweCAjNjY2ICk7XG4gIHN0cm9rZTogd2hpdGU7XG4gIHN0cm9rZS13aWR0aDogM3JlbTtcbn1cbiIsIi50b3Mtam9iIGltZyB7XG4gIHRyYW5zaXRpb246IGFsbCAwLjRzIGVhc2U7XG59XG5cbi50b3Mtam9iOmhvdmVyIGltZyB7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtOHB4KTtcbn1cblxuLnRvcy1qb2IgZmEtaWNvbiB7XG4gIGNvbG9yOiAjYmJiO1xuICBmaWx0ZXI6IGRyb3Atc2hhZG93KDAgMCAxcHggIzY2Nik7XG4gIHN0cm9rZTogd2hpdGU7XG4gIHN0cm9rZS13aWR0aDogM3JlbTtcbn0iXX0= */\"","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  SimpleChanges\n} from '@angular/core';\nimport {Subscription} from \"rxjs\";\nimport {TOSSimulatorBuild} from \"../../../shared/domain/tos/tos-build\";\nimport {TOSDomainService} from \"../../../shared/domain/tos/tos-domain.service\";\nimport {ITOSJob} from \"../../../shared/domain/tos/tos-domain\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'app-skill-builder-job-selector',\n  templateUrl: './skill-builder-job-selector.component.html',\n  styleUrls: ['./skill-builder-job-selector.component.scss']\n})\nexport class SkillBuilderJobSelectorComponent implements OnChanges, OnDestroy {\n\n  @Input() build: TOSSimulatorBuild;\n\n  jobsAvailable: ITOSJob[];\n  rank: number;\n\n  subscriptionJobs: Subscription;\n\n  constructor(private changeDetector: ChangeDetectorRef) {}\n\n  onJobClick(event: MouseEvent, job: ITOSJob) {\n    event.preventDefault();\n\n    this.build.jobAdd$(job);\n  }\n\n  onJobChange() {\n    this.rank = this.build.Rank + 1;\n\n    let observable = this.rank == 1 ? TOSDomainService.jobsByStarter(true) : TOSDomainService.jobsByTree(this.build.JobTree);\n        observable.subscribe(async value => {\n          let valueAvailable = await Promise.all(value.map(value => this.build.jobUnlockAvailable$(value).toPromise()));\n          this.jobsAvailable = value\n            .filter((value, index) => valueAvailable[index])\n            .sort((a, b) => {\n              if (a.Rank != b.Rank) return a.Rank - b.Rank;\n              return a.$ID < b.$ID ? -1 : a.$ID > b.$ID ? 1 : 0;\n            });\n\n          this.changeDetector.markForCheck();\n        });\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.build) {\n      this.subscriptionJobs && this.subscriptionJobs.unsubscribe();\n      this.subscriptionJobs = this.build.Job$.subscribe(value => this.onJobChange());\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptionJobs && this.subscriptionJobs.unsubscribe();\n  }\n\n}\n","module.exports = \"<div class=\\\"card d-flex flex-column flex-sm-row flex-wrap justify-content-center justify-content-sm-start mb-3 shadow\\\">\\n\\n  <!-- Job header -->\\n  <div class=\\\"tos-job bg-primary justify-content-between pr-0 text-white\\\">\\n    <div class=\\\"d-flex\\\">\\n\\n      <!-- Job Icon & Circle -->\\n      <tos-entity-detail-JobIcon [circle]=\\\"circles.length\\\" style=\\\"width: 3rem; height: 3rem;\\\"\\n                                 [job]=\\\"job\\\"\\n                                 [size]=\\\"'xs'\\\"\\n                                 (mouseenter)=\\\"build.tooltip(job, true)\\\"\\n                                 (mouseleave)=\\\"build.tooltip(job, false)\\\"></tos-entity-detail-JobIcon>\\n\\n      <!-- Job Name & Job Attributes -->\\n      <div class=\\\"pl-2\\\">\\n        <a class=\\\"text-white\\\" [style.lineHeight]=\\\"attributes ? '' : '3rem'\\\"\\n           [routerLink]=\\\"job.Url\\\">\\n          {{ job.Name }}\\n        </a>\\n\\n        <br *ngIf=\\\"attributes\\\"/>\\n\\n        <a *ngFor=\\\"let attribute of attributes; index as i; trackBy: TOSEntity.trackBy\\\" [routerLink]=\\\"attribute.Url\\\">\\n          <img class=\\\"tos-attribute\\\"\\n               [src]=\\\"attribute.Icon\\\"\\n               [style.opacity]=\\\"attributesUnlock && attributesUnlock[i] ? 1 : 0.5\\\"\\n               (mouseenter)=\\\"build.tooltip(attribute, true)\\\"\\n               (mouseleave)=\\\"build.tooltip(attribute, false)\\\"/>\\n        </a>\\n      </div>\\n\\n    </div>\\n\\n    <!-- Skill Points -->\\n    <div class=\\\"d-none d-sm-block position-absolute badge badge-primary rounded-0\\\" style=\\\"top: -0.5rem; right: -0.5rem; font-size: inherit\\\">\\n      {{ skillPoints }} points\\n    </div>\\n    <div class=\\\"d-flex d-sm-none align-items-center pr-3\\\">\\n      <a href=\\\"#remove\\\"\\n         class=\\\"d-flex align-items-center justify-content-center bg-white text-primary rounded-circle mr-2\\\"\\n         style=\\\"background: rgba(0, 0, 0, 0.5); height: 2.5rem; width: 2.5rem; z-index: 1\\\"\\n         (click)=\\\"onRemoveClick($event)\\\">\\n        <fa-icon [icon]=\\\"faTrashAlt\\\"></fa-icon>\\n      </a>\\n\\n      <span style=\\\"z-index: 1; pointer-events: none\\\">{{ skillPoints }} points</span>\\n    </div>\\n  </div>\\n\\n  <!-- Job Skills -->\\n  <app-skill-builder-skill *ngFor=\\\"let skill of skills; trackBy: TOSEntity.trackBy\\\" class=\\\"tos-skill\\\"\\n                           [build]=\\\"build\\\"\\n                           [job]=\\\"job\\\"\\n                           [skill]=\\\"skill\\\"></app-skill-builder-skill>\\n\\n</div>\\n\"","module.exports = \":host {\\n  display: block;\\n  position: relative;\\n}\\n\\n.tos-attribute {\\n  width: 1.5rem;\\n  height: 1.5rem;\\n}\\n\\n.tos-job,\\n.tos-skill {\\n  display: flex;\\n  align-items: center;\\n  width: 215px;\\n  padding: 10px;\\n}\\n\\n@media (max-width: 575.98px) {\\n  .tos-job, .tos-skill {\\n    width: 100%;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9za2lsbC1zaW11bGF0b3Ivc2tpbGwtYnVpbGRlci9za2lsbC1idWlsZGVyLWpvYi9za2lsbC1idWlsZGVyLWpvYi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvc2tpbGwtc2ltdWxhdG9yL3NraWxsLWJ1aWxkZXIvc2tpbGwtYnVpbGRlci1qb2Ivc2tpbGwtYnVpbGRlci1qb2IuY29tcG9uZW50LnNjc3MiLCIvVXNlcnMvZnVuZ2kvRS9Ub3NQcm9qZWN0L1Rvc0d1cnVCYXNlL3Rvcy1kYXRhYmFzZS90b3Mtd2ViL25vZGVfbW9kdWxlcy9ib290c3RyYXAvc2Nzcy9taXhpbnMvX2JyZWFrcG9pbnRzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBSUE7RUFDRSxlQUFBO0VBQ0EsbUJBQUE7Q0NIRDs7QURNRDtFQUNFLGNBQUE7RUFDQSxlQUFBO0NDSEQ7O0FETUQ7O0VBRUUsY0FBQTtFQUNBLG9CQUFBO0VBQ0EsYUFBQTtFQUNBLGNBQUE7Q0NIRDs7QUN5REc7RUZsREY7SUFBdUIsWUFBQTtHQ0Z0QjtDQUNGIiwiZmlsZSI6InNyYy9hcHAvc2tpbGwtc2ltdWxhdG9yL3NraWxsLWJ1aWxkZXIvc2tpbGwtYnVpbGRlci1qb2Ivc2tpbGwtYnVpbGRlci1qb2IuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICd+Ym9vdHN0cmFwL3Njc3MvX2Z1bmN0aW9ucyc7XG5AaW1wb3J0ICd+Ym9vdHN0cmFwL3Njc3MvX3ZhcmlhYmxlcyc7XG5AaW1wb3J0ICd+Ym9vdHN0cmFwL3Njc3MvbWl4aW5zL19icmVha3BvaW50cyc7XG5cbjpob3N0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLnRvcy1hdHRyaWJ1dGUge1xuICB3aWR0aDogMS41cmVtO1xuICBoZWlnaHQ6IDEuNXJlbTtcbn1cblxuLnRvcy1qb2IsXG4udG9zLXNraWxsIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgd2lkdGg6IDIxNXB4O1xuICBwYWRkaW5nOiAxMHB4O1xufVxuXG5AaW5jbHVkZSBtZWRpYS1icmVha3BvaW50LWRvd24oeHMpIHtcbiAgLnRvcy1qb2IsIC50b3Mtc2tpbGwgeyB3aWR0aDogMTAwJTsgfVxufVxuIiwiOmhvc3Qge1xuICBkaXNwbGF5OiBibG9jaztcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4udG9zLWF0dHJpYnV0ZSB7XG4gIHdpZHRoOiAxLjVyZW07XG4gIGhlaWdodDogMS41cmVtO1xufVxuXG4udG9zLWpvYixcbi50b3Mtc2tpbGwge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB3aWR0aDogMjE1cHg7XG4gIHBhZGRpbmc6IDEwcHg7XG59XG5cbkBtZWRpYSAobWF4LXdpZHRoOiA1NzUuOThweCkge1xuICAudG9zLWpvYiwgLnRvcy1za2lsbCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cbn0iLCIvLyBCcmVha3BvaW50IHZpZXdwb3J0IHNpemVzIGFuZCBtZWRpYSBxdWVyaWVzLlxuLy9cbi8vIEJyZWFrcG9pbnRzIGFyZSBkZWZpbmVkIGFzIGEgbWFwIG9mIChuYW1lOiBtaW5pbXVtIHdpZHRoKSwgb3JkZXIgZnJvbSBzbWFsbCB0byBsYXJnZTpcbi8vXG4vLyAgICAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpXG4vL1xuLy8gVGhlIG1hcCBkZWZpbmVkIGluIHRoZSBgJGdyaWQtYnJlYWtwb2ludHNgIGdsb2JhbCB2YXJpYWJsZSBpcyB1c2VkIGFzIHRoZSBgJGJyZWFrcG9pbnRzYCBhcmd1bWVudCBieSBkZWZhdWx0LlxuXG4vLyBOYW1lIG9mIHRoZSBuZXh0IGJyZWFrcG9pbnQsIG9yIG51bGwgZm9yIHRoZSBsYXN0IGJyZWFrcG9pbnQuXG4vL1xuLy8gICAgPj4gYnJlYWtwb2ludC1uZXh0KHNtKVxuLy8gICAgbWRcbi8vICAgID4+IGJyZWFrcG9pbnQtbmV4dChzbSwgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KSlcbi8vICAgIG1kXG4vLyAgICA+PiBicmVha3BvaW50LW5leHQoc20sICRicmVha3BvaW50LW5hbWVzOiAoeHMgc20gbWQgbGcgeGwpKVxuLy8gICAgbWRcbkBmdW5jdGlvbiBicmVha3BvaW50LW5leHQoJG5hbWUsICRicmVha3BvaW50czogJGdyaWQtYnJlYWtwb2ludHMsICRicmVha3BvaW50LW5hbWVzOiBtYXAta2V5cygkYnJlYWtwb2ludHMpKSB7XG4gICRuOiBpbmRleCgkYnJlYWtwb2ludC1uYW1lcywgJG5hbWUpO1xuICBAcmV0dXJuIGlmKCRuIDwgbGVuZ3RoKCRicmVha3BvaW50LW5hbWVzKSwgbnRoKCRicmVha3BvaW50LW5hbWVzLCAkbiArIDEpLCBudWxsKTtcbn1cblxuLy8gTWluaW11bSBicmVha3BvaW50IHdpZHRoLiBOdWxsIGZvciB0aGUgc21hbGxlc3QgKGZpcnN0KSBicmVha3BvaW50LlxuLy9cbi8vICAgID4+IGJyZWFrcG9pbnQtbWluKHNtLCAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpKVxuLy8gICAgNTc2cHhcbkBmdW5jdGlvbiBicmVha3BvaW50LW1pbigkbmFtZSwgJGJyZWFrcG9pbnRzOiAkZ3JpZC1icmVha3BvaW50cykge1xuICAkbWluOiBtYXAtZ2V0KCRicmVha3BvaW50cywgJG5hbWUpO1xuICBAcmV0dXJuIGlmKCRtaW4gIT0gMCwgJG1pbiwgbnVsbCk7XG59XG5cbi8vIE1heGltdW0gYnJlYWtwb2ludCB3aWR0aC4gTnVsbCBmb3IgdGhlIGxhcmdlc3QgKGxhc3QpIGJyZWFrcG9pbnQuXG4vLyBUaGUgbWF4aW11bSB2YWx1ZSBpcyBjYWxjdWxhdGVkIGFzIHRoZSBtaW5pbXVtIG9mIHRoZSBuZXh0IG9uZSBsZXNzIDAuMDJweFxuLy8gdG8gd29yayBhcm91bmQgdGhlIGxpbWl0YXRpb25zIG9mIGBtaW4tYCBhbmQgYG1heC1gIHByZWZpeGVzIGFuZCB2aWV3cG9ydHMgd2l0aCBmcmFjdGlvbmFsIHdpZHRocy5cbi8vIFNlZSBodHRwczovL3d3dy53My5vcmcvVFIvbWVkaWFxdWVyaWVzLTQvI21xLW1pbi1tYXhcbi8vIFVzZXMgMC4wMnB4IHJhdGhlciB0aGFuIDAuMDFweCB0byB3b3JrIGFyb3VuZCBhIGN1cnJlbnQgcm91bmRpbmcgYnVnIGluIFNhZmFyaS5cbi8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTc4MjYxXG4vL1xuLy8gICAgPj4gYnJlYWtwb2ludC1tYXgoc20sICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXG4vLyAgICA3NjcuOThweFxuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtbWF4KCRuYW1lLCAkYnJlYWtwb2ludHM6ICRncmlkLWJyZWFrcG9pbnRzKSB7XG4gICRuZXh0OiBicmVha3BvaW50LW5leHQoJG5hbWUsICRicmVha3BvaW50cyk7XG4gIEByZXR1cm4gaWYoJG5leHQsIGJyZWFrcG9pbnQtbWluKCRuZXh0LCAkYnJlYWtwb2ludHMpIC0gLjAycHgsIG51bGwpO1xufVxuXG4vLyBSZXR1cm5zIGEgYmxhbmsgc3RyaW5nIGlmIHNtYWxsZXN0IGJyZWFrcG9pbnQsIG90aGVyd2lzZSByZXR1cm5zIHRoZSBuYW1lIHdpdGggYSBkYXNoIGluIGZyb250LlxuLy8gVXNlZnVsIGZvciBtYWtpbmcgcmVzcG9uc2l2ZSB1dGlsaXRpZXMuXG4vL1xuLy8gICAgPj4gYnJlYWtwb2ludC1pbmZpeCh4cywgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KSlcbi8vICAgIFwiXCIgIChSZXR1cm5zIGEgYmxhbmsgc3RyaW5nKVxuLy8gICAgPj4gYnJlYWtwb2ludC1pbmZpeChzbSwgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KSlcbi8vICAgIFwiLXNtXCJcbkBmdW5jdGlvbiBicmVha3BvaW50LWluZml4KCRuYW1lLCAkYnJlYWtwb2ludHM6ICRncmlkLWJyZWFrcG9pbnRzKSB7XG4gIEByZXR1cm4gaWYoYnJlYWtwb2ludC1taW4oJG5hbWUsICRicmVha3BvaW50cykgPT0gbnVsbCwgXCJcIiwgXCItI3skbmFtZX1cIik7XG59XG5cbi8vIE1lZGlhIG9mIGF0IGxlYXN0IHRoZSBtaW5pbXVtIGJyZWFrcG9pbnQgd2lkdGguIE5vIHF1ZXJ5IGZvciB0aGUgc21hbGxlc3QgYnJlYWtwb2ludC5cbi8vIE1ha2VzIHRoZSBAY29udGVudCBhcHBseSB0byB0aGUgZ2l2ZW4gYnJlYWtwb2ludCBhbmQgd2lkZXIuXG5AbWl4aW4gbWVkaWEtYnJlYWtwb2ludC11cCgkbmFtZSwgJGJyZWFrcG9pbnRzOiAkZ3JpZC1icmVha3BvaW50cykge1xuICAkbWluOiBicmVha3BvaW50LW1pbigkbmFtZSwgJGJyZWFrcG9pbnRzKTtcbiAgQGlmICRtaW4ge1xuICAgIEBtZWRpYSAobWluLXdpZHRoOiAkbWluKSB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5cbi8vIE1lZGlhIG9mIGF0IG1vc3QgdGhlIG1heGltdW0gYnJlYWtwb2ludCB3aWR0aC4gTm8gcXVlcnkgZm9yIHRoZSBsYXJnZXN0IGJyZWFrcG9pbnQuXG4vLyBNYWtlcyB0aGUgQGNvbnRlbnQgYXBwbHkgdG8gdGhlIGdpdmVuIGJyZWFrcG9pbnQgYW5kIG5hcnJvd2VyLlxuQG1peGluIG1lZGlhLWJyZWFrcG9pbnQtZG93bigkbmFtZSwgJGJyZWFrcG9pbnRzOiAkZ3JpZC1icmVha3BvaW50cykge1xuICAkbWF4OiBicmVha3BvaW50LW1heCgkbmFtZSwgJGJyZWFrcG9pbnRzKTtcbiAgQGlmICRtYXgge1xuICAgIEBtZWRpYSAobWF4LXdpZHRoOiAkbWF4KSB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5cbi8vIE1lZGlhIHRoYXQgc3BhbnMgbXVsdGlwbGUgYnJlYWtwb2ludCB3aWR0aHMuXG4vLyBNYWtlcyB0aGUgQGNvbnRlbnQgYXBwbHkgYmV0d2VlbiB0aGUgbWluIGFuZCBtYXggYnJlYWtwb2ludHNcbkBtaXhpbiBtZWRpYS1icmVha3BvaW50LWJldHdlZW4oJGxvd2VyLCAkdXBwZXIsICRicmVha3BvaW50czogJGdyaWQtYnJlYWtwb2ludHMpIHtcbiAgJG1pbjogYnJlYWtwb2ludC1taW4oJGxvd2VyLCAkYnJlYWtwb2ludHMpO1xuICAkbWF4OiBicmVha3BvaW50LW1heCgkdXBwZXIsICRicmVha3BvaW50cyk7XG5cbiAgQGlmICRtaW4gIT0gbnVsbCBhbmQgJG1heCAhPSBudWxsIHtcbiAgICBAbWVkaWEgKG1pbi13aWR0aDogJG1pbikgYW5kIChtYXgtd2lkdGg6ICRtYXgpIHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfSBAZWxzZSBpZiAkbWF4ID09IG51bGwge1xuICAgIEBpbmNsdWRlIG1lZGlhLWJyZWFrcG9pbnQtdXAoJGxvd2VyLCAkYnJlYWtwb2ludHMpIHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfSBAZWxzZSBpZiAkbWluID09IG51bGwge1xuICAgIEBpbmNsdWRlIG1lZGlhLWJyZWFrcG9pbnQtZG93bigkdXBwZXIsICRicmVha3BvaW50cykge1xuICAgICAgQGNvbnRlbnQ7XG4gICAgfVxuICB9XG59XG5cbi8vIE1lZGlhIGJldHdlZW4gdGhlIGJyZWFrcG9pbnQncyBtaW5pbXVtIGFuZCBtYXhpbXVtIHdpZHRocy5cbi8vIE5vIG1pbmltdW0gZm9yIHRoZSBzbWFsbGVzdCBicmVha3BvaW50LCBhbmQgbm8gbWF4aW11bSBmb3IgdGhlIGxhcmdlc3Qgb25lLlxuLy8gTWFrZXMgdGhlIEBjb250ZW50IGFwcGx5IG9ubHkgdG8gdGhlIGdpdmVuIGJyZWFrcG9pbnQsIG5vdCB2aWV3cG9ydHMgYW55IHdpZGVyIG9yIG5hcnJvd2VyLlxuQG1peGluIG1lZGlhLWJyZWFrcG9pbnQtb25seSgkbmFtZSwgJGJyZWFrcG9pbnRzOiAkZ3JpZC1icmVha3BvaW50cykge1xuICAkbWluOiBicmVha3BvaW50LW1pbigkbmFtZSwgJGJyZWFrcG9pbnRzKTtcbiAgJG1heDogYnJlYWtwb2ludC1tYXgoJG5hbWUsICRicmVha3BvaW50cyk7XG5cbiAgQGlmICRtaW4gIT0gbnVsbCBhbmQgJG1heCAhPSBudWxsIHtcbiAgICBAbWVkaWEgKG1pbi13aWR0aDogJG1pbikgYW5kIChtYXgtd2lkdGg6ICRtYXgpIHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfSBAZWxzZSBpZiAkbWF4ID09IG51bGwge1xuICAgIEBpbmNsdWRlIG1lZGlhLWJyZWFrcG9pbnQtdXAoJG5hbWUsICRicmVha3BvaW50cykge1xuICAgICAgQGNvbnRlbnQ7XG4gICAgfVxuICB9IEBlbHNlIGlmICRtaW4gPT0gbnVsbCB7XG4gICAgQGluY2x1ZGUgbWVkaWEtYnJlYWtwb2ludC1kb3duKCRuYW1lLCAkYnJlYWtwb2ludHMpIHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfVxufVxuIl19 */\"","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  SimpleChanges\n} from '@angular/core';\nimport {Subscription} from \"rxjs\";\nimport {TOSSimulatorBuild} from \"../../../shared/domain/tos/tos-build\";\nimport {faTrashAlt} from \"@fortawesome/free-solid-svg-icons\";\nimport {ITOSAttribute, ITOSJob, ITOSSkill} from \"../../../shared/domain/tos/tos-domain\";\nimport {TOSEntity} from \"../../../shared/domain/tos/tos-entity.model\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'app-skill-builder-job',\n  templateUrl: './skill-builder-job.component.html',\n  styleUrls: ['./skill-builder-job.component.scss']\n})\nexport class SkillBuilderJobComponent implements OnChanges, OnDestroy {\n\n  faTrashAlt = faTrashAlt;\n  TOSEntity = TOSEntity;\n\n  @Input() build: TOSSimulatorBuild;\n  @Input() job: ITOSJob;\n\n  attributes: ITOSAttribute[];\n  attributesUnlock: boolean[];\n  circles: number[];\n  skills: ITOSSkill[];\n  skillPoints: number;\n\n  subscriptionAttributes: Subscription;\n  subscriptionJob: Subscription;\n  subscriptionSkill: Subscription;\n  subscriptionSkills: Subscription;\n\n  constructor(private changeDetector: ChangeDetectorRef) { }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.build && this.job) {\n      this.subscriptionAttributes && this.subscriptionAttributes.unsubscribe();\n      this.subscriptionAttributes = this.job.Link_Attributes && this.job.Link_Attributes.subscribe(value => this.onAttributesChange(value));\n\n      this.subscriptionJob && this.subscriptionJob.unsubscribe();\n      this.subscriptionJob = this.build.Job$.subscribe(value => this.onJobChange(value));\n\n      this.subscriptionSkill && this.subscriptionSkill.unsubscribe();\n      this.subscriptionSkill = this.build.Skill$.subscribe(value => this.onSkillChange(value));\n\n      // Late init\n      this.onJobChange(null);\n      this.onSkillChange(null);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.changeDetector.detach();\n    this.subscriptionAttributes && this.subscriptionAttributes.unsubscribe();\n    this.subscriptionJob && this.subscriptionJob.unsubscribe();\n    this.subscriptionSkill && this.subscriptionSkill.unsubscribe();\n\n  }\n\n  onAttributesChange(value: ITOSAttribute[]) {\n    this.attributes = value.filter(value => !value.Link_Skills);\n    this.attributesUnlock = new Array(this.attributes.length);\n    this.changeDetector.markForCheck();\n    this.unlockAttributes(null);\n  }\n\n  onJobChange(value: ITOSJob) {\n    if (value == null || value.$ID == this.job.$ID) {\n      let ranks = this.build.jobRanks(this.job);\n      this.circles = Array.from({length: ranks.length}, (x, i) => i + 1);\n      this.skillPoints = this.build.skillPoints(this.job);\n\n      this.subscriptionSkills && this.subscriptionSkills.unsubscribe();\n      this.subscriptionSkills = this.job.Link_Skills.subscribe(value => this.onSkillsChange(value));\n    }\n\n    if (value) {\n      // We need to check whether the attribute has unlocked for every job change\n      // Note: due to attributes that depend on rank change, we can't specify only the job ID in here\n      this.unlockAttributes(null);\n    }\n  }\n\n  onSkillChange(value: ITOSSkill) {\n    if (value == null || this.job.Link_Skills$ID.indexOf(value.$ID) >= 0) {\n      this.skillPoints = this.build.skillPoints(this.job);\n    }\n\n    if (value) {\n      // We need to check whether the attribute has unlocked for every skill change\n      this.unlockAttributes([value.$ID_NAME]);\n    }\n  }\n\n  async onSkillsChange(skills: ITOSSkill[]) {\n    let skillsLevelMax = await Promise.all(skills.map(value => this.build.skillLevelMax$(value).toPromise()));\n\n    this.skills = skills\n      .filter((value, i) => skillsLevelMax[i] > 0)\n      .sort((a, b) => (a.Prop_UnlockClassLevel || a.Prop_UnlockGrade) - (b.Prop_UnlockClassLevel || b.Prop_UnlockGrade))\n\n    this.changeDetector.markForCheck();\n    this.unlockAttributes(this.skills.map(value => value.$ID_NAME));\n  }\n\n  onRemoveClick(event: MouseEvent) {\n    event.preventDefault();\n    this.build.jobRemove$(this.build.jobRanks(this.job).pop());\n  }\n\n  async unlockAttributes(args: string[]) {\n    if (!this.attributes) return;\n\n    let dirty = false;\n\n    for (let i = 0; i < this.attributes.length; i ++) {\n      let attribute = this.attributes[i];\n\n      if (args == null || attribute.unlockAvailableCheck(args)) {\n        dirty = true;\n        this.attributesUnlock[i] = await attribute.unlockAvailable(this.build).toPromise();\n      }\n    }\n\n    if (dirty)\n      this.changeDetector.markForCheck();\n  }\n\n}\n","module.exports = \"<div class=\\\"position-relative d-flex flex-row m-auto\\\" style=\\\"width: 215px\\\">\\n  <!-- Plus and Minus -->\\n  <div class=\\\"position-absolute d-flex d-sm-none flex-column h-100 justify-content-around tos-skill-controls\\\">\\n    <a href=\\\"#plus\\\" (click)=\\\"onSkillLevelIncrementClick($event, 1)\\\">\\n      <fa-icon class=\\\"align-top\\\" [icon]=\\\"faPlusCircle\\\"></fa-icon>\\n    </a>\\n    <a href=\\\"#minus\\\" (click)=\\\"onSkillLevelIncrementClick($event, -1)\\\">\\n      <fa-icon class=\\\"align-bottom\\\" [icon]=\\\"faMinusCircle\\\"></fa-icon>\\n    </a>\\n  </div>\\n\\n  <!-- Icon & Level -->\\n  <div class=\\\"position-relative tos-skill mr-1\\\" style=\\\"cursor: pointer\\\"\\n       (click)=\\\"onSkillLevelIncrementClick($event, 1)\\\"\\n       (contextmenu)=\\\"onSkillLevelIncrementClick($event, -1)\\\"\\n       (mouseenter)=\\\"build.tooltip(skill, true)\\\"\\n       (mouseleave)=\\\"build.tooltip(skill, false)\\\">\\n    <img [src]=\\\"skill.Icon\\\" />\\n    <h6 class=\\\"font-weight-bold mb-0 pointer-disable position-absolute text-center text-outline text-white w-100\\\">\\n      {{ skillLevel  + '/' + skillLevelMax }}\\n    </h6>\\n  </div>\\n\\n  <!-- Name & Attributes -->\\n  <div class=\\\"d-flex flex-column\\\">\\n    <a [routerLink]=\\\"skill.Url\\\">{{ skill.Name }}</a>\\n    <div>\\n      <a *ngFor=\\\"let attribute of attributes; index as i; trackBy: TOSEntity.trackBy\\\" [routerLink]=\\\"attribute.Url\\\">\\n        <img class=\\\"tos-attribute\\\"\\n             [src]=\\\"attribute.Icon\\\"\\n             [style.opacity]=\\\"attributesUnlock && attributesUnlock[i] ? 1 : 0.5\\\"\\n             (mouseenter)=\\\"$event.relatedTarget && build.tooltip(attribute, true)\\\"\\n             (mouseleave)=\\\"$event.relatedTarget && build.tooltip(attribute, false)\\\"/>\\n      </a>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \".tos-skill-controls {\\n  left: -1.5rem;\\n}\\n\\n.tos-skill-controls fa-icon {\\n  font-size: 1.25rem;\\n  line-height: 1;\\n}\\n\\n.tos-attribute {\\n  width: 1.5rem;\\n  height: 1.5rem;\\n}\\n\\n.tos-skill {\\n  width: 3rem;\\n  height: 3rem;\\n}\\n\\n.tos-skill img {\\n  width: inherit;\\n  height: inherit;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n\\n.tos-skill h6 {\\n  bottom: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9za2lsbC1zaW11bGF0b3Ivc2tpbGwtYnVpbGRlci9za2lsbC1idWlsZGVyLXNraWxsL3NraWxsLWJ1aWxkZXItc2tpbGwuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3NraWxsLXNpbXVsYXRvci9za2lsbC1idWlsZGVyL3NraWxsLWJ1aWxkZXItc2tpbGwvc2tpbGwtYnVpbGRlci1za2lsbC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7Q0NDRDs7QURDRDtFQUNFLG1CQUFBO0VBQ0EsZUFBQTtDQ0VEOztBRENEO0VBQ0UsY0FBQTtFQUNBLGVBQUE7Q0NFRDs7QURDRDtFQUNFLFlBQUE7RUFDQSxhQUFBO0NDRUQ7O0FEQUQ7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSwwQkFBQTtLQUFBLHVCQUFBO01BQUEsc0JBQUE7VUFBQSxrQkFBQTtDQ0dEOztBREREO0VBQ0UsVUFBQTtDQ0lEIiwiZmlsZSI6InNyYy9hcHAvc2tpbGwtc2ltdWxhdG9yL3NraWxsLWJ1aWxkZXIvc2tpbGwtYnVpbGRlci1za2lsbC9za2lsbC1idWlsZGVyLXNraWxsLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRvcy1za2lsbC1jb250cm9scyB7XG4gIGxlZnQ6IC0xLjVyZW07XG59XG4udG9zLXNraWxsLWNvbnRyb2xzIGZhLWljb24ge1xuICBmb250LXNpemU6IDEuMjVyZW07XG4gIGxpbmUtaGVpZ2h0OiAxO1xufVxuXG4udG9zLWF0dHJpYnV0ZSB7XG4gIHdpZHRoOiAxLjVyZW07XG4gIGhlaWdodDogMS41cmVtO1xufVxuXG4udG9zLXNraWxsIHtcbiAgd2lkdGg6IDNyZW07XG4gIGhlaWdodDogM3JlbTtcbn1cbi50b3Mtc2tpbGwgaW1nIHtcbiAgd2lkdGg6IGluaGVyaXQ7XG4gIGhlaWdodDogaW5oZXJpdDtcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XG59XG4udG9zLXNraWxsIGg2IHtcbiAgYm90dG9tOiAwO1xufVxuIiwiLnRvcy1za2lsbC1jb250cm9scyB7XG4gIGxlZnQ6IC0xLjVyZW07XG59XG5cbi50b3Mtc2tpbGwtY29udHJvbHMgZmEtaWNvbiB7XG4gIGZvbnQtc2l6ZTogMS4yNXJlbTtcbiAgbGluZS1oZWlnaHQ6IDE7XG59XG5cbi50b3MtYXR0cmlidXRlIHtcbiAgd2lkdGg6IDEuNXJlbTtcbiAgaGVpZ2h0OiAxLjVyZW07XG59XG5cbi50b3Mtc2tpbGwge1xuICB3aWR0aDogM3JlbTtcbiAgaGVpZ2h0OiAzcmVtO1xufVxuXG4udG9zLXNraWxsIGltZyB7XG4gIHdpZHRoOiBpbmhlcml0O1xuICBoZWlnaHQ6IGluaGVyaXQ7XG4gIHVzZXItc2VsZWN0OiBub25lO1xufVxuXG4udG9zLXNraWxsIGg2IHtcbiAgYm90dG9tOiAwO1xufSJdfQ== */\"","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  SimpleChanges\n} from '@angular/core';\nimport {Subscription} from \"rxjs\";\nimport {TOSSimulatorBuild} from \"../../../shared/domain/tos/tos-build\";\nimport {ITOSAttribute, ITOSJob, ITOSSkill} from \"../../../shared/domain/tos/tos-domain\";\nimport {TOSEntity} from \"../../../shared/domain/tos/tos-entity.model\";\nimport {faMinusCircle, faPlusCircle} from \"@fortawesome/free-solid-svg-icons\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'app-skill-builder-skill',\n  templateUrl: './skill-builder-skill.component.html',\n  styleUrls: ['./skill-builder-skill.component.scss']\n})\nexport class SkillBuilderSkillComponent implements OnChanges, OnDestroy {\n  readonly faPlusCircle = faPlusCircle;\n  readonly faMinusCircle = faMinusCircle;\n  readonly TOSEntity = TOSEntity;\n\n  @Input() build: TOSSimulatorBuild;\n  @Input() job: ITOSJob;\n  @Input() skill: ITOSSkill;\n\n  attributes: ITOSAttribute[];\n  attributesUnlock: boolean[];\n  skillLevel: number = 0;\n  skillLevelMax: number = 0;\n\n  subscriptionAttributes: Subscription;\n  subscriptionJob: Subscription;\n  subscriptionSkill: Subscription;\n\n  constructor(private changeDetector: ChangeDetectorRef) {}\n\n  onSkillLevelIncrementClick(event: MouseEvent, delta: number) {\n    event.preventDefault();\n    this.build.skillLevelIncrement$(this.skill, delta, false, true);\n  }\n\n  onAttributesChange(value: ITOSAttribute[]) {\n    this.attributes = value || [];\n    this.attributesUnlock = new Array(this.attributes.length);\n    this.unlockAttributes(null);\n  }\n\n  async onJobChange(value: ITOSJob) {\n    if (value == null || value.$ID == this.skill.Link_Job$ID) {\n      this.skillLevelMax = await this.build.skillLevelMax$(this.skill).toPromise();\n      this.changeDetector.markForCheck();\n    }\n\n    if (value) {\n      // We need to check whether the attribute has unlocked for every skill change\n      this.unlockAttributes([value.$ID_NAME]);\n    }\n  }\n\n  onSkillChange(value: ITOSSkill) {\n    if (value == null || value.$ID == this.skill.$ID)\n      this.skillLevel = this.build.skillLevel(this.skill);\n\n    if (value) {\n      // We need to check whether the attribute has unlocked for every skill change\n      this.unlockAttributes([value.$ID_NAME]);\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.build && this.build || changes.skill && this.skill) {\n      this.subscriptionAttributes && this.subscriptionAttributes.unsubscribe();\n      this.subscriptionAttributes = this.skill.Link_Attributes && this.skill.Link_Attributes.subscribe(value => this.onAttributesChange(value));\n\n      this.subscriptionJob && this.subscriptionJob.unsubscribe();\n      this.subscriptionJob = this.build.Job$.subscribe(value => this.onJobChange(value));\n\n      this.subscriptionSkill && this.subscriptionSkill.unsubscribe();\n      this.subscriptionSkill = this.build.Skill$.subscribe(value => this.onSkillChange(value));\n\n      // Late init\n      this.onJobChange(null);\n      this.onSkillChange(null);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.changeDetector.detach();\n    this.subscriptionAttributes && this.subscriptionAttributes.unsubscribe();\n    this.subscriptionJob && this.subscriptionJob.unsubscribe();\n    this.subscriptionSkill && this.subscriptionSkill.unsubscribe();\n  }\n\n  async unlockAttributes(args: string[]) {\n    if (!this.attributes) return;\n\n    let dirty = false;\n\n    for (let i = 0; i < this.attributes.length; i ++) {\n      let attribute = this.attributes[i];\n\n      if (args == null || attribute.unlockAvailableCheck(args)) {\n        dirty = true;\n        this.attributesUnlock[i] = await attribute.unlockAvailable(this.build).toPromise();\n      }\n    }\n\n    if (dirty)\n      this.changeDetector.markForCheck();\n  }\n\n}\n","module.exports = \"<!-- Points -->\\n<div class=\\\"row justify-content-center mb-2\\\" [style.opacity]=\\\"rank > 0 ? 1 : 0\\\">\\n  <div class=\\\"badge badge-primary\\\" style=\\\"font-size: inherit; background: #634539\\\">\\n    {{ statsPoints }} points\\n  </div>\\n</div>\\n\\n<div class=\\\"row justify-content-center\\\">\\n  <div *ngFor=\\\"let stat of stats\\\" class=\\\"position-relative\\\" style=\\\"width: 4rem\\\">\\n\\n    <!-- Icon -->\\n    <img class=\\\"position-absolute w-100\\\" style=\\\"left: 0; top: 0; cursor: pointer\\\"\\n         [src]=\\\"TOSStatService.icon(stat)\\\" />\\n\\n    <!-- Label -->\\n    <div class=\\\"position-relative font-weight-bold text-center w-100\\\" style=\\\"color: #634539\\\">\\n      {{ stat }}\\n    </div>\\n\\n    <!-- Value -->\\n    <form>\\n      <input type=\\\"number\\\" max=\\\"9999\\\" min=\\\"{{ build.StatsBase[stat] }}\\\" name=\\\"value\\\"\\n             class=\\\"position-relative bg-transparent border-0 font-weight-bold text-center text-outline text-white w-100\\\"\\n             style=\\\"font-size: 1.5rem; line-height: 4rem;\\\"\\n             [attr.disabled]=\\\"!rank ? '' : null\\\"\\n             [ngModel]=\\\"rank ? build.Stats[stat] : ''\\\"\\n             (change)=\\\"onIncrementChange($event, stat)\\\"\\n              />\\n    </form>\\n\\n    <!-- Plus and Minus -->\\n    <div class=\\\"d-flex flex-row w-100 justify-content-around mt-1 tos-skill-controls\\\">\\n      <a [ngClass]=\\\"{ 'invisible': !rank || !build.statsIncrementLevelAvailable(stat, 1) }\\\" href=\\\"#plus\\\"\\n         (click)=\\\"onIncrementClick($event, stat, 1)\\\">\\n        <fa-icon class=\\\"align-top\\\" [icon]=\\\"faPlusCircle\\\"></fa-icon>\\n      </a>\\n      <a [ngClass]=\\\"{ 'invisible': !rank || !build.statsIncrementLevelAvailable(stat, -1) }\\\" href=\\\"#minus\\\"\\n         (click)=\\\"onIncrementClick($event, stat, -1)\\\">\\n        <fa-icon class=\\\"align-bottom\\\" [icon]=\\\"faMinusCircle\\\"></fa-icon>\\n      </a>\\n    </div>\\n\\n  </div>\\n</div>\\n\"","module.exports = \"input[type=number]:focus {\\n  outline: none;\\n}\\n\\ninput[type=number]::-webkit-inner-spin-button,\\ninput[type=number]::-webkit-outer-spin-button {\\n  -webkit-appearance: none;\\n  margin: 0;\\n}\\n\\n.tos-skill-controls fa-icon {\\n  font-size: 1.25rem;\\n  line-height: 1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mdW5naS9FL1Rvc1Byb2plY3QvVG9zR3VydUJhc2UvdG9zLWRhdGFiYXNlL3Rvcy13ZWIvc3JjL2FwcC9za2lsbC1zaW11bGF0b3Ivc2tpbGwtYnVpbGRlci9za2lsbC1idWlsZGVyLXN0YXQtc2VsZWN0b3Ivc2tpbGwtYnVpbGRlci1zdGF0LXNlbGVjdG9yLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9za2lsbC1zaW11bGF0b3Ivc2tpbGwtYnVpbGRlci9za2lsbC1idWlsZGVyLXN0YXQtc2VsZWN0b3Ivc2tpbGwtYnVpbGRlci1zdGF0LXNlbGVjdG9yLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBQTtDQ0NEOztBREVEOztFQUVFLHlCQUFBO0VBQ0EsVUFBQTtDQ0NEOztBREVEO0VBQ0UsbUJBQUE7RUFDQSxlQUFBO0NDQ0QiLCJmaWxlIjoic3JjL2FwcC9za2lsbC1zaW11bGF0b3Ivc2tpbGwtYnVpbGRlci9za2lsbC1idWlsZGVyLXN0YXQtc2VsZWN0b3Ivc2tpbGwtYnVpbGRlci1zdGF0LXNlbGVjdG9yLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW5wdXRbdHlwZT1udW1iZXJdOmZvY3VzIHtcbiAgb3V0bGluZTogbm9uZTtcbn1cblxuaW5wdXRbdHlwZT1udW1iZXJdOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uLFxuaW5wdXRbdHlwZT1udW1iZXJdOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9uIHtcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICBtYXJnaW46IDA7XG59XG5cbi50b3Mtc2tpbGwtY29udHJvbHMgZmEtaWNvbiB7XG4gIGZvbnQtc2l6ZTogMS4yNXJlbTtcbiAgbGluZS1oZWlnaHQ6IDE7XG59XG4iLCJpbnB1dFt0eXBlPW51bWJlcl06Zm9jdXMge1xuICBvdXRsaW5lOiBub25lO1xufVxuXG5pbnB1dFt0eXBlPW51bWJlcl06Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24sXG5pbnB1dFt0eXBlPW51bWJlcl06Oi13ZWJraXQtb3V0ZXItc3Bpbi1idXR0b24ge1xuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XG4gIG1hcmdpbjogMDtcbn1cblxuLnRvcy1za2lsbC1jb250cm9scyBmYS1pY29uIHtcbiAgZm9udC1zaXplOiAxLjI1cmVtO1xuICBsaW5lLWhlaWdodDogMTtcbn0iXX0= */\"","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  SimpleChanges\n} from '@angular/core';\nimport {TOSSimulatorBuild} from \"../../../shared/domain/tos/tos-build\";\nimport {Subscription} from \"rxjs\";\nimport {TOSStat, TOSStatService} from \"../../../shared/domain/tos/tos-domain\";\nimport {faMinusCircle, faPlusCircle} from \"@fortawesome/free-solid-svg-icons\";\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'app-skill-builder-stat-selector',\n  templateUrl: './skill-builder-stat-selector.component.html',\n  styleUrls: ['./skill-builder-stat-selector.component.scss']\n})\nexport class SkillBuilderStatSelectorComponent implements OnChanges, OnDestroy {\n  readonly faMinusCircle = faMinusCircle;\n  readonly faPlusCircle = faPlusCircle;\n  readonly TOSStatService = TOSStatService;\n\n  rank: number;\n  stats: string[] = [TOSStat.STR, TOSStat.CON, TOSStat.INT, TOSStat.SPR, TOSStat.DEX];\n  statsPoints: number;\n\n  @Input() build: TOSSimulatorBuild;\n\n  private subscriptionJobs: Subscription;\n  private subscriptionStatsPoints: Subscription;\n\n  constructor(private changeDetector: ChangeDetectorRef) {}\n\n  onIncrementChange(event: Event, stat: string) {\n    let max = 9999;\n    let min = this.build.StatsBase[stat];\n\n    let value = Math.max(min, Math.min(max, +event.target['value']));\n    let delta = value - this.build.Stats[stat];\n\n    if (this.build.statsIncrementLevelAvailable(stat, delta))\n      this.build.statsIncrementLevel(stat, delta);\n\n    event.target['value'] = value;\n  }\n\n  onIncrementClick(event: MouseEvent, stat: string, delta: number) {\n    event.preventDefault();\n\n    delta *= event.shiftKey\n      ? 10\n      : event.ctrlKey\n        ? 100\n        : 1;\n\n    if (this.build.statsIncrementLevelAvailable(stat, delta))\n      this.build.statsIncrementLevel(stat, delta);\n  }\n\n  onJobChange() {\n    this.rank = this.build.Rank;\n    this.changeDetector.markForCheck();\n  }\n\n  onStatsPointsChange(value: number) {\n    this.statsPoints = value;\n    this.changeDetector.markForCheck();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    this.ngOnDestroy();\n\n    if (changes.build) {\n      this.subscriptionJobs = this.build.Job$.subscribe(value => this.onJobChange());\n      this.subscriptionStatsPoints = this.build.StatsPoints$.subscribe(value => this.onStatsPointsChange(value))\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptionJobs && this.subscriptionJobs.unsubscribe();\n    this.subscriptionStatsPoints && this.subscriptionStatsPoints.unsubscribe();\n  }\n\n}\n","module.exports = \"<div class=\\\"row justify-content-between justify-content-sm-end ml-0 mr-0 mb-3\\\">\\n  <button type=\\\"button\\\" class=\\\"btn d-none d-sm-inline-block mr-3\\\"\\n          [ngClass]=\\\"{\\n            'btn-primary': !sharingAsImage,\\n            'btn-warning': sharingAsImage\\n          }\\\"\\n          [disabled]=\\\"!jobs || !jobs.length\\\"\\n          (click)=\\\"shareAsImage()\\\">\\n    <fa-icon class=\\\"mr-1\\\" [icon]=\\\"faImage\\\"></fa-icon>\\n    <span>{{ sharingAsImage ? 'Generating Image...' : 'Share as Image' }}</span>\\n  </button>\\n\\n  <button type=\\\"button\\\" class=\\\"btn\\\"\\n          [ngClass]=\\\"{\\n            'btn-primary': !sharingAsUrl && !tinyUrl,\\n            'btn-warning': sharingAsUrl,\\n            'btn-success': tinyUrl\\n          }\\\"\\n          [disabled]=\\\"!jobs || !jobs.length\\\"\\n          (click)=\\\"shareAsUrl()\\\">\\n    <fa-icon class=\\\"mr-1\\\" [icon]=\\\"faLink\\\"></fa-icon>\\n    <span>{{ sharingAsUrl ? 'Generating URL...' : tinyUrl ? 'Copy URL' : 'Share as URL'}}</span>\\n  </button>\\n</div>\\n\\n<!-- Select Stats -->\\n<app-skill-builder-stat-selector class=\\\"d-block mb-3\\\"\\n                                 [build]=\\\"build\\\"></app-skill-builder-stat-selector>\\n\\n<!-- Remove a Rank -->\\n<app-skill-builder-job-rank-list class=\\\"d-none d-sm-block mb-3\\\"\\n                                     [build]=\\\"build\\\"></app-skill-builder-job-rank-list>\\n\\n<!-- Select a Job -->\\n<app-skill-builder-job-selector [build]=\\\"build\\\"></app-skill-builder-job-selector>\\n\\n<!-- Jobs -->\\n<app-skill-builder-job *ngFor=\\\"let job of jobs; trackBy: TOSEntity.trackBy\\\"\\n                       [build]=\\\"build\\\"\\n                       [job]=\\\"job\\\"></app-skill-builder-job>\\n\\n<!-- Tooltip -->\\n<app-entity-tooltip class=\\\"d-none d-md-block\\\"\\n                    [build]=\\\"build\\\"\\n                    [debug]=\\\"false\\\"\\n                    [tooltip]=\\\"tooltip\\\"></app-entity-tooltip>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NraWxsLXNpbXVsYXRvci9za2lsbC1idWlsZGVyL3NraWxsLWJ1aWxkZXIuY29tcG9uZW50LnNjc3MifQ== */\"","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, OnDestroy, OnInit} from '@angular/core';\nimport {Subscription} from \"rxjs\";\nimport {TOSEntity} from \"../../shared/domain/tos/tos-entity.model\";\nimport {TOSSimulatorBuild} from \"../../shared/domain/tos/tos-build\";\nimport {ActivatedRoute, Params, Router} from \"@angular/router\";\nimport {faImage, faLink} from \"@fortawesome/free-solid-svg-icons\";\nimport {TosNeetService} from \"../../shared/service/integrations/tos-neet.service\";\nimport {TinyUrlService} from \"../../shared/service/integrations/tiny-url.service\";\nimport {ClipboardService} from \"../../shared/service/clipboard.service\";\nimport {ITOSJob} from \"../../shared/domain/tos/tos-domain\";\nimport {TOSRegionService} from \"../../shared/domain/tos-region\";\n\nconst PARAM_BUILD = 'build';\nconst PARAM_TINYURL = 'tinyurl';\nconst PARAM_TOSNEET = 'tosneet';\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'app-builder',\n  templateUrl: './skill-builder.component.html',\n  styleUrls: ['./skill-builder.component.scss']\n})\nexport class SkillBuilderComponent implements OnDestroy, OnInit {\n\n  faImage = faImage;\n  faLink = faLink;\n  TOSEntity = TOSEntity;\n\n  build: TOSSimulatorBuild = TOSSimulatorBuild.new(TOSRegionService.get());\n  buildChanged: number = 0;\n  jobs: ITOSJob[] = [];\n\n  sharingAsImage: boolean;\n  sharingAsUrl: boolean;\n  tinyUrl: string;\n\n  tooltip: TOSEntity;\n\n  subscriptionSkill: Subscription;\n  subscriptionQueryParams: Subscription;\n  subscriptionJob: Subscription;\n  subscriptionStatsPoints: Subscription;\n  subscriptionTooltip: Subscription;\n\n  constructor(\n    private changeDetector: ChangeDetectorRef,\n    private clipboardService: ClipboardService,\n    private element: ElementRef,\n    private route: ActivatedRoute,\n    private router: Router,\n    private tinyUrlService: TinyUrlService,\n    private tosNeetService: TosNeetService,\n  ) {}\n\n  private buildSubscribe() {\n    this.subscriptionSkill && this.subscriptionSkill.unsubscribe();\n    this.subscriptionJob && this.subscriptionJob.unsubscribe();\n    this.subscriptionStatsPoints && this.subscriptionStatsPoints.unsubscribe();\n    this.subscriptionTooltip && this.subscriptionTooltip.unsubscribe();\n\n    this.subscriptionSkill = this.build.Skill$.subscribe(value => this.onBuildChange());\n    this.subscriptionJob = this.build.Job$.subscribe(value => this.onJobChange(value));\n    this.subscriptionStatsPoints = this.build.StatsPoints$.subscribe(value => this.onBuildChange());\n    this.subscriptionTooltip = this.build.Tooltip.subscribe(value => this.tooltip = value);\n  }\n\n  shareAsImage() {\n    let element = this.element.nativeElement as Element;\n    let options = {\n      backgroundColor: window.getComputedStyle(document.body).backgroundColor,\n      foreignObjectRendering: false,\n      ignoreElements: (element: Element) => ['button', 'fa-icon'].indexOf(element.tagName.toLowerCase()) > -1,\n      logging: false,\n      windowWidth: 1920,\n    };\n\n    // Configure ultra-wide design\n    this.element.nativeElement.style.display = 'block';\n    this.element.nativeElement.style.maxWidth = '1750px';\n    this.element.nativeElement.style.width = '1750px';\n    this.sharingAsImage = true;\n\n    window['html2canvas'](element, options).then(canvas => {\n      let a = document.createElement(\"a\");\n          a.href = canvas.toDataURL(\"image/png\");\n          a.download = 'build.png';\n          a.click();\n\n      // Revert ultra-wide design\n      this.element.nativeElement.style.display = '';\n      this.element.nativeElement.style.maxWidth = '';\n      this.element.nativeElement.style.width = '';\n\n      this.sharingAsImage = false;\n      this.changeDetector.detectChanges();\n    });\n  }\n\n  async shareAsUrl() {\n    if (this.tinyUrl) {\n      this.clipboardService.write(this.tinyUrl);\n      return;\n    }\n\n    let urlBase = location.protocol + '//' + location.host + location.pathname;\n    let url = urlBase + '?' + PARAM_BUILD + '=' + await TOSSimulatorBuild.base64Encode(this.build);\n\n    this.tinyUrl = null;\n    this.sharingAsUrl = true;\n\n    this.tinyUrlService\n      .create(url)\n      .subscribe(value => {\n        this.tinyUrl = urlBase + '?' + PARAM_TINYURL + '=' + value;\n        this.sharingAsUrl = false;\n\n        this.changeDetector.detectChanges();\n      })\n  }\n\n  async onBuildChange() {\n    let encoded = await TOSSimulatorBuild.base64Encode(this.build);\n\n    if (this.router.url.indexOf(encoded) == -1) {\n      let queryParams = {};\n          queryParams[PARAM_BUILD] = encoded;\n\n      this.router.navigate(['.'], { queryParams, relativeTo: this.route });\n      this.buildChanged ++;\n    }\n  }\n\n  onJobChange(job: ITOSJob) {\n    let jobs = this.build.Jobs;\n    let unique = [];\n    let uniqueIDs = [];\n\n    for (let job of jobs)\n      if (uniqueIDs.indexOf(job.$ID) == -1) {\n        unique.push(job);\n        uniqueIDs.push(job.$ID);\n      }\n\n    this.jobs = unique;\n    this.onBuildChange();\n  }\n\n  async onQueryParamsChange(value: Params) {\n    if (this.buildChanged > 0) {\n      this.buildChanged --;\n      this.tinyUrl = null;\n      return;\n    }\n\n    if (value[PARAM_TOSNEET]) {\n      this.build = await this.tosNeetService.decode(value[PARAM_TOSNEET]).toPromise();\n      this.buildSubscribe();\n    } else if (value[PARAM_TINYURL]) {\n      this.tinyUrlService\n        .parse(value[PARAM_TINYURL])\n        .subscribe(url => {\n          let queryParams = {};\n              queryParams[PARAM_BUILD] = url.split('?' + PARAM_BUILD + '=')[1];\n\n          this.router.navigate(['.'], { queryParams, relativeTo: this.route });\n        });\n    } else if (value[PARAM_BUILD]) {\n      this.build = await TOSSimulatorBuild.base64Decode(TOSRegionService.get(), value[PARAM_BUILD]).toPromise();\n      this.buildSubscribe();\n    } else {\n      this.build = TOSSimulatorBuild.new(TOSRegionService.get());\n      this.buildSubscribe();\n    }\n\n    this.changeDetector.detectChanges();\n  }\n\n  ngOnInit() {\n    this.subscriptionQueryParams = this.route.queryParams.subscribe(value => this.onQueryParamsChange(value));\n    this.buildSubscribe();\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptionSkill && this.subscriptionSkill.unsubscribe();\n    this.subscriptionQueryParams && this.subscriptionQueryParams.unsubscribe();\n    this.subscriptionJob && this.subscriptionJob.unsubscribe();\n    this.subscriptionStatsPoints && this.subscriptionStatsPoints.unsubscribe();\n    this.subscriptionTooltip && this.subscriptionTooltip.unsubscribe();\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {SkillBuilderComponent} from \"./skill-builder/skill-builder.component\";\nimport {SharedModule} from \"../shared/shared.module\";\nimport {SkillBuilderJobComponent} from \"./skill-builder/skill-builder-job/skill-builder-job.component\";\nimport {SkillBuilderSkillComponent} from './skill-builder/skill-builder-skill/skill-builder-skill.component';\nimport {SkillBuilderJobSelectorComponent} from \"./skill-builder/skill-builder-job-selector/skill-builder-job-selector.component\";\nimport {SkillBuilderJobRankComponent} from \"./skill-builder/skill-builder-job-rank/skill-builder-job-rank.component\";\nimport {SkillBuilderJobRankListComponent} from \"./skill-builder/skill-builder-job-rank-list/skill-builder-job-rank-list.component\";\nimport {SkillBuilderStatSelectorComponent} from './skill-builder/skill-builder-stat-selector/skill-builder-stat-selector.component';\n\n@NgModule({\n  imports: [\n    SharedModule,\n  ],\n  declarations: [\n    SkillBuilderComponent,\n    SkillBuilderJobComponent,\n    SkillBuilderJobSelectorComponent,\n    SkillBuilderJobRankComponent,\n    SkillBuilderSkillComponent,\n    SkillBuilderJobRankListComponent,\n    SkillBuilderStatSelectorComponent\n  ]\n})\nexport class SkillSimulatorModule { }\n","import {Routes} from '@angular/router';\nimport {SkillBuilderComponent} from \"./skill-builder/skill-builder.component\";\nimport {RouteService} from \"../shared/service/route.service\";\n\nexport const ROUTES_SKILL_SIMULATOR: Routes = [\n  {\n    path: '',\n    canActivate: [RouteService],\n    canDeactivate: [RouteService],\n    component: SkillBuilderComponent,\n  },\n];\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import {enableProdMode} from '@angular/core';\nimport {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\n\nimport {AppModule} from './app/app.module';\nimport {environment} from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}